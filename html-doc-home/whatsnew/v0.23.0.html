

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>What’s new in 0.23.0 (May 15, 2018) &#8212; pandas 1.0.0rc0+111.ge72cd7c52 documentation</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link rel="stylesheet" href="../_static/sphinx-bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/pandas.css" />
    <link href="../_static/css/custom.css" rel="stylesheet">
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="v0.22.0 (December 29, 2017)" href="v0.22.0.html" />
    <link rel="prev" title="What’s new in 0.23.1 (June 12, 2018)" href="v0.23.1.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">

<a class="navbar-brand" href="../index.html">
  <img src="../_static/pandas.svg" class="logo" alt="logo">
</a>

<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>

<div id="navbar-menu" class="collapse navbar-collapse">
  <ul id="navbar-main-elements" class="navbar-nav mr-auto">
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        1.0.0
      </a>
      <div class="dropdown-menu" aria-labelledby="navbarDropdown" id="version-menu"></div>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="../index.html">Home</a>
    </li>
    
    
    <li class="nav-item ">
        <a class="nav-link" href="v1.1.0.html">What's New in 1.1.0</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../getting_started/index.html">Getting started</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../user_guide/index.html">User Guide</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../reference/index.html">API reference</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../development/index.html">Development</a>
    </li>
    
    <li class="nav-item active">
        <a class="nav-link" href="index.html">Release Notes</a>
    </li>
    
    
  </ul>
  <ul class="navbar-nav ml-auto">
    
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/pandas-dev/pandas" target="_blank" rel="noopener">
          <span><i class="fab fa-github-square"></i></span>
        </a>
      </li>
    
    
      <li class="nav-item">
        <a class="nav-link" href="https://twitter.com/pandas_dev" target="_blank" rel="noopener">
          <span><i class="fab fa-twitter-square"></i></span>
        </a>
      </li>
    
  </ul>
</div>
    </nav>

    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
      
      
      
      
      
      
      
      
        
      
      
    </ul>

</nav>
          </div>

          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage"><i class="fas fa-list"></i> On this page</div>
<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#new-features" class="nav-link">New features</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#json-read-write-round-trippable-with-orient-table" class="nav-link">JSON read/write round-trippable with orient='table'</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#assign-accepts-dependent-arguments" class="nav-link">.assign() accepts dependent arguments</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#merging-on-a-combination-of-columns-and-index-levels" class="nav-link">Merging on a combination of columns and index levels</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#sorting-by-a-combination-of-columns-and-index-levels" class="nav-link">Sorting by a combination of columns and index levels</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#extending-pandas-with-custom-types-experimental" class="nav-link">Extending pandas with custom types (experimental)</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#new-observed-keyword-for-excluding-unobserved-categories-in-groupby" class="nav-link">New observed keyword for excluding unobserved categories in groupby</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#rolling-expanding-apply-accepts-raw-false-to-pass-a-series-to-the-function" class="nav-link">Rolling/Expanding.apply() accepts raw=False to pass a Series to the function</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#dataframe-interpolate-has-gained-the-limit-area-kwarg" class="nav-link">DataFrame.interpolate has gained the limit_area kwarg</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#get-dummies-now-supports-dtype-argument" class="nav-link">get_dummies now supports dtype argument</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#timedelta-mod-method" class="nav-link">Timedelta mod method</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#rank-handles-inf-values-when-nan-are-present" class="nav-link">.rank() handles inf values when NaN are present</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#series-str-cat-has-gained-the-join-kwarg" class="nav-link">Series.str.cat has gained the join kwarg</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#dataframe-astype-performs-column-wise-conversion-to-categorical" class="nav-link">DataFrame.astype performs column-wise conversion to Categorical</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#other-enhancements" class="nav-link">Other enhancements</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#backwards-incompatible-api-changes" class="nav-link">Backwards incompatible API changes</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#dependencies-have-increased-minimum-versions" class="nav-link">Dependencies have increased minimum versions</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#instantiation-from-dicts-preserves-dict-insertion-order-for-python-3-6" class="nav-link">Instantiation from dicts preserves dict insertion order for python 3.6+</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#deprecate-panel" class="nav-link">Deprecate Panel</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#pandas-core-common-removals" class="nav-link">pandas.core.common removals</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#changes-to-make-output-of-dataframe-apply-consistent" class="nav-link">Changes to make output of DataFrame.apply consistent</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#concatenation-will-no-longer-sort" class="nav-link">Concatenation will no longer sort</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#build-changes" class="nav-link">Build changes</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#index-division-by-zero-fills-correctly" class="nav-link">Index division by zero fills correctly</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#extraction-of-matching-patterns-from-strings" class="nav-link">Extraction of matching patterns from strings</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#default-value-for-the-ordered-parameter-of-categoricaldtype" class="nav-link">Default value for the ordered parameter of CategoricalDtype</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#better-pretty-printing-of-dataframes-in-a-terminal" class="nav-link">Better pretty-printing of DataFrames in a terminal</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#datetimelike-api-changes" class="nav-link">Datetimelike API changes</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#other-api-changes" class="nav-link">Other API changes</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#deprecations" class="nav-link">Deprecations</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#removal-of-prior-version-deprecations-changes" class="nav-link">Removal of prior version deprecations/changes</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#performance-improvements" class="nav-link">Performance improvements</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#documentation-changes" class="nav-link">Documentation changes</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#bug-fixes" class="nav-link">Bug fixes</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#categorical" class="nav-link">Categorical</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#datetimelike" class="nav-link">Datetimelike</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#timedelta" class="nav-link">Timedelta</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#timezones" class="nav-link">Timezones</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#offsets" class="nav-link">Offsets</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#numeric" class="nav-link">Numeric</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#strings" class="nav-link">Strings</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#indexing" class="nav-link">Indexing</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#multiindex" class="nav-link">MultiIndex</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#i-o" class="nav-link">I/O</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#plotting" class="nav-link">Plotting</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#groupby-resample-rolling" class="nav-link">Groupby/resample/rolling</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#sparse" class="nav-link">Sparse</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#reshaping" class="nav-link">Reshaping</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#other" class="nav-link">Other</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#contributors" class="nav-link">Contributors</a>
        </li>
    
    </ul>
</nav>
              
            </div>

          <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
              <div>
                
  <div class="section" id="what-s-new-in-0-23-0-may-15-2018">
<span id="whatsnew-0230"></span><h1>What’s new in 0.23.0 (May 15, 2018)<a class="headerlink" href="#what-s-new-in-0-23-0-may-15-2018" title="Permalink to this headline">¶</a></h1>
<p>This is a major release from 0.22.0 and includes a number of API changes,
deprecations, new features, enhancements, and performance improvements along
with a large number of bug fixes. We recommend that all users upgrade to this
version.</p>
<p>Highlights include:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#whatsnew-0230-enhancements-round-trippable-json"><span class="std std-ref">Round-trippable JSON format with ‘table’ orient</span></a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew-0230-api-breaking-dict-insertion-order"><span class="std std-ref">Instantiation from dicts respects order for Python 3.6+</span></a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew-0230-enhancements-assign-dependent"><span class="std std-ref">Dependent column arguments for assign</span></a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew-0230-enhancements-merge-on-columns-and-levels"><span class="std std-ref">Merging / sorting on a combination of columns and index levels</span></a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew-023-enhancements-extension"><span class="std std-ref">Extending pandas with custom types</span></a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew-0230-enhancements-categorical-grouping"><span class="std std-ref">Excluding unobserved categories from groupby</span></a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew-0230-api-breaking-apply"><span class="std std-ref">Changes to make output shape of DataFrame.apply consistent</span></a>.</p></li>
</ul>
<p>Check the <a class="reference internal" href="#whatsnew-0230-api-breaking"><span class="std std-ref">API Changes</span></a> and <a class="reference internal" href="#whatsnew-0230-deprecations"><span class="std std-ref">deprecations</span></a> before updating.</p>
<div class="alert alert-warning">
<p class="admonition-title">Warning</p>
<p>Starting January 1, 2019, pandas feature releases will support Python 3 only.
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24/install.html#install-dropping-27">Dropping Python 2.7</a> for more.</p>
</div>
<div class="contents local topic" id="what-s-new-in-v0-23-0">
<p class="topic-title first">What’s new in v0.23.0</p>
<ul class="simple">
<li><p><a class="reference internal" href="#new-features" id="id2">New features</a></p>
<ul>
<li><p><a class="reference internal" href="#json-read-write-round-trippable-with-orient-table" id="id3">JSON read/write round-trippable with <code class="docutils literal notranslate"><span class="pre">orient='table'</span></code></a></p></li>
<li><p><a class="reference internal" href="#assign-accepts-dependent-arguments" id="id4"><code class="docutils literal notranslate"><span class="pre">.assign()</span></code> accepts dependent arguments</a></p></li>
<li><p><a class="reference internal" href="#merging-on-a-combination-of-columns-and-index-levels" id="id5">Merging on a combination of columns and index levels</a></p></li>
<li><p><a class="reference internal" href="#sorting-by-a-combination-of-columns-and-index-levels" id="id6">Sorting by a combination of columns and index levels</a></p></li>
<li><p><a class="reference internal" href="#extending-pandas-with-custom-types-experimental" id="id7">Extending pandas with custom types (experimental)</a></p></li>
<li><p><a class="reference internal" href="#new-observed-keyword-for-excluding-unobserved-categories-in-groupby" id="id8">New <code class="docutils literal notranslate"><span class="pre">observed</span></code> keyword for excluding unobserved categories in <code class="docutils literal notranslate"><span class="pre">groupby</span></code></a></p></li>
<li><p><a class="reference internal" href="#rolling-expanding-apply-accepts-raw-false-to-pass-a-series-to-the-function" id="id9">Rolling/Expanding.apply() accepts <code class="docutils literal notranslate"><span class="pre">raw=False</span></code> to pass a <code class="docutils literal notranslate"><span class="pre">Series</span></code> to the function</a></p></li>
<li><p><a class="reference internal" href="#dataframe-interpolate-has-gained-the-limit-area-kwarg" id="id10"><code class="docutils literal notranslate"><span class="pre">DataFrame.interpolate</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">limit_area</span></code> kwarg</a></p></li>
<li><p><a class="reference internal" href="#get-dummies-now-supports-dtype-argument" id="id11"><code class="docutils literal notranslate"><span class="pre">get_dummies</span></code> now supports <code class="docutils literal notranslate"><span class="pre">dtype</span></code> argument</a></p></li>
<li><p><a class="reference internal" href="#timedelta-mod-method" id="id12">Timedelta mod method</a></p></li>
<li><p><a class="reference internal" href="#rank-handles-inf-values-when-nan-are-present" id="id13"><code class="docutils literal notranslate"><span class="pre">.rank()</span></code> handles <code class="docutils literal notranslate"><span class="pre">inf</span></code> values when <code class="docutils literal notranslate"><span class="pre">NaN</span></code> are present</a></p></li>
<li><p><a class="reference internal" href="#series-str-cat-has-gained-the-join-kwarg" id="id14"><code class="docutils literal notranslate"><span class="pre">Series.str.cat</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">join</span></code> kwarg</a></p></li>
<li><p><a class="reference internal" href="#dataframe-astype-performs-column-wise-conversion-to-categorical" id="id15"><code class="docutils literal notranslate"><span class="pre">DataFrame.astype</span></code> performs column-wise conversion to <code class="docutils literal notranslate"><span class="pre">Categorical</span></code></a></p></li>
<li><p><a class="reference internal" href="#other-enhancements" id="id16">Other enhancements</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#backwards-incompatible-api-changes" id="id17">Backwards incompatible API changes</a></p>
<ul>
<li><p><a class="reference internal" href="#dependencies-have-increased-minimum-versions" id="id18">Dependencies have increased minimum versions</a></p></li>
<li><p><a class="reference internal" href="#instantiation-from-dicts-preserves-dict-insertion-order-for-python-3-6" id="id19">Instantiation from dicts preserves dict insertion order for python 3.6+</a></p></li>
<li><p><a class="reference internal" href="#deprecate-panel" id="id20">Deprecate Panel</a></p></li>
<li><p><a class="reference internal" href="#pandas-core-common-removals" id="id21">pandas.core.common removals</a></p></li>
<li><p><a class="reference internal" href="#changes-to-make-output-of-dataframe-apply-consistent" id="id22">Changes to make output of <code class="docutils literal notranslate"><span class="pre">DataFrame.apply</span></code> consistent</a></p></li>
<li><p><a class="reference internal" href="#concatenation-will-no-longer-sort" id="id23">Concatenation will no longer sort</a></p></li>
<li><p><a class="reference internal" href="#build-changes" id="id24">Build changes</a></p></li>
<li><p><a class="reference internal" href="#index-division-by-zero-fills-correctly" id="id25">Index division by zero fills correctly</a></p></li>
<li><p><a class="reference internal" href="#extraction-of-matching-patterns-from-strings" id="id26">Extraction of matching patterns from strings</a></p></li>
<li><p><a class="reference internal" href="#default-value-for-the-ordered-parameter-of-categoricaldtype" id="id27">Default value for the <code class="docutils literal notranslate"><span class="pre">ordered</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">CategoricalDtype</span></code></a></p></li>
<li><p><a class="reference internal" href="#better-pretty-printing-of-dataframes-in-a-terminal" id="id28">Better pretty-printing of DataFrames in a terminal</a></p></li>
<li><p><a class="reference internal" href="#datetimelike-api-changes" id="id29">Datetimelike API changes</a></p></li>
<li><p><a class="reference internal" href="#other-api-changes" id="id30">Other API changes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#deprecations" id="id31">Deprecations</a></p></li>
<li><p><a class="reference internal" href="#removal-of-prior-version-deprecations-changes" id="id32">Removal of prior version deprecations/changes</a></p></li>
<li><p><a class="reference internal" href="#performance-improvements" id="id33">Performance improvements</a></p></li>
<li><p><a class="reference internal" href="#documentation-changes" id="id34">Documentation changes</a></p></li>
<li><p><a class="reference internal" href="#bug-fixes" id="id35">Bug fixes</a></p>
<ul>
<li><p><a class="reference internal" href="#categorical" id="id36">Categorical</a></p></li>
<li><p><a class="reference internal" href="#datetimelike" id="id37">Datetimelike</a></p></li>
<li><p><a class="reference internal" href="#timedelta" id="id38">Timedelta</a></p></li>
<li><p><a class="reference internal" href="#timezones" id="id39">Timezones</a></p></li>
<li><p><a class="reference internal" href="#offsets" id="id40">Offsets</a></p></li>
<li><p><a class="reference internal" href="#numeric" id="id41">Numeric</a></p></li>
<li><p><a class="reference internal" href="#strings" id="id42">Strings</a></p></li>
<li><p><a class="reference internal" href="#indexing" id="id43">Indexing</a></p></li>
<li><p><a class="reference internal" href="#multiindex" id="id44">MultiIndex</a></p></li>
<li><p><a class="reference internal" href="#i-o" id="id45">I/O</a></p></li>
<li><p><a class="reference internal" href="#plotting" id="id46">Plotting</a></p></li>
<li><p><a class="reference internal" href="#groupby-resample-rolling" id="id47">Groupby/resample/rolling</a></p></li>
<li><p><a class="reference internal" href="#sparse" id="id48">Sparse</a></p></li>
<li><p><a class="reference internal" href="#reshaping" id="id49">Reshaping</a></p></li>
<li><p><a class="reference internal" href="#other" id="id50">Other</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#contributors" id="id51">Contributors</a></p></li>
</ul>
</div>
<div class="section" id="new-features">
<span id="whatsnew-0230-enhancements"></span><h2>New features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="json-read-write-round-trippable-with-orient-table">
<span id="whatsnew-0230-enhancements-round-trippable-json"></span><h3>JSON read/write round-trippable with <code class="docutils literal notranslate"><span class="pre">orient='table'</span></code><a class="headerlink" href="#json-read-write-round-trippable-with-orient-table" title="Permalink to this headline">¶</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> can now be written to and subsequently read back via JSON while preserving metadata through usage of the <code class="docutils literal notranslate"><span class="pre">orient='table'</span></code> argument (see <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18912">GH18912</a> and <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9146">GH9146</a>). Previously, none of the available <code class="docutils literal notranslate"><span class="pre">orient</span></code> values guaranteed the preservation of dtypes and index names, amongst other metadata.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">   ...: </span>                   <span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">],</span>
<span class="gp">   ...: </span>                   <span class="s1">&#39;baz&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2018-01-01&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ...: </span>                   <span class="s1">&#39;qux&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])},</span>
<span class="gp">   ...: </span>                  <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;idx&#39;</span><span class="p">))</span>
<span class="gp">   ...: </span>

<span class="gp">In [2]: </span><span class="n">df</span>
<span class="gh">Out[2]: </span><span class="go"></span>
<span class="go">     foo bar        baz qux</span>
<span class="go">idx                        </span>
<span class="go">0      1   a 2018-01-01   a</span>
<span class="go">1      2   b 2018-01-02   b</span>
<span class="go">2      3   c 2018-01-03   c</span>
<span class="go">3      4   d 2018-01-04   c</span>

<span class="go">[4 rows x 4 columns]</span>

<span class="gp">In [3]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[3]: </span><span class="go"></span>
<span class="go">foo             int64</span>
<span class="go">bar            object</span>
<span class="go">baz    datetime64[ns]</span>
<span class="go">qux          category</span>
<span class="go">Length: 4, dtype: object</span>

<span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>

<span class="gp">In [5]: </span><span class="n">new_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="n">new_df</span>
<span class="gh">Out[6]: </span><span class="go"></span>
<span class="go">     foo bar        baz qux</span>
<span class="go">idx                        </span>
<span class="go">0      1   a 2018-01-01   a</span>
<span class="go">1      2   b 2018-01-02   b</span>
<span class="go">2      3   c 2018-01-03   c</span>
<span class="go">3      4   d 2018-01-04   c</span>

<span class="go">[4 rows x 4 columns]</span>

<span class="gp">In [7]: </span><span class="n">new_df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[7]: </span><span class="go"></span>
<span class="go">foo             int64</span>
<span class="go">bar            object</span>
<span class="go">baz    datetime64[ns]</span>
<span class="go">qux          category</span>
<span class="go">Length: 4, dtype: object</span>
</pre></div>
</div>
<p>Please note that the string <cite>index</cite> is not supported with the round trip format, as it is used by default in <code class="docutils literal notranslate"><span class="pre">write_json</span></code> to indicate a missing index name.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;index&#39;</span>

<span class="gp">In [9]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">new_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="n">new_df</span>
<span class="gh">Out[11]: </span><span class="go"></span>
<span class="go">   foo bar        baz qux</span>
<span class="go">0    1   a 2018-01-01   a</span>
<span class="go">1    2   b 2018-01-02   b</span>
<span class="go">2    3   c 2018-01-03   c</span>
<span class="go">3    4   d 2018-01-04   c</span>

<span class="go">[4 rows x 4 columns]</span>

<span class="gp">In [12]: </span><span class="n">new_df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[12]: </span><span class="go"></span>
<span class="go">foo             int64</span>
<span class="go">bar            object</span>
<span class="go">baz    datetime64[ns]</span>
<span class="go">qux          category</span>
<span class="go">Length: 4, dtype: object</span>
</pre></div>
</div>
</div>
<div class="section" id="assign-accepts-dependent-arguments">
<span id="whatsnew-0230-enhancements-assign-dependent"></span><h3><code class="docutils literal notranslate"><span class="pre">.assign()</span></code> accepts dependent arguments<a class="headerlink" href="#assign-accepts-dependent-arguments" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.assign()</span></code> now accepts dependent keyword arguments for python version later than 3.6 (see also <a class="reference external" href="https://www.python.org/dev/peps/pep-0468/">PEP 468</a>). Later keyword arguments may now refer to earlier ones if the argument is a callable. See the
<a class="reference internal" href="../getting_started/dsintro.html#dsintro-chained-assignment"><span class="std std-ref">documentation here</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14207">GH14207</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>

<span class="gp">In [14]: </span><span class="n">df</span>
<span class="gh">Out[14]: </span><span class="go"></span>
<span class="go">   A</span>
<span class="go">0  1</span>
<span class="go">1  2</span>
<span class="go">2  3</span>

<span class="go">[3 rows x 1 columns]</span>

<span class="gp">In [15]: </span><span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">B</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">])</span>
<span class="gh">Out[15]: </span><span class="go"></span>
<span class="go">   A  B  C</span>
<span class="go">0  1  1  2</span>
<span class="go">1  2  2  4</span>
<span class="go">2  3  3  6</span>

<span class="go">[3 rows x 3 columns]</span>
</pre></div>
</div>
<div class="alert alert-warning">
<p class="admonition-title">Warning</p>
<p>This may subtly change the behavior of your code when you’re
using <code class="docutils literal notranslate"><span class="pre">.assign()</span></code> to update an existing column. Previously, callables
referring to other variables being updated would get the “old” values</p>
<p>Previous behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>

<span class="gp">In [3]: </span><span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">A</span><span class="o">=</span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">A</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">A</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[3]:</span>
<span class="go">   A  C</span>
<span class="go">0  2 -1</span>
<span class="go">1  3 -2</span>
<span class="go">2  4 -3</span>
</pre></div>
</div>
<p>New behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">A</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">A</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">A</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[16]: </span><span class="go"></span>
<span class="go">   A  C</span>
<span class="go">0  2 -2</span>
<span class="go">1  3 -3</span>
<span class="go">2  4 -4</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="merging-on-a-combination-of-columns-and-index-levels">
<span id="whatsnew-0230-enhancements-merge-on-columns-and-levels"></span><h3>Merging on a combination of columns and index levels<a class="headerlink" href="#merging-on-a-combination-of-columns-and-index-levels" title="Permalink to this headline">¶</a></h3>
<p>Strings passed to <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.merge()</span></code> as the <code class="docutils literal notranslate"><span class="pre">on</span></code>, <code class="docutils literal notranslate"><span class="pre">left_on</span></code>, and <code class="docutils literal notranslate"><span class="pre">right_on</span></code>
parameters may now refer to either column names or index level names.
This enables merging <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> instances on a combination of index levels
and columns without resetting indexes. See the <a class="reference internal" href="../user_guide/merging.html#merging-merge-on-columns-and-levels"><span class="std std-ref">Merge on columns and
levels</span></a> documentation section.
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14355">GH14355</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="n">left_index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K1&#39;</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;key1&#39;</span><span class="p">)</span>

<span class="gp">In [18]: </span><span class="n">left</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;A0&#39;</span><span class="p">,</span> <span class="s1">&#39;A1&#39;</span><span class="p">,</span> <span class="s1">&#39;A2&#39;</span><span class="p">,</span> <span class="s1">&#39;A3&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>                     <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B0&#39;</span><span class="p">,</span> <span class="s1">&#39;B1&#39;</span><span class="p">,</span> <span class="s1">&#39;B2&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>                     <span class="s1">&#39;key2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K1&#39;</span><span class="p">,</span> <span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K1&#39;</span><span class="p">]},</span>
<span class="gp">   ....: </span>                    <span class="n">index</span><span class="o">=</span><span class="n">left_index</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [19]: </span><span class="n">right_index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K1&#39;</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;key1&#39;</span><span class="p">)</span>

<span class="gp">In [20]: </span><span class="n">right</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;C0&#39;</span><span class="p">,</span> <span class="s1">&#39;C1&#39;</span><span class="p">,</span> <span class="s1">&#39;C2&#39;</span><span class="p">,</span> <span class="s1">&#39;C3&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>                      <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;D0&#39;</span><span class="p">,</span> <span class="s1">&#39;D1&#39;</span><span class="p">,</span> <span class="s1">&#39;D2&#39;</span><span class="p">,</span> <span class="s1">&#39;D3&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>                      <span class="s1">&#39;key2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K1&#39;</span><span class="p">]},</span>
<span class="gp">   ....: </span>                     <span class="n">index</span><span class="o">=</span><span class="n">right_index</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [21]: </span><span class="n">left</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;key1&#39;</span><span class="p">,</span> <span class="s1">&#39;key2&#39;</span><span class="p">])</span>
<span class="gh">Out[21]: </span><span class="go"></span>
<span class="go">       A   B key2   C   D</span>
<span class="go">key1                     </span>
<span class="go">K0    A0  B0   K0  C0  D0</span>
<span class="go">K1    A2  B2   K0  C1  D1</span>
<span class="go">K2    A3  B3   K1  C3  D3</span>

<span class="go">[3 rows x 5 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="sorting-by-a-combination-of-columns-and-index-levels">
<span id="whatsnew-0230-enhancements-sort-by-columns-and-levels"></span><h3>Sorting by a combination of columns and index levels<a class="headerlink" href="#sorting-by-a-combination-of-columns-and-index-levels" title="Permalink to this headline">¶</a></h3>
<p>Strings passed to <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.sort_values()</span></code> as the <code class="docutils literal notranslate"><span class="pre">by</span></code> parameter may
now refer to either column names or index level names.  This enables sorting
<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> instances by a combination of index levels and columns without
resetting indexes. See the <a class="reference internal" href="../getting_started/basics.html#basics-sort-indexes-and-values"><span class="std std-ref">Sorting by Indexes and Values</span></a> documentation section.
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14353">GH14353</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># Build MultiIndex</span>
<span class="gp">In [22]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">([(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
<span class="gp">   ....: </span>                                 <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="gp">   ....: </span>

<span class="gp">In [23]: </span><span class="n">idx</span><span class="o">.</span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;second&#39;</span><span class="p">]</span>

<span class="go"># Build DataFrame</span>
<span class="gp">In [24]: </span><span class="n">df_multi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)},</span>
<span class="gp">   ....: </span>                        <span class="n">index</span><span class="o">=</span><span class="n">idx</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [25]: </span><span class="n">df_multi</span>
<span class="gh">Out[25]: </span><span class="go"></span>
<span class="go">              A</span>
<span class="go">first second   </span>
<span class="go">a     1       6</span>
<span class="go">      2       5</span>
<span class="go">      2       4</span>
<span class="go">b     2       3</span>
<span class="go">      1       2</span>
<span class="go">      1       1</span>

<span class="go">[6 rows x 1 columns]</span>

<span class="go"># Sort by &#39;second&#39; (index) and &#39;A&#39; (column)</span>
<span class="gp">In [26]: </span><span class="n">df_multi</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;second&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">])</span>
<span class="gh">Out[26]: </span><span class="go"></span>
<span class="go">              A</span>
<span class="go">first second   </span>
<span class="go">b     1       1</span>
<span class="go">      1       2</span>
<span class="go">a     1       6</span>
<span class="go">b     2       3</span>
<span class="go">a     2       4</span>
<span class="go">      2       5</span>

<span class="go">[6 rows x 1 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="extending-pandas-with-custom-types-experimental">
<span id="whatsnew-023-enhancements-extension"></span><h3>Extending pandas with custom types (experimental)<a class="headerlink" href="#extending-pandas-with-custom-types-experimental" title="Permalink to this headline">¶</a></h3>
<p>Pandas now supports storing array-like objects that aren’t necessarily 1-D NumPy
arrays as columns in a DataFrame or values in a Series. This allows third-party
libraries to implement extensions to NumPy’s types, similar to how pandas
implemented categoricals, datetimes with timezones, periods, and intervals.</p>
<p>As a demonstration, we’ll use <a class="reference external" href="https://cyberpandas.readthedocs.io/en/latest/">cyberpandas</a>, which provides an <code class="docutils literal notranslate"><span class="pre">IPArray</span></code> type
for storing ip addresses.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">cyberpandas</span> <span class="kn">import</span> <span class="n">IPArray</span>

<span class="gp">In [2]: </span><span class="n">values</span> <span class="o">=</span> <span class="n">IPArray</span><span class="p">([</span>
<span class="gp">   ...: </span>    <span class="mi">0</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="mi">3232235777</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="mi">42540766452641154071740215577757643572</span>
<span class="gp">   ...: </span><span class="p">])</span>
<span class="gp">   ...:</span>
<span class="gp">   ...:</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">IPArray</span></code> isn’t a normal 1-D NumPy array, but because it’s a pandas
<code class="xref py py-class docutils literal notranslate"><span class="pre">ExtensionArray</span></code>, it can be stored properly inside pandas’ containers.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">ser</span>
<span class="gh">Out[4]:</span>
<span class="go">0                         0.0.0.0</span>
<span class="go">1                     192.168.1.1</span>
<span class="go">2    2001:db8:85a3::8a2e:370:7334</span>
<span class="go">dtype: ip</span>
</pre></div>
</div>
<p>Notice that the dtype is <code class="docutils literal notranslate"><span class="pre">ip</span></code>. The missing value semantics of the underlying
array are respected:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">ser</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span>
<span class="gh">Out[5]:</span>
<span class="go">0     True</span>
<span class="go">1    False</span>
<span class="go">2    False</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
<p>For more, see the <a class="reference internal" href="../development/extending.html#extending-extension-types"><span class="std std-ref">extension types</span></a>
documentation. If you build an extension array, publicize it on our
<a class="reference internal" href="../ecosystem.html#ecosystem-extensions"><span class="std std-ref">ecosystem page</span></a>.</p>
</div>
<div class="section" id="new-observed-keyword-for-excluding-unobserved-categories-in-groupby">
<span id="whatsnew-0230-enhancements-categorical-grouping"></span><h3>New <code class="docutils literal notranslate"><span class="pre">observed</span></code> keyword for excluding unobserved categories in <code class="docutils literal notranslate"><span class="pre">groupby</span></code><a class="headerlink" href="#new-observed-keyword-for-excluding-unobserved-categories-in-groupby" title="Permalink to this headline">¶</a></h3>
<p>Grouping by a categorical includes the unobserved categories in the output.
When grouping by multiple categorical columns, this means you get the cartesian product of all the
categories, including combinations where there are no observations, which can result in a large
number of groups. We have added a keyword <code class="docutils literal notranslate"><span class="pre">observed</span></code> to control this behavior, it defaults to
<code class="docutils literal notranslate"><span class="pre">observed=False</span></code> for backward-compatibility. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14942">GH14942</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8138">GH8138</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15217">GH15217</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17594">GH17594</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8669">GH8669</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20583">GH20583</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20902">GH20902</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [27]: </span><span class="n">cat1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span>
<span class="gp">   ....: </span>                      <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [28]: </span><span class="n">cat2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">],</span>
<span class="gp">   ....: </span>                      <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [29]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="n">cat1</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="n">cat2</span><span class="p">,</span> <span class="s2">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>

<span class="gp">In [30]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>

<span class="gp">In [31]: </span><span class="n">df</span>
<span class="gh">Out[31]: </span><span class="go"></span>
<span class="go">   A  B  values    C</span>
<span class="go">0  a  c       1  foo</span>
<span class="go">1  a  d       2  bar</span>
<span class="go">2  b  c       3  foo</span>
<span class="go">3  b  d       4  bar</span>

<span class="go">[4 rows x 4 columns]</span>
</pre></div>
</div>
<p>To show all values, the previous behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [32]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span> <span class="n">observed</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="gh">Out[32]: </span><span class="go"></span>
<span class="go">         values</span>
<span class="go">A B C          </span>
<span class="go">a c bar     NaN</span>
<span class="go">    foo     1.0</span>
<span class="go">  d bar     1.0</span>
<span class="go">    foo     NaN</span>
<span class="go">  y bar     NaN</span>
<span class="go">...         ...</span>
<span class="go">z c foo     NaN</span>
<span class="go">  d bar     NaN</span>
<span class="go">    foo     NaN</span>
<span class="go">  y bar     NaN</span>
<span class="go">    foo     NaN</span>

<span class="go">[18 rows x 1 columns]</span>
</pre></div>
</div>
<p>To show only observed values:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [33]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span> <span class="n">observed</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="gh">Out[33]: </span><span class="go"></span>
<span class="go">         values</span>
<span class="go">A B C          </span>
<span class="go">a c foo       1</span>
<span class="go">  d bar       1</span>
<span class="go">b c foo       1</span>
<span class="go">  d bar       1</span>

<span class="go">[4 rows x 1 columns]</span>
</pre></div>
</div>
<p>For pivoting operations, this behavior is <em>already</em> controlled by the <code class="docutils literal notranslate"><span class="pre">dropna</span></code> keyword:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [34]: </span><span class="n">cat1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span>
<span class="gp">   ....: </span>                      <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [35]: </span><span class="n">cat2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">],</span>
<span class="gp">   ....: </span>                      <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [36]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="n">cat1</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="n">cat2</span><span class="p">,</span> <span class="s2">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>

<span class="gp">In [37]: </span><span class="n">df</span>
<span class="gh">Out[37]: </span><span class="go"></span>
<span class="go">   A  B  values</span>
<span class="go">0  a  c       1</span>
<span class="go">1  a  d       2</span>
<span class="go">2  b  c       3</span>
<span class="go">3  b  d       4</span>

<span class="go">[4 rows x 3 columns]</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [38]: </span><span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;values&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>               <span class="n">dropna</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="gh">Out[38]: </span><span class="go"></span>
<span class="go">     values</span>
<span class="go">A B        </span>
<span class="go">a c       1</span>
<span class="go">  d       2</span>
<span class="go">b c       3</span>
<span class="go">  d       4</span>

<span class="go">[4 rows x 1 columns]</span>

<span class="gp">In [39]: </span><span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;values&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>               <span class="n">dropna</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="gh">Out[39]: </span><span class="go"></span>
<span class="go">     values</span>
<span class="go">A B        </span>
<span class="go">a c     1.0</span>
<span class="go">  d     2.0</span>
<span class="go">  y     NaN</span>
<span class="go">b c     3.0</span>
<span class="go">  d     4.0</span>
<span class="go">  y     NaN</span>
<span class="go">z c     NaN</span>
<span class="go">  d     NaN</span>
<span class="go">  y     NaN</span>

<span class="go">[9 rows x 1 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="rolling-expanding-apply-accepts-raw-false-to-pass-a-series-to-the-function">
<span id="whatsnew-0230-enhancements-window-raw"></span><h3>Rolling/Expanding.apply() accepts <code class="docutils literal notranslate"><span class="pre">raw=False</span></code> to pass a <code class="docutils literal notranslate"><span class="pre">Series</span></code> to the function<a class="headerlink" href="#rolling-expanding-apply-accepts-raw-false-to-pass-a-series-to-the-function" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.rolling().apply()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.rolling().apply()</span></code>,
<code class="xref py py-func docutils literal notranslate"><span class="pre">Series.expanding().apply()</span></code>, and <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.expanding().apply()</span></code> have gained a <code class="docutils literal notranslate"><span class="pre">raw=None</span></code> parameter.
This is similar to <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFame.apply()</span></code>. This parameter, if <code class="docutils literal notranslate"><span class="pre">True</span></code> allows one to send a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> to the applied function. If <code class="docutils literal notranslate"><span class="pre">False</span></code> a <code class="docutils literal notranslate"><span class="pre">Series</span></code> will be passed. The
default is <code class="docutils literal notranslate"><span class="pre">None</span></code>, which preserves backward compatibility, so this will default to <code class="docutils literal notranslate"><span class="pre">True</span></code>, sending an <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code>.
In a future version the default will be changed to <code class="docutils literal notranslate"><span class="pre">False</span></code>, sending a <code class="docutils literal notranslate"><span class="pre">Series</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5071">GH5071</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20584">GH20584</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [40]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

<span class="gp">In [41]: </span><span class="n">s</span>
<span class="gh">Out[41]: </span><span class="go"></span>
<span class="go">1    0</span>
<span class="go">2    1</span>
<span class="go">3    2</span>
<span class="go">4    3</span>
<span class="go">5    4</span>
<span class="go">Length: 5, dtype: int64</span>
</pre></div>
</div>
<p>Pass a <code class="docutils literal notranslate"><span class="pre">Series</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [42]: </span><span class="n">s</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">raw</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gh">Out[42]: </span><span class="go"></span>
<span class="go">1    0.0</span>
<span class="go">2    1.0</span>
<span class="go">3    2.0</span>
<span class="go">4    3.0</span>
<span class="go">5    4.0</span>
<span class="go">Length: 5, dtype: float64</span>
</pre></div>
</div>
<p>Mimic the original behavior of passing a ndarray:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [43]: </span><span class="n">s</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">raw</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gh">Out[43]: </span><span class="go"></span>
<span class="go">1    0.0</span>
<span class="go">2    1.0</span>
<span class="go">3    2.0</span>
<span class="go">4    3.0</span>
<span class="go">5    4.0</span>
<span class="go">Length: 5, dtype: float64</span>
</pre></div>
</div>
</div>
<div class="section" id="dataframe-interpolate-has-gained-the-limit-area-kwarg">
<span id="whatsnew-0210-enhancements-limit-area"></span><h3><code class="docutils literal notranslate"><span class="pre">DataFrame.interpolate</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">limit_area</span></code> kwarg<a class="headerlink" href="#dataframe-interpolate-has-gained-the-limit-area-kwarg" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.interpolate()</span></code> has gained a <code class="docutils literal notranslate"><span class="pre">limit_area</span></code> parameter to allow further control of which <code class="docutils literal notranslate"><span class="pre">NaN</span></code> s are replaced.
Use <code class="docutils literal notranslate"><span class="pre">limit_area='inside'</span></code> to fill only NaNs surrounded by valid values or use <code class="docutils literal notranslate"><span class="pre">limit_area='outside'</span></code> to fill only <code class="docutils literal notranslate"><span class="pre">NaN</span></code> s
outside the existing valid values while preserving those inside.  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16284">GH16284</a>) See the <a class="reference internal" href="../user_guide/missing_data.html#missing-data-interp-limits"><span class="std std-ref">full documentation here</span></a>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [44]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span>
<span class="gp">   ....: </span>                 <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span>
<span class="gp">   ....: </span>

<span class="gp">In [45]: </span><span class="n">ser</span>
<span class="gh">Out[45]: </span><span class="go"></span>
<span class="go">0     NaN</span>
<span class="go">1     NaN</span>
<span class="go">2     5.0</span>
<span class="go">3     NaN</span>
<span class="go">4     NaN</span>
<span class="go">5     NaN</span>
<span class="go">6    13.0</span>
<span class="go">7     NaN</span>
<span class="go">8     NaN</span>
<span class="go">Length: 9, dtype: float64</span>
</pre></div>
</div>
<p>Fill one consecutive inside value in both directions</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [46]: </span><span class="n">ser</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">limit_direction</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">limit_area</span><span class="o">=</span><span class="s1">&#39;inside&#39;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[46]: </span><span class="go"></span>
<span class="go">0     NaN</span>
<span class="go">1     NaN</span>
<span class="go">2     5.0</span>
<span class="go">3     7.0</span>
<span class="go">4     NaN</span>
<span class="go">5    11.0</span>
<span class="go">6    13.0</span>
<span class="go">7     NaN</span>
<span class="go">8     NaN</span>
<span class="go">Length: 9, dtype: float64</span>
</pre></div>
</div>
<p>Fill all consecutive outside values backward</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [47]: </span><span class="n">ser</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">limit_direction</span><span class="o">=</span><span class="s1">&#39;backward&#39;</span><span class="p">,</span> <span class="n">limit_area</span><span class="o">=</span><span class="s1">&#39;outside&#39;</span><span class="p">)</span>
<span class="gh">Out[47]: </span><span class="go"></span>
<span class="go">0     5.0</span>
<span class="go">1     5.0</span>
<span class="go">2     5.0</span>
<span class="go">3     NaN</span>
<span class="go">4     NaN</span>
<span class="go">5     NaN</span>
<span class="go">6    13.0</span>
<span class="go">7     NaN</span>
<span class="go">8     NaN</span>
<span class="go">Length: 9, dtype: float64</span>
</pre></div>
</div>
<p>Fill all consecutive outside values in both directions</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [48]: </span><span class="n">ser</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">limit_direction</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">limit_area</span><span class="o">=</span><span class="s1">&#39;outside&#39;</span><span class="p">)</span>
<span class="gh">Out[48]: </span><span class="go"></span>
<span class="go">0     5.0</span>
<span class="go">1     5.0</span>
<span class="go">2     5.0</span>
<span class="go">3     NaN</span>
<span class="go">4     NaN</span>
<span class="go">5     NaN</span>
<span class="go">6    13.0</span>
<span class="go">7    13.0</span>
<span class="go">8    13.0</span>
<span class="go">Length: 9, dtype: float64</span>
</pre></div>
</div>
</div>
<div class="section" id="get-dummies-now-supports-dtype-argument">
<span id="whatsnew-0210-enhancements-get-dummies-dtype"></span><h3><code class="docutils literal notranslate"><span class="pre">get_dummies</span></code> now supports <code class="docutils literal notranslate"><span class="pre">dtype</span></code> argument<a class="headerlink" href="#get-dummies-now-supports-dtype-argument" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">get_dummies()</span></code> now accepts a <code class="docutils literal notranslate"><span class="pre">dtype</span></code> argument, which specifies a dtype for the new columns. The default remains uint8. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18330">GH18330</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [49]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>

<span class="gp">In [50]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[50]: </span><span class="go"></span>
<span class="go">a      int64</span>
<span class="go">b      int64</span>
<span class="go">c_5    uint8</span>
<span class="go">c_6    uint8</span>
<span class="go">Length: 4, dtype: object</span>

<span class="gp">In [51]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[51]: </span><span class="go"></span>
<span class="go">a      int64</span>
<span class="go">b      int64</span>
<span class="go">c_5     bool</span>
<span class="go">c_6     bool</span>
<span class="go">Length: 4, dtype: object</span>
</pre></div>
</div>
</div>
<div class="section" id="timedelta-mod-method">
<span id="whatsnew-0230-enhancements-timedelta-mod"></span><h3>Timedelta mod method<a class="headerlink" href="#timedelta-mod-method" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">mod</span></code> (%) and <code class="docutils literal notranslate"><span class="pre">divmod</span></code> operations are now defined on <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> objects
when operating with either timedelta-like or with numeric arguments.
See the <a class="reference internal" href="../user_guide/timedeltas.html#timedeltas-mod-divmod"><span class="std std-ref">documentation here</span></a>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19365">GH19365</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [52]: </span><span class="n">td</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">37</span><span class="p">)</span>

<span class="gp">In [53]: </span><span class="n">td</span> <span class="o">%</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="gh">Out[53]: </span><span class="go">Timedelta(&#39;0 days 00:15:00&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="rank-handles-inf-values-when-nan-are-present">
<span id="whatsnew-0230-enhancements-ran-inf"></span><h3><code class="docutils literal notranslate"><span class="pre">.rank()</span></code> handles <code class="docutils literal notranslate"><span class="pre">inf</span></code> values when <code class="docutils literal notranslate"><span class="pre">NaN</span></code> are present<a class="headerlink" href="#rank-handles-inf-values-when-nan-are-present" title="Permalink to this headline">¶</a></h3>
<p>In previous versions, <code class="docutils literal notranslate"><span class="pre">.rank()</span></code> would assign <code class="docutils literal notranslate"><span class="pre">inf</span></code> elements <code class="docutils literal notranslate"><span class="pre">NaN</span></code> as their ranks. Now ranks are calculated properly. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6945">GH6945</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [54]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">])</span>

<span class="gp">In [55]: </span><span class="n">s</span>
<span class="gh">Out[55]: </span><span class="go"></span>
<span class="go">0   -inf</span>
<span class="go">1    0.0</span>
<span class="go">2    1.0</span>
<span class="go">3    NaN</span>
<span class="go">4    inf</span>
<span class="go">Length: 5, dtype: float64</span>
</pre></div>
</div>
<p>Previous behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">s</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="gh">Out[11]:</span>
<span class="go">0    1.0</span>
<span class="go">1    2.0</span>
<span class="go">2    3.0</span>
<span class="go">3    NaN</span>
<span class="go">4    NaN</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>Current behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [56]: </span><span class="n">s</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="gh">Out[56]: </span><span class="go"></span>
<span class="go">0    1.0</span>
<span class="go">1    2.0</span>
<span class="go">2    3.0</span>
<span class="go">3    NaN</span>
<span class="go">4    4.0</span>
<span class="go">Length: 5, dtype: float64</span>
</pre></div>
</div>
<p>Furthermore, previously if you rank <code class="docutils literal notranslate"><span class="pre">inf</span></code> or <code class="docutils literal notranslate"><span class="pre">-inf</span></code> values together with <code class="docutils literal notranslate"><span class="pre">NaN</span></code> values, the calculation won’t distinguish <code class="docutils literal notranslate"><span class="pre">NaN</span></code> from infinity when using ‘top’ or ‘bottom’ argument.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [57]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">])</span>

<span class="gp">In [58]: </span><span class="n">s</span>
<span class="gh">Out[58]: </span><span class="go"></span>
<span class="go">0    NaN</span>
<span class="go">1    NaN</span>
<span class="go">2   -inf</span>
<span class="go">3   -inf</span>
<span class="go">Length: 4, dtype: float64</span>
</pre></div>
</div>
<p>Previous behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="n">s</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">na_option</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="gh">Out[15]:</span>
<span class="go">0    2.5</span>
<span class="go">1    2.5</span>
<span class="go">2    2.5</span>
<span class="go">3    2.5</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>Current behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [59]: </span><span class="n">s</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">na_option</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="gh">Out[59]: </span><span class="go"></span>
<span class="go">0    1.5</span>
<span class="go">1    1.5</span>
<span class="go">2    3.5</span>
<span class="go">3    3.5</span>
<span class="go">Length: 4, dtype: float64</span>
</pre></div>
</div>
<p>These bugs were squashed:</p>
<ul class="simple">
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.rank()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.rank()</span></code> when <code class="docutils literal notranslate"><span class="pre">method='dense'</span></code> and <code class="docutils literal notranslate"><span class="pre">pct=True</span></code> in which percentile ranks were not being used with the number of distinct observations (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15630">GH15630</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.rank()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.rank()</span></code> when <code class="docutils literal notranslate"><span class="pre">ascending='False'</span></code> failed to return correct ranks for infinity if <code class="docutils literal notranslate"><span class="pre">NaN</span></code> were present (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19538">GH19538</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrameGroupBy.rank()</span></code> where ranks were incorrect when both infinity and <code class="docutils literal notranslate"><span class="pre">NaN</span></code> were present (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20561">GH20561</a>)</p></li>
</ul>
</div>
<div class="section" id="series-str-cat-has-gained-the-join-kwarg">
<span id="whatsnew-0230-enhancements-str-cat-align"></span><h3><code class="docutils literal notranslate"><span class="pre">Series.str.cat</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">join</span></code> kwarg<a class="headerlink" href="#series-str-cat-has-gained-the-join-kwarg" title="Permalink to this headline">¶</a></h3>
<p>Previously, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.cat()</span></code> did not – in contrast to most of <code class="docutils literal notranslate"><span class="pre">pandas</span></code> – align <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> on their index before concatenation (see <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18657">GH18657</a>).
The method has now gained a keyword <code class="docutils literal notranslate"><span class="pre">join</span></code> to control the manner of alignment, see examples below and <a class="reference internal" href="../user_guide/text.html#text-concatenate"><span class="std std-ref">here</span></a>.</p>
<p>In v.0.23 <cite>join</cite> will default to None (meaning no alignment), but this default will change to <code class="docutils literal notranslate"><span class="pre">'left'</span></code> in a future version of pandas.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [60]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">])</span>

<span class="gp">In [61]: </span><span class="n">t</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>

<span class="gp">In [62]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gh">Out[62]: </span><span class="go"></span>
<span class="go">0    NaN</span>
<span class="go">1     bb</span>
<span class="go">2     cc</span>
<span class="go">3     dd</span>
<span class="go">Length: 4, dtype: object</span>

<span class="gp">In [63]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">join</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">na_rep</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="gh">Out[63]: </span><span class="go"></span>
<span class="go">0    a-</span>
<span class="go">1    bb</span>
<span class="go">2    cc</span>
<span class="go">3    dd</span>
<span class="go">Length: 4, dtype: object</span>
</pre></div>
</div>
<p>Furthermore, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.cat()</span></code> now works for <code class="docutils literal notranslate"><span class="pre">CategoricalIndex</span></code> as well (previously raised a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>; see <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20842">GH20842</a>).</p>
</div>
<div class="section" id="dataframe-astype-performs-column-wise-conversion-to-categorical">
<span id="whatsnew-0230-enhancements-astype-category"></span><h3><code class="docutils literal notranslate"><span class="pre">DataFrame.astype</span></code> performs column-wise conversion to <code class="docutils literal notranslate"><span class="pre">Categorical</span></code><a class="headerlink" href="#dataframe-astype-performs-column-wise-conversion-to-categorical" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code> can now perform column-wise conversion to <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> by supplying the string <code class="docutils literal notranslate"><span class="pre">'category'</span></code> or
a <code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalDtype</span></code>. Previously, attempting this would raise a <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code>. See the
<a class="reference internal" href="../user_guide/categorical.html#categorical-objectcreation"><span class="std std-ref">Object creation</span></a> section of the documentation for more details and examples. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12860">GH12860</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18099">GH18099</a>)</p>
<p>Supplying the string <code class="docutils literal notranslate"><span class="pre">'category'</span></code> performs column-wise conversion, with only labels appearing in a given column set as categories:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [64]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abca&#39;</span><span class="p">),</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;bccd&#39;</span><span class="p">)})</span>

<span class="gp">In [65]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="gp">In [66]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
<span class="gh">Out[66]: </span><span class="go">CategoricalDtype(categories=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], ordered=False)</span>

<span class="gp">In [67]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
<span class="gh">Out[67]: </span><span class="go">CategoricalDtype(categories=[&#39;b&#39;, &#39;c&#39;, &#39;d&#39;], ordered=False)</span>
</pre></div>
</div>
<p>Supplying a <code class="docutils literal notranslate"><span class="pre">CategoricalDtype</span></code> will make the categories in each column consistent with the supplied dtype:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [68]: </span><span class="kn">from</span> <span class="nn">pandas.api.types</span> <span class="kn">import</span> <span class="n">CategoricalDtype</span>

<span class="gp">In [69]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abca&#39;</span><span class="p">),</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;bccd&#39;</span><span class="p">)})</span>

<span class="gp">In [70]: </span><span class="n">cdt</span> <span class="o">=</span> <span class="n">CategoricalDtype</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">),</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="gp">In [71]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">cdt</span><span class="p">)</span>

<span class="gp">In [72]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
<span class="gh">Out[72]: </span><span class="go">CategoricalDtype(categories=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;], ordered=True)</span>

<span class="gp">In [73]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
<span class="gh">Out[73]: </span><span class="go">CategoricalDtype(categories=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;], ordered=True)</span>
</pre></div>
</div>
</div>
<div class="section" id="other-enhancements">
<span id="whatsnew-0230-enhancements-other"></span><h3>Other enhancements<a class="headerlink" href="#other-enhancements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Unary <code class="docutils literal notranslate"><span class="pre">+</span></code> now permitted for <code class="docutils literal notranslate"><span class="pre">Series</span></code> and <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> as  numeric operator (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16073">GH16073</a>)</p></li>
<li><p>Better support for <code class="xref py py-meth docutils literal notranslate"><span class="pre">to_excel()</span></code> output with the <code class="docutils literal notranslate"><span class="pre">xlsxwriter</span></code> engine. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16149">GH16149</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.tseries.frequencies.to_offset()</span></code> now accepts leading ‘+’ signs e.g. ‘+1h’. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18171">GH18171</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.unique()</span></code> now supports the <code class="docutils literal notranslate"><span class="pre">level=</span></code> argument, to get unique values from a specific index level (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17896">GH17896</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.io.formats.style.Styler</span></code> now has method <code class="docutils literal notranslate"><span class="pre">hide_index()</span></code> to determine whether the index will be rendered in output (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14194">GH14194</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.io.formats.style.Styler</span></code> now has method <code class="docutils literal notranslate"><span class="pre">hide_columns()</span></code> to determine whether columns will be hidden in output (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14194">GH14194</a>)</p></li>
<li><p>Improved wording of <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> raised in <code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code> when <code class="docutils literal notranslate"><span class="pre">unit=</span></code> is passed with a non-convertible value (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14350">GH14350</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.fillna()</span></code> now accepts a Series or a dict as a <code class="docutils literal notranslate"><span class="pre">value</span></code> for a categorical dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17033">GH17033</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.read_clipboard()</span></code> updated to use qtpy, falling back to PyQt5 and then PyQt4, adding compatibility with Python3 and multiple python-qt bindings (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17722">GH17722</a>)</p></li>
<li><p>Improved wording of <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> raised in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> when the <code class="docutils literal notranslate"><span class="pre">usecols</span></code> argument cannot match all columns. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17301">GH17301</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.corrwith()</span></code> now silently drops non-numeric columns when passed a Series. Before, an exception was raised (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18570">GH18570</a>).</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> now supports time zone aware <code class="docutils literal notranslate"><span class="pre">Interval</span></code> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18537">GH18537</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18538">GH18538</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series()</span></code> / <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame()</span></code> tab completion also returns identifiers in the first level of a <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex()</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16326">GH16326</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">nrows</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16645">GH16645</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.append()</span></code> can now in more cases preserve the type of the calling dataframe’s columns (e.g. if both are <code class="docutils literal notranslate"><span class="pre">CategoricalIndex</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18359">GH18359</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_json()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_json()</span></code> now accept an <code class="docutils literal notranslate"><span class="pre">index</span></code> argument which allows the user to exclude the index from the JSON output (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17394">GH17394</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IntervalIndex.to_tuples()</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">na_tuple</span></code> parameter to control whether NA is returned as a tuple of NA, or NA itself (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18756">GH18756</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Categorical.rename_categories</span></code>, <code class="docutils literal notranslate"><span class="pre">CategoricalIndex.rename_categories</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.cat.rename_categories</span></code>
can now take a callable as their argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18862">GH18862</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Interval</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> have gained a <code class="docutils literal notranslate"><span class="pre">length</span></code> attribute (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18789">GH18789</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Resampler</span></code> objects now have a functioning <code class="xref py py-attr docutils literal notranslate"><span class="pre">pipe</span></code> method.
Previously, calls to <code class="docutils literal notranslate"><span class="pre">pipe</span></code> were diverted to  the <code class="docutils literal notranslate"><span class="pre">mean</span></code> method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17905">GH17905</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">is_scalar()</span></code> now returns <code class="docutils literal notranslate"><span class="pre">True</span></code> for <code class="docutils literal notranslate"><span class="pre">DateOffset</span></code> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18943">GH18943</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.pivot()</span></code> now accepts a list for the <code class="docutils literal notranslate"><span class="pre">values=</span></code> kwarg (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17160">GH17160</a>).</p></li>
<li><p>Added <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.extensions.register_dataframe_accessor()</span></code>,
<code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.extensions.register_series_accessor()</span></code>, and
<code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.extensions.register_index_accessor()</span></code>, accessor for libraries downstream of pandas
to register custom accessors like <code class="docutils literal notranslate"><span class="pre">.cat</span></code> on pandas objects. See
<a class="reference internal" href="../development/extending.html#extending-register-accessors"><span class="std std-ref">Registering Custom Accessors</span></a> for more (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14781">GH14781</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IntervalIndex.astype</span></code> now supports conversions between subtypes when passed an <code class="docutils literal notranslate"><span class="pre">IntervalDtype</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19197">GH19197</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> and its associated constructor methods (<code class="docutils literal notranslate"><span class="pre">from_arrays</span></code>, <code class="docutils literal notranslate"><span class="pre">from_breaks</span></code>, <code class="docutils literal notranslate"><span class="pre">from_tuples</span></code>) have gained a <code class="docutils literal notranslate"><span class="pre">dtype</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19262">GH19262</a>)</p></li>
<li><p>Added <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.SeriesGroupBy.is_monotonic_increasing()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.SeriesGroupBy.is_monotonic_decreasing()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17015">GH17015</a>)</p></li>
<li><p>For subclassed <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.apply()</span></code> will now preserve the <code class="docutils literal notranslate"><span class="pre">Series</span></code> subclass (if defined) when passing the data to the applied function (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19822">GH19822</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.from_dict()</span></code> now accepts a <code class="docutils literal notranslate"><span class="pre">columns</span></code> argument that can be used to specify the column names when <code class="docutils literal notranslate"><span class="pre">orient='index'</span></code> is used (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18529">GH18529</a>)</p></li>
<li><p>Added option <code class="docutils literal notranslate"><span class="pre">display.html.use_mathjax</span></code> so <a class="reference external" href="https://www.mathjax.org/">MathJax</a> can be disabled when rendering tables in <code class="docutils literal notranslate"><span class="pre">Jupyter</span></code> notebooks (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19856">GH19856</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19824">GH19824</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code> now supports the <code class="docutils literal notranslate"><span class="pre">method</span></code> parameter, which can be used to specify the replacement method when <code class="docutils literal notranslate"><span class="pre">to_replace</span></code> is a scalar, list or tuple and <code class="docutils literal notranslate"><span class="pre">value</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19632">GH19632</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.month_name()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.month_name()</span></code>, and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.dt.month_name()</span></code> are now available (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12805">GH12805</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.day_name()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.day_name()</span></code> are now available to return day names with a specified locale (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12806">GH12806</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_sql()</span></code> now performs a multi-value insert if the underlying connection supports itk rather than inserting row by row.
<code class="docutils literal notranslate"><span class="pre">SQLAlchemy</span></code> dialects supporting multi-value inserts include: <code class="docutils literal notranslate"><span class="pre">mysql</span></code>, <code class="docutils literal notranslate"><span class="pre">postgresql</span></code>, <code class="docutils literal notranslate"><span class="pre">sqlite</span></code> and any dialect with <code class="docutils literal notranslate"><span class="pre">supports_multivalues_insert</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14315">GH14315</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8953">GH8953</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code> now accepts a <code class="docutils literal notranslate"><span class="pre">displayed_only</span></code> keyword argument to controls whether or not hidden elements are parsed (<code class="docutils literal notranslate"><span class="pre">True</span></code> by default) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20027">GH20027</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code> now reads all <code class="docutils literal notranslate"><span class="pre">&lt;tbody&gt;</span></code> elements in a <code class="docutils literal notranslate"><span class="pre">&lt;table&gt;</span></code>, not just the first. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20690">GH20690</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">quantile()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">quantile()</span></code> now accept the <code class="docutils literal notranslate"><span class="pre">interpolation</span></code> keyword, <code class="docutils literal notranslate"><span class="pre">linear</span></code> by default (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20497">GH20497</a>)</p></li>
<li><p>zip compression is supported via <code class="docutils literal notranslate"><span class="pre">compression=zip</span></code> in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_pickle()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.to_pickle()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.to_csv()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_json()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.to_json()</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17778">GH17778</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">WeekOfMonth</span></code> constructor now supports <code class="docutils literal notranslate"><span class="pre">n=0</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20517">GH20517</a>).</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> now support matrix multiplication (<code class="docutils literal notranslate"><span class="pre">&#64;</span></code>) operator (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10259">GH10259</a>) for Python&gt;=3.5</p></li>
<li><p>Updated <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_gbq()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.read_gbq()</span></code> signature and documentation to reflect changes from
the Pandas-GBQ library version 0.4.0. Adds intersphinx mapping to Pandas-GBQ
library. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20564">GH20564</a>)</p></li>
<li><p>Added new writer for exporting Stata dta files in version 117, <code class="docutils literal notranslate"><span class="pre">StataWriter117</span></code>.  This format supports exporting strings with lengths up to 2,000,000 characters (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16450">GH16450</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">to_hdf()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">read_hdf()</span></code> now accept an <code class="docutils literal notranslate"><span class="pre">errors</span></code> keyword argument to control encoding error handling (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20835">GH20835</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">cut()</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">duplicates='raise'|'drop'</span></code> option to control whether to raise on duplicated edges (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20947">GH20947</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">date_range()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">timedelta_range()</span></code>, and <code class="xref py py-func docutils literal notranslate"><span class="pre">interval_range()</span></code> now return a linearly spaced index if <code class="docutils literal notranslate"><span class="pre">start</span></code>, <code class="docutils literal notranslate"><span class="pre">stop</span></code>, and <code class="docutils literal notranslate"><span class="pre">periods</span></code> are specified, but <code class="docutils literal notranslate"><span class="pre">freq</span></code> is not. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20808">GH20808</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20983">GH20983</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20976">GH20976</a>)</p></li>
</ul>
</div>
</div>
<div class="section" id="backwards-incompatible-api-changes">
<span id="whatsnew-0230-api-breaking"></span><h2>Backwards incompatible API changes<a class="headerlink" href="#backwards-incompatible-api-changes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dependencies-have-increased-minimum-versions">
<span id="whatsnew-0230-api-breaking-deps"></span><h3>Dependencies have increased minimum versions<a class="headerlink" href="#dependencies-have-increased-minimum-versions" title="Permalink to this headline">¶</a></h3>
<p>We have updated our minimum supported versions of dependencies (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15184">GH15184</a>).
If installed, we now require:</p>
<table class="table">
<colgroup>
<col style="width: 29%" />
<col style="width: 29%" />
<col style="width: 17%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Package</p></th>
<th class="head"><p>Minimum Version</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Issue</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>python-dateutil</p></td>
<td><p>2.5.0</p></td>
<td><p>X</p></td>
<td><p><a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15184">GH15184</a></p></td>
</tr>
<tr class="row-odd"><td><p>openpyxl</p></td>
<td><p>2.4.0</p></td>
<td></td>
<td><p><a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15184">GH15184</a></p></td>
</tr>
<tr class="row-even"><td><p>beautifulsoup4</p></td>
<td><p>4.2.1</p></td>
<td></td>
<td><p><a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20082">GH20082</a></p></td>
</tr>
<tr class="row-odd"><td><p>setuptools</p></td>
<td><p>24.2.0</p></td>
<td></td>
<td><p><a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20698">GH20698</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="instantiation-from-dicts-preserves-dict-insertion-order-for-python-3-6">
<span id="whatsnew-0230-api-breaking-dict-insertion-order"></span><h3>Instantiation from dicts preserves dict insertion order for python 3.6+<a class="headerlink" href="#instantiation-from-dicts-preserves-dict-insertion-order-for-python-3-6" title="Permalink to this headline">¶</a></h3>
<p>Until Python 3.6, dicts in Python had no formally defined ordering. For Python
version 3.6 and later, dicts are ordered by insertion order, see
<a class="reference external" href="https://www.python.org/dev/peps/pep-0468/">PEP 468</a>.
Pandas will use the dict’s insertion order, when creating a <code class="docutils literal notranslate"><span class="pre">Series</span></code> or
<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> from a dict and you’re using Python version 3.6 or
higher. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19884">GH19884</a>)</p>
<p>Previous behavior (and current behavior if on Python &lt; 3.6):</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span><span class="s1">&#39;Income&#39;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Expenses&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1500</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Taxes&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">200</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Net result&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">})</span>
<span class="gh">Out[16]:</span>
<span class="go">Expenses     -1500</span>
<span class="go">Income        2000</span>
<span class="go">Net result     300</span>
<span class="go">Taxes         -200</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>Note the Series above is ordered alphabetically by the index values.</p>
<p>New behavior (for Python &gt;= 3.6):</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [74]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span><span class="s1">&#39;Income&#39;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Expenses&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1500</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Taxes&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">200</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Net result&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">})</span>
<span class="gp">   ....: </span>
<span class="gh">Out[74]: </span><span class="go"></span>
<span class="go">Income        2000</span>
<span class="go">Expenses     -1500</span>
<span class="go">Taxes         -200</span>
<span class="go">Net result     300</span>
<span class="go">Length: 4, dtype: int64</span>
</pre></div>
</div>
<p>Notice that the Series is now ordered by insertion order. This new behavior is
used for all relevant pandas types (<code class="docutils literal notranslate"><span class="pre">Series</span></code>, <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, <code class="docutils literal notranslate"><span class="pre">SparseSeries</span></code>
and <code class="docutils literal notranslate"><span class="pre">SparseDataFrame</span></code>).</p>
<p>If you wish to retain the old behavior while using Python &gt;= 3.6, you can use
<code class="docutils literal notranslate"><span class="pre">.sort_index()</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [75]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span><span class="s1">&#39;Income&#39;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Expenses&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1500</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Taxes&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">200</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Net result&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">})</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
<span class="gp">   ....: </span>
<span class="gh">Out[75]: </span><span class="go"></span>
<span class="go">Expenses     -1500</span>
<span class="go">Income        2000</span>
<span class="go">Net result     300</span>
<span class="go">Taxes         -200</span>
<span class="go">Length: 4, dtype: int64</span>
</pre></div>
</div>
</div>
<div class="section" id="deprecate-panel">
<span id="whatsnew-0230-api-breaking-deprecate-panel"></span><h3>Deprecate Panel<a class="headerlink" href="#deprecate-panel" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Panel</span></code> was deprecated in the 0.20.x release, showing as a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code>. Using <code class="docutils literal notranslate"><span class="pre">Panel</span></code> will now show a <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code>. The recommended way to represent 3-D data are
with a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> on a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> via the <code class="xref py py-meth docutils literal notranslate"><span class="pre">to_frame()</span></code> or with the <a class="reference external" href="http://xarray.pydata.org/en/stable/">xarray package</a>. Pandas
provides a <code class="xref py py-meth docutils literal notranslate"><span class="pre">to_xarray()</span></code> method to automate this conversion (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13563">GH13563</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18324">GH18324</a>).</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [75]: </span><span class="kn">import</span> <span class="nn">pandas._testing</span> <span class="kn">as</span> <span class="nn">tm</span>

<span class="gp">In [76]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">makePanel</span><span class="p">()</span>

<span class="gp">In [77]: </span><span class="n">p</span>
<span class="gh">Out[77]:</span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 3 (items) x 3 (major_axis) x 4 (minor_axis)</span>
<span class="go">Items axis: ItemA to ItemC</span>
<span class="go">Major_axis axis: 2000-01-03 00:00:00 to 2000-01-05 00:00:00</span>
<span class="go">Minor_axis axis: A to D</span>
</pre></div>
</div>
<p>Convert to a MultiIndex DataFrame</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [78]: </span><span class="n">p</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
<span class="gh">Out[78]:</span>
<span class="go">                     ItemA     ItemB     ItemC</span>
<span class="go">major      minor</span>
<span class="go">2000-01-03 A      0.469112  0.721555  0.404705</span>
<span class="go">           B     -1.135632  0.271860 -1.039268</span>
<span class="go">           C      0.119209  0.276232 -1.344312</span>
<span class="go">           D     -2.104569  0.113648 -0.109050</span>
<span class="go">2000-01-04 A     -0.282863 -0.706771  0.577046</span>
<span class="go">           B      1.212112 -0.424972 -0.370647</span>
<span class="go">           C     -1.044236 -1.087401  0.844885</span>
<span class="go">           D     -0.494929 -1.478427  1.643563</span>
<span class="go">2000-01-05 A     -1.509059 -1.039575 -1.715002</span>
<span class="go">           B     -0.173215  0.567020 -1.157892</span>
<span class="go">           C     -0.861849 -0.673690  1.075770</span>
<span class="go">           D      1.071804  0.524988 -1.469388</span>

<span class="go">[12 rows x 3 columns]</span>
</pre></div>
</div>
<p>Convert to an xarray DataArray</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [79]: </span><span class="n">p</span><span class="o">.</span><span class="n">to_xarray</span><span class="p">()</span>
<span class="gh">Out[79]:</span>
<span class="go">&lt;xarray.DataArray (items: 3, major_axis: 3, minor_axis: 4)&gt;</span>
<span class="go">array([[[ 0.469112, -1.135632,  0.119209, -2.104569],</span>
<span class="go">        [-0.282863,  1.212112, -1.044236, -0.494929],</span>
<span class="go">        [-1.509059, -0.173215, -0.861849,  1.071804]],</span>

<span class="go">       [[ 0.721555,  0.27186 ,  0.276232,  0.113648],</span>
<span class="go">        [-0.706771, -0.424972, -1.087401, -1.478427],</span>
<span class="go">        [-1.039575,  0.56702 , -0.67369 ,  0.524988]],</span>

<span class="go">       [[ 0.404705, -1.039268, -1.344312, -0.10905 ],</span>
<span class="go">        [ 0.577046, -0.370647,  0.844885,  1.643563],</span>
<span class="go">        [-1.715002, -1.157892,  1.07577 , -1.469388]]])</span>
<span class="go">Coordinates:</span>
<span class="go">  * items       (items) object &#39;ItemA&#39; &#39;ItemB&#39; &#39;ItemC&#39;</span>
<span class="go">  * major_axis  (major_axis) datetime64[ns] 2000-01-03 2000-01-04 2000-01-05</span>
<span class="go">  * minor_axis  (minor_axis) object &#39;A&#39; &#39;B&#39; &#39;C&#39; &#39;D&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="pandas-core-common-removals">
<span id="whatsnew-0230-api-breaking-core-common"></span><h3>pandas.core.common removals<a class="headerlink" href="#pandas-core-common-removals" title="Permalink to this headline">¶</a></h3>
<p>The following error &amp; warning messages are removed from <code class="docutils literal notranslate"><span class="pre">pandas.core.common</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13634">GH13634</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19769">GH19769</a>):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PerformanceWarning</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnsupportedFunctionCall</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnsortedIndexError</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AbstractMethodError</span></code></p></li>
</ul>
<p>These are available from import from <code class="docutils literal notranslate"><span class="pre">pandas.errors</span></code> (since 0.19.0).</p>
</div>
<div class="section" id="changes-to-make-output-of-dataframe-apply-consistent">
<span id="whatsnew-0230-api-breaking-apply"></span><h3>Changes to make output of <code class="docutils literal notranslate"><span class="pre">DataFrame.apply</span></code> consistent<a class="headerlink" href="#changes-to-make-output-of-dataframe-apply-consistent" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.apply()</span></code> was inconsistent when applying an arbitrary user-defined-function that returned a list-like with <code class="docutils literal notranslate"><span class="pre">axis=1</span></code>. Several bugs and inconsistencies
are resolved. If the applied function returns a Series, then pandas will return a DataFrame; otherwise a Series will be returned, this includes the case
where a list-like (e.g. <code class="docutils literal notranslate"><span class="pre">tuple</span></code> or <code class="docutils literal notranslate"><span class="pre">list</span></code> is returned) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16353">GH16353</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17437">GH17437</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17970">GH17970</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17348">GH17348</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17892">GH17892</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18573">GH18573</a>,
<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17602">GH17602</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18775">GH18775</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18901">GH18901</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18919">GH18919</a>).</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [76]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">   ....: </span>                  <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">])</span>
<span class="gp">   ....: </span>

<span class="gp">In [77]: </span><span class="n">df</span>
<span class="gh">Out[77]: </span><span class="go"></span>
<span class="go">   A  B  C</span>
<span class="go">0  1  2  3</span>
<span class="go">1  1  2  3</span>
<span class="go">2  1  2  3</span>
<span class="go">3  1  2  3</span>
<span class="go">4  1  2  3</span>
<span class="go">5  1  2  3</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
<p>Previous behavior: if the returned shape happened to match the length of original columns, this would return a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.
If the return shape did not match, a <code class="docutils literal notranslate"><span class="pre">Series</span></code> with lists was returned.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
   <span class="n">A</span>  <span class="n">B</span>  <span class="n">C</span>
<span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>
<span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>
<span class="mi">2</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>
<span class="mi">3</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>
<span class="mi">4</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>
<span class="mi">5</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span>
<span class="mi">0</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="mi">1</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="mi">2</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="mi">3</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="mi">4</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="mi">5</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">dtype</span><span class="p">:</span> <span class="nb">object</span>
</pre></div>
</div>
<p>New behavior: When the applied function returns a list-like, this will now <em>always</em> return a <code class="docutils literal notranslate"><span class="pre">Series</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [78]: </span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[78]: </span><span class="go"></span>
<span class="go">0    [1, 2, 3]</span>
<span class="go">1    [1, 2, 3]</span>
<span class="go">2    [1, 2, 3]</span>
<span class="go">3    [1, 2, 3]</span>
<span class="go">4    [1, 2, 3]</span>
<span class="go">5    [1, 2, 3]</span>
<span class="go">Length: 6, dtype: object</span>

<span class="gp">In [79]: </span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[79]: </span><span class="go"></span>
<span class="go">0    [1, 2]</span>
<span class="go">1    [1, 2]</span>
<span class="go">2    [1, 2]</span>
<span class="go">3    [1, 2]</span>
<span class="go">4    [1, 2]</span>
<span class="go">5    [1, 2]</span>
<span class="go">Length: 6, dtype: object</span>
</pre></div>
</div>
<p>To have expanded columns, you can use <code class="docutils literal notranslate"><span class="pre">result_type='expand'</span></code></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [80]: </span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">result_type</span><span class="o">=</span><span class="s1">&#39;expand&#39;</span><span class="p">)</span>
<span class="gh">Out[80]: </span><span class="go"></span>
<span class="go">   0  1  2</span>
<span class="go">0  1  2  3</span>
<span class="go">1  1  2  3</span>
<span class="go">2  1  2  3</span>
<span class="go">3  1  2  3</span>
<span class="go">4  1  2  3</span>
<span class="go">5  1  2  3</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
<p>To broadcast the result across the original columns (the old behaviour for
list-likes of the correct length), you can use <code class="docutils literal notranslate"><span class="pre">result_type='broadcast'</span></code>.
The shape must match the original columns.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [81]: </span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">result_type</span><span class="o">=</span><span class="s1">&#39;broadcast&#39;</span><span class="p">)</span>
<span class="gh">Out[81]: </span><span class="go"></span>
<span class="go">   A  B  C</span>
<span class="go">0  1  2  3</span>
<span class="go">1  1  2  3</span>
<span class="go">2  1  2  3</span>
<span class="go">3  1  2  3</span>
<span class="go">4  1  2  3</span>
<span class="go">5  1  2  3</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
<p>Returning a <code class="docutils literal notranslate"><span class="pre">Series</span></code> allows one to control the exact return structure and column names:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [82]: </span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">]),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[82]: </span><span class="go"></span>
<span class="go">   D  E  F</span>
<span class="go">0  1  2  3</span>
<span class="go">1  1  2  3</span>
<span class="go">2  1  2  3</span>
<span class="go">3  1  2  3</span>
<span class="go">4  1  2  3</span>
<span class="go">5  1  2  3</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="concatenation-will-no-longer-sort">
<span id="whatsnew-0230-api-breaking-concat"></span><h3>Concatenation will no longer sort<a class="headerlink" href="#concatenation-will-no-longer-sort" title="Permalink to this headline">¶</a></h3>
<p>In a future version of pandas <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.concat()</span></code> will no longer sort the non-concatenation axis when it is not already aligned.
The current behavior is the same as the previous (sorting), but now a warning is issued when <code class="docutils literal notranslate"><span class="pre">sort</span></code> is not specified and the non-concatenation axis is not aligned (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4588">GH4588</a>).</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [83]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">])</span>

<span class="gp">In [84]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]})</span>

<span class="gp">In [85]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">])</span>
<span class="gh">Out[85]: </span><span class="go"></span>
<span class="go">     b  a</span>
<span class="go">0  1.0  1</span>
<span class="go">1  2.0  2</span>
<span class="go">0  NaN  4</span>
<span class="go">1  NaN  5</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
<p>To keep the previous behavior (sorting) and silence the warning, pass <code class="docutils literal notranslate"><span class="pre">sort=True</span></code></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [86]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">],</span> <span class="n">sort</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gh">Out[86]: </span><span class="go"></span>
<span class="go">   a    b</span>
<span class="go">0  1  1.0</span>
<span class="go">1  2  2.0</span>
<span class="go">0  4  NaN</span>
<span class="go">1  5  NaN</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
<p>To accept the future behavior (no sorting), pass <code class="docutils literal notranslate"><span class="pre">sort=False</span></code></p>
<p>Note that this change also applies to <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.append()</span></code>, which has also received a <code class="docutils literal notranslate"><span class="pre">sort</span></code> keyword for controlling this behavior.</p>
</div>
<div class="section" id="build-changes">
<span id="whatsnew-0230-api-breaking-build-changes"></span><h3>Build changes<a class="headerlink" href="#build-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Building pandas for development now requires <code class="docutils literal notranslate"><span class="pre">cython</span> <span class="pre">&gt;=</span> <span class="pre">0.24</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18613">GH18613</a>)</p></li>
<li><p>Building from source now explicitly requires <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18113">GH18113</a>)</p></li>
<li><p>Updated conda recipe to be in compliance with conda-build 3.0+ (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18002">GH18002</a>)</p></li>
</ul>
</div>
<div class="section" id="index-division-by-zero-fills-correctly">
<span id="whatsnew-0230-api-breaking-index-division-by-zero"></span><h3>Index division by zero fills correctly<a class="headerlink" href="#index-division-by-zero-fills-correctly" title="Permalink to this headline">¶</a></h3>
<p>Division operations on <code class="docutils literal notranslate"><span class="pre">Index</span></code> and subclasses will now fill division of positive numbers by zero with <code class="docutils literal notranslate"><span class="pre">np.inf</span></code>, division of negative numbers by zero with <code class="docutils literal notranslate"><span class="pre">-np.inf</span></code> and <cite>0 / 0</cite> with <code class="docutils literal notranslate"><span class="pre">np.nan</span></code>.  This matches existing <code class="docutils literal notranslate"><span class="pre">Series</span></code> behavior. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19322">GH19322</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19347">GH19347</a>)</p>
<p>Previous behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Int64Index</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [7]: </span><span class="n">index</span> <span class="o">/</span> <span class="mi">0</span>
<span class="gh">Out[7]: </span><span class="go">Int64Index([0, 0, 0], dtype=&#39;int64&#39;)</span>

<span class="go"># Previous behavior yielded different results depending on the type of zero in the divisor</span>
<span class="gp">In [8]: </span><span class="n">index</span> <span class="o">/</span> <span class="mf">0.0</span>
<span class="gh">Out[8]: </span><span class="go">Float64Index([-inf, nan, inf], dtype=&#39;float64&#39;)</span>

<span class="gp">In [9]: </span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">UInt64Index</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [10]: </span><span class="n">index</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint64</span><span class="p">)</span>
<span class="gh">Out[10]: </span><span class="go">UInt64Index([0, 0], dtype=&#39;uint64&#39;)</span>

<span class="gp">In [11]: </span><span class="n">pd</span><span class="o">.</span><span class="n">RangeIndex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">0</span>
<span class="go">ZeroDivisionError: integer division or modulo by zero</span>
</pre></div>
</div>
<p>Current behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [87]: </span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Int64Index</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="go"># division by zero gives -infinity where negative,</span>
<span class="go"># +infinity where positive, and NaN for 0 / 0</span>
<span class="gp">In [88]: </span><span class="n">index</span> <span class="o">/</span> <span class="mi">0</span>
<span class="gh">Out[88]: </span><span class="go">Float64Index([-inf, nan, inf], dtype=&#39;float64&#39;)</span>

<span class="go"># The result of division by zero should not depend on</span>
<span class="go"># whether the zero is int or float</span>
<span class="gp">In [89]: </span><span class="n">index</span> <span class="o">/</span> <span class="mf">0.0</span>
<span class="gh">Out[89]: </span><span class="go">Float64Index([-inf, nan, inf], dtype=&#39;float64&#39;)</span>

<span class="gp">In [90]: </span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">UInt64Index</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [91]: </span><span class="n">index</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint64</span><span class="p">)</span>
<span class="gh">Out[91]: </span><span class="go">Float64Index([nan, inf], dtype=&#39;float64&#39;)</span>

<span class="gp">In [92]: </span><span class="n">pd</span><span class="o">.</span><span class="n">RangeIndex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">0</span>
<span class="gh">Out[92]: </span><span class="go">Float64Index([inf, inf, inf, inf], dtype=&#39;float64&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="extraction-of-matching-patterns-from-strings">
<span id="whatsnew-0230-api-breaking-extract"></span><h3>Extraction of matching patterns from strings<a class="headerlink" href="#extraction-of-matching-patterns-from-strings" title="Permalink to this headline">¶</a></h3>
<p>By default, extracting matching patterns from strings with <code class="xref py py-func docutils literal notranslate"><span class="pre">str.extract()</span></code> used to return a
<code class="docutils literal notranslate"><span class="pre">Series</span></code> if a single group was being extracted (a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> if more than one group was
extracted). As of Pandas 0.23.0 <code class="xref py py-func docutils literal notranslate"><span class="pre">str.extract()</span></code> always returns a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, unless
<code class="docutils literal notranslate"><span class="pre">expand</span></code> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>. Finally, <code class="docutils literal notranslate"><span class="pre">None</span></code> was an accepted value for
the <code class="docutils literal notranslate"><span class="pre">expand</span></code> parameter (which was equivalent to <code class="docutils literal notranslate"><span class="pre">False</span></code>), but now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11386">GH11386</a>)</p>
<p>Previous behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;number 10&#39;</span><span class="p">,</span> <span class="s1">&#39;12 eggs&#39;</span><span class="p">])</span>

<span class="gp">In [2]: </span><span class="n">extracted</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*(\d\d).*&#39;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">extracted</span>
<span class="go">Out [3]:</span>
<span class="go">0    10</span>
<span class="go">1    12</span>
<span class="go">dtype: object</span>

<span class="gp">In [4]: </span><span class="nb">type</span><span class="p">(</span><span class="n">extracted</span><span class="p">)</span>
<span class="go">Out [4]:</span>
<span class="go">pandas.core.series.Series</span>
</pre></div>
</div>
<p>New behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [93]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;number 10&#39;</span><span class="p">,</span> <span class="s1">&#39;12 eggs&#39;</span><span class="p">])</span>

<span class="gp">In [94]: </span><span class="n">extracted</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*(\d\d).*&#39;</span><span class="p">)</span>

<span class="gp">In [95]: </span><span class="n">extracted</span>
<span class="gh">Out[95]: </span><span class="go"></span>
<span class="go">    0</span>
<span class="go">0  10</span>
<span class="go">1  12</span>

<span class="go">[2 rows x 1 columns]</span>

<span class="gp">In [96]: </span><span class="nb">type</span><span class="p">(</span><span class="n">extracted</span><span class="p">)</span>
<span class="gh">Out[96]: </span><span class="go">pandas.core.frame.DataFrame</span>
</pre></div>
</div>
<p>To restore previous behavior, simply set <code class="docutils literal notranslate"><span class="pre">expand</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [97]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;number 10&#39;</span><span class="p">,</span> <span class="s1">&#39;12 eggs&#39;</span><span class="p">])</span>

<span class="gp">In [98]: </span><span class="n">extracted</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*(\d\d).*&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="gp">In [99]: </span><span class="n">extracted</span>
<span class="gh">Out[99]: </span><span class="go"></span>
<span class="go">0    10</span>
<span class="go">1    12</span>
<span class="go">Length: 2, dtype: object</span>

<span class="gp">In [100]: </span><span class="nb">type</span><span class="p">(</span><span class="n">extracted</span><span class="p">)</span>
<span class="gh">Out[100]: </span><span class="go">pandas.core.series.Series</span>
</pre></div>
</div>
</div>
<div class="section" id="default-value-for-the-ordered-parameter-of-categoricaldtype">
<span id="whatsnew-0230-api-breaking-cdt-ordered"></span><h3>Default value for the <code class="docutils literal notranslate"><span class="pre">ordered</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">CategoricalDtype</span></code><a class="headerlink" href="#default-value-for-the-ordered-parameter-of-categoricaldtype" title="Permalink to this headline">¶</a></h3>
<p>The default value of the <code class="docutils literal notranslate"><span class="pre">ordered</span></code> parameter for <code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalDtype</span></code> has changed from <code class="docutils literal notranslate"><span class="pre">False</span></code> to <code class="docutils literal notranslate"><span class="pre">None</span></code> to allow updating of <code class="docutils literal notranslate"><span class="pre">categories</span></code> without impacting <code class="docutils literal notranslate"><span class="pre">ordered</span></code>.  Behavior should remain consistent for downstream objects, such as <code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18790">GH18790</a>)</p>
<p>In previous versions, the default value for the <code class="docutils literal notranslate"><span class="pre">ordered</span></code> parameter was <code class="docutils literal notranslate"><span class="pre">False</span></code>.  This could potentially lead to the <code class="docutils literal notranslate"><span class="pre">ordered</span></code> parameter unintentionally being changed from <code class="docutils literal notranslate"><span class="pre">True</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code> when users attempt to update <code class="docutils literal notranslate"><span class="pre">categories</span></code> if <code class="docutils literal notranslate"><span class="pre">ordered</span></code> is not explicitly specified, as it would silently default to <code class="docutils literal notranslate"><span class="pre">False</span></code>.  The new behavior for <code class="docutils literal notranslate"><span class="pre">ordered=None</span></code> is to retain the existing value of <code class="docutils literal notranslate"><span class="pre">ordered</span></code>.</p>
<p>New behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="kn">from</span> <span class="nn">pandas.api.types</span> <span class="kn">import</span> <span class="n">CategoricalDtype</span>

<span class="gp">In [3]: </span><span class="n">cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcaba&#39;</span><span class="p">),</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">categories</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;cba&#39;</span><span class="p">))</span>

<span class="gp">In [4]: </span><span class="n">cat</span>
<span class="gh">Out[4]:</span>
<span class="go">[a, b, c, a, b, a]</span>
<span class="go">Categories (3, object): [c &lt; b &lt; a]</span>

<span class="gp">In [5]: </span><span class="n">cdt</span> <span class="o">=</span> <span class="n">CategoricalDtype</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;cbad&#39;</span><span class="p">))</span>

<span class="gp">In [6]: </span><span class="n">cat</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">cdt</span><span class="p">)</span>
<span class="gh">Out[6]:</span>
<span class="go">[a, b, c, a, b, a]</span>
<span class="go">Categories (4, object): [c &lt; b &lt; a &lt; d]</span>
</pre></div>
</div>
<p>Notice in the example above that the converted <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> has retained <code class="docutils literal notranslate"><span class="pre">ordered=True</span></code>.  Had the default value for <code class="docutils literal notranslate"><span class="pre">ordered</span></code> remained as <code class="docutils literal notranslate"><span class="pre">False</span></code>, the converted <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> would have become unordered, despite <code class="docutils literal notranslate"><span class="pre">ordered=False</span></code> never being explicitly specified.  To change the value of <code class="docutils literal notranslate"><span class="pre">ordered</span></code>, explicitly pass it to the new dtype, e.g. <code class="docutils literal notranslate"><span class="pre">CategoricalDtype(categories=list('cbad'),</span> <span class="pre">ordered=False)</span></code>.</p>
<p>Note that the unintentional conversion of <code class="docutils literal notranslate"><span class="pre">ordered</span></code> discussed above did not arise in previous versions due to separate bugs that prevented <code class="docutils literal notranslate"><span class="pre">astype</span></code> from doing any type of category to category conversion (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10696">GH10696</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18593">GH18593</a>).  These bugs have been fixed in this release, and motivated changing the default value of <code class="docutils literal notranslate"><span class="pre">ordered</span></code>.</p>
</div>
<div class="section" id="better-pretty-printing-of-dataframes-in-a-terminal">
<span id="whatsnew-0230-api-breaking-pretty-printing"></span><h3>Better pretty-printing of DataFrames in a terminal<a class="headerlink" href="#better-pretty-printing-of-dataframes-in-a-terminal" title="Permalink to this headline">¶</a></h3>
<p>Previously, the default value for the maximum number of columns was
<code class="docutils literal notranslate"><span class="pre">pd.options.display.max_columns=20</span></code>. This meant that relatively wide data
frames would not fit within the terminal width, and pandas would introduce line
breaks to display these 20 columns. This resulted in an output that was
relatively difficult to read:</p>
<img alt="../_images/print_df_old.png" src="../_images/print_df_old.png" />
<p>If Python runs in a terminal, the maximum number of columns is now determined
automatically so that the printed data frame fits within the current terminal
width (<code class="docutils literal notranslate"><span class="pre">pd.options.display.max_columns=0</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17023">GH17023</a>). If Python runs
as a Jupyter kernel (such as the Jupyter QtConsole or a Jupyter notebook, as
well as in many IDEs), this value cannot be inferred automatically and is thus
set to <cite>20</cite> as in previous versions. In a terminal, this results in a much
nicer output:</p>
<img alt="../_images/print_df_new.png" src="../_images/print_df_new.png" />
<p>Note that if you don’t like the new default, you can always set this option
yourself. To revert to the old setting, you can run this line:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_columns</span> <span class="o">=</span> <span class="mi">20</span>
</pre></div>
</div>
</div>
<div class="section" id="datetimelike-api-changes">
<span id="whatsnew-0230-api-datetimelike"></span><h3>Datetimelike API changes<a class="headerlink" href="#datetimelike-api-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The default <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> constructor now accepts an <code class="docutils literal notranslate"><span class="pre">ISO</span> <span class="pre">8601</span> <span class="pre">Duration</span></code> string as an argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19040">GH19040</a>)</p></li>
<li><p>Subtracting <code class="docutils literal notranslate"><span class="pre">NaT</span></code> from a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> with <code class="docutils literal notranslate"><span class="pre">dtype='datetime64[ns]'</span></code> returns a <code class="docutils literal notranslate"><span class="pre">Series</span></code> with <code class="docutils literal notranslate"><span class="pre">dtype='timedelta64[ns]'</span></code> instead of <code class="docutils literal notranslate"><span class="pre">dtype='datetime64[ns]'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18808">GH18808</a>)</p></li>
<li><p>Addition or subtraction of <code class="docutils literal notranslate"><span class="pre">NaT</span></code> from <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> will return <code class="docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> instead of <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19124">GH19124</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.shift()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">TimedeltaIndex.shift()</span></code> will now raise <code class="docutils literal notranslate"><span class="pre">NullFrequencyError</span></code> (which subclasses <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>, which was raised in older versions) when the index object frequency is <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19147">GH19147</a>)</p></li>
<li><p>Addition and subtraction of <code class="docutils literal notranslate"><span class="pre">NaN</span></code> from a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> with <code class="docutils literal notranslate"><span class="pre">dtype='timedelta64[ns]'</span></code> will raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of treating the <code class="docutils literal notranslate"><span class="pre">NaN</span></code> as <code class="docutils literal notranslate"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19274">GH19274</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NaT</span></code> division with <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a> will now return <code class="docutils literal notranslate"><span class="pre">NaN</span></code> instead of raising (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17876">GH17876</a>)</p></li>
<li><p>Operations between a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> with dtype <code class="docutils literal notranslate"><span class="pre">dtype='datetime64[ns]'</span></code> and a <code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code> will correctly raises <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18850">GH18850</a>)</p></li>
<li><p>Subtraction of <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> with timezone-aware <code class="docutils literal notranslate"><span class="pre">dtype='datetime64[ns]'</span></code> with mis-matched timezones will raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18817">GH18817</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> will no longer silently ignore unused or invalid <code class="docutils literal notranslate"><span class="pre">tz</span></code> or <code class="docutils literal notranslate"><span class="pre">tzinfo</span></code> keyword arguments (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17690">GH17690</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> will no longer silently ignore invalid <code class="docutils literal notranslate"><span class="pre">freq</span></code> arguments (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5168">GH5168</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">CacheableOffset</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">WeekDay</span></code> are no longer available in the <code class="docutils literal notranslate"><span class="pre">pandas.tseries.offsets</span></code> module (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17830">GH17830</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pandas.tseries.frequencies.get_freq_group()</span></code> and <code class="docutils literal notranslate"><span class="pre">pandas.tseries.frequencies.DAYS</span></code> are removed from the public API (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18034">GH18034</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.truncate()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.truncate()</span></code> will raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if the index is not sorted instead of an unhelpful <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17935">GH17935</a>)</p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.first</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">DataFrame.first</span></code> will now raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>
rather than <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> when index is not a <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20725">GH20725</a>).</p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.last</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">DataFrame.last</span></code> will now raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>
rather than <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> when index is not a <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20725">GH20725</a>).</p></li>
<li><p>Restricted <code class="docutils literal notranslate"><span class="pre">DateOffset</span></code> keyword arguments. Previously, <code class="docutils literal notranslate"><span class="pre">DateOffset</span></code> subclasses allowed arbitrary keyword arguments which could lead to unexpected behavior. Now, only valid arguments will be accepted. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17176">GH17176</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18226">GH18226</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.merge()</span></code> provides a more informative error message when trying to merge on timezone-aware and timezone-naive columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15800">GH15800</a>)</p></li>
<li><p>For <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> with <code class="docutils literal notranslate"><span class="pre">freq=None</span></code>, addition or subtraction of integer-dtyped array or <code class="docutils literal notranslate"><span class="pre">Index</span></code> will raise <code class="docutils literal notranslate"><span class="pre">NullFrequencyError</span></code> instead of <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19895">GH19895</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> constructor now accepts a <cite>nanosecond</cite> keyword or positional argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18898">GH18898</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> will now raise an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> when the <code class="docutils literal notranslate"><span class="pre">tz</span></code> attribute is set after instantiation (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3746">GH3746</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> with a <code class="docutils literal notranslate"><span class="pre">pytz</span></code> timezone will now return a consistent <code class="docutils literal notranslate"><span class="pre">pytz</span></code> timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18595">GH18595</a>)</p></li>
</ul>
</div>
<div class="section" id="other-api-changes">
<span id="whatsnew-0230-api-other"></span><h3>Other API changes<a class="headerlink" href="#other-api-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.astype()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">Index.astype()</span></code> with an incompatible dtype will now raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> rather than a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18231">GH18231</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series</span></code> construction with an <code class="docutils literal notranslate"><span class="pre">object</span></code> dtyped tz-aware datetime and <code class="docutils literal notranslate"><span class="pre">dtype=object</span></code> specified, will now return an <code class="docutils literal notranslate"><span class="pre">object</span></code> dtyped <code class="docutils literal notranslate"><span class="pre">Series</span></code>, previously this would infer the datetime dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18231">GH18231</a>)</p></li>
<li><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> of <code class="docutils literal notranslate"><span class="pre">dtype=category</span></code> constructed from an empty <code class="docutils literal notranslate"><span class="pre">dict</span></code> will now have categories of <code class="docutils literal notranslate"><span class="pre">dtype=object</span></code> rather than <code class="docutils literal notranslate"><span class="pre">dtype=float64</span></code>, consistently with the case in which an empty list is passed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18515">GH18515</a>)</p></li>
<li><p>All-NaN levels in a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> are now assigned <code class="docutils literal notranslate"><span class="pre">float</span></code> rather than <code class="docutils literal notranslate"><span class="pre">object</span></code> dtype, promoting consistency with <code class="docutils literal notranslate"><span class="pre">Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17929">GH17929</a>).</p></li>
<li><p>Levels names of a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> (when not None) are now required to be unique: trying to create a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> with repeated names will raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18872">GH18872</a>)</p></li>
<li><p>Both construction and renaming of <code class="docutils literal notranslate"><span class="pre">Index</span></code>/<code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> with non-hashable <code class="docutils literal notranslate"><span class="pre">name</span></code>/<code class="docutils literal notranslate"><span class="pre">names</span></code> will now raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20527">GH20527</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Index.map()</span></code> can now accept <code class="docutils literal notranslate"><span class="pre">Series</span></code> and dictionary input objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12756">GH12756</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18482">GH18482</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18509">GH18509</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.unstack()</span></code> will now default to filling with <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> for <code class="docutils literal notranslate"><span class="pre">object</span></code> columns. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12815">GH12815</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> constructor will raise if the <code class="docutils literal notranslate"><span class="pre">closed</span></code> parameter conflicts with how the input data is inferred to be closed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18421">GH18421</a>)</p></li>
<li><p>Inserting missing values into indexes will work for all types of indexes and automatically insert the correct type of missing value (<code class="docutils literal notranslate"><span class="pre">NaN</span></code>, <code class="docutils literal notranslate"><span class="pre">NaT</span></code>, etc.) regardless of the type passed in (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18295">GH18295</a>)</p></li>
<li><p>When created with duplicate labels, <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17464">GH17464</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.fillna()</span></code> now raises a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> when passed a list, tuple or DataFrame as a <code class="docutils literal notranslate"><span class="pre">value</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18293">GH18293</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.DataFrame.merge()</span></code> no longer casts a <code class="docutils literal notranslate"><span class="pre">float</span></code> column to <code class="docutils literal notranslate"><span class="pre">object</span></code> when merging on <code class="docutils literal notranslate"><span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">float</span></code> columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16572">GH16572</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.merge()</span></code> now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> when trying to merge on incompatible data types (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9780">GH9780</a>)</p></li>
<li><p>The default NA value for <code class="xref py py-class docutils literal notranslate"><span class="pre">UInt64Index</span></code> has changed from 0 to <code class="docutils literal notranslate"><span class="pre">NaN</span></code>, which impacts methods that mask with NA, such as <code class="docutils literal notranslate"><span class="pre">UInt64Index.where()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18398">GH18398</a>)</p></li>
<li><p>Refactored <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> to use <code class="docutils literal notranslate"><span class="pre">find_packages</span></code> instead of explicitly listing out all subpackages (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18535">GH18535</a>)</p></li>
<li><p>Rearranged the order of keyword arguments in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code> to align with <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16672">GH16672</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">wide_to_long()</span></code> previously kept numeric-like suffixes as <code class="docutils literal notranslate"><span class="pre">object</span></code> dtype. Now they are cast to numeric if possible (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17627">GH17627</a>)</p></li>
<li><p>In <code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code>, the <code class="docutils literal notranslate"><span class="pre">comment</span></code> argument is now exposed as a named parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18735">GH18735</a>)</p></li>
<li><p>Rearranged the order of keyword arguments in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code> to align with <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16672">GH16672</a>)</p></li>
<li><p>The options <code class="docutils literal notranslate"><span class="pre">html.border</span></code> and <code class="docutils literal notranslate"><span class="pre">mode.use_inf_as_null</span></code> were deprecated in prior versions, these will now show <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code> rather than a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19003">GH19003</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> and <code class="docutils literal notranslate"><span class="pre">IntervalDtype</span></code> no longer support categorical, object, and string subtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19016">GH19016</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IntervalDtype</span></code> now returns <code class="docutils literal notranslate"><span class="pre">True</span></code> when compared against <code class="docutils literal notranslate"><span class="pre">'interval'</span></code> regardless of subtype, and <code class="docutils literal notranslate"><span class="pre">IntervalDtype.name</span></code> now returns <code class="docutils literal notranslate"><span class="pre">'interval'</span></code> regardless of subtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18980">GH18980</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">KeyError</span></code> now raises instead of <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> in <code class="xref py py-meth docutils literal notranslate"><span class="pre">drop()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">drop()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">drop()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">drop()</span></code> when dropping a non-existent element in an axis with duplicates (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19186">GH19186</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.to_csv()</span></code> now accepts a <code class="docutils literal notranslate"><span class="pre">compression</span></code> argument that works in the same way as the <code class="docutils literal notranslate"><span class="pre">compression</span></code> argument in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18958">GH18958</a>)</p></li>
<li><p>Set operations (union, difference…) on <code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> with incompatible index types will now raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> rather than a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19329">GH19329</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> objects render more simply, e.g. <code class="docutils literal notranslate"><span class="pre">&lt;DateOffset:</span> <span class="pre">days=1&gt;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">&lt;DateOffset:</span> <span class="pre">kwds={'days':</span> <span class="pre">1}&gt;</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19403">GH19403</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Categorical.fillna</span></code> now validates its <code class="docutils literal notranslate"><span class="pre">value</span></code> and <code class="docutils literal notranslate"><span class="pre">method</span></code> keyword arguments. It now raises when both or none are specified, matching the behavior of <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.fillna()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19682">GH19682</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pd.to_datetime('today')</span></code> now returns a datetime, consistent with <code class="docutils literal notranslate"><span class="pre">pd.Timestamp('today')</span></code>; previously <code class="docutils literal notranslate"><span class="pre">pd.to_datetime('today')</span></code> returned a <code class="docutils literal notranslate"><span class="pre">.normalized()</span></code> datetime (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19935">GH19935</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.str.replace()</span></code> now takes an optional <cite>regex</cite> keyword which, when set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, uses literal string replacement rather than regex replacement (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16808">GH16808</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.strftime()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">PeriodIndex.strftime()</span></code> now return an <code class="docutils literal notranslate"><span class="pre">Index</span></code> instead of a numpy array to be consistent with similar accessors (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20127">GH20127</a>)</p></li>
<li><p>Constructing a Series from a list of length 1 no longer broadcasts this list when a longer index is specified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19714">GH19714</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20391">GH20391</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_dict()</span></code> with <code class="docutils literal notranslate"><span class="pre">orient='index'</span></code> no longer casts int columns to float for a DataFrame with only int and float columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18580">GH18580</a>)</p></li>
<li><p>A user-defined-function that is passed to <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.rolling().aggregate()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.rolling().aggregate()</span></code>, or its expanding cousins, will now <em>always</em> be passed a <code class="docutils literal notranslate"><span class="pre">Series</span></code>, rather than a <code class="docutils literal notranslate"><span class="pre">np.array</span></code>; <code class="docutils literal notranslate"><span class="pre">.apply()</span></code> only has the <code class="docutils literal notranslate"><span class="pre">raw</span></code> keyword, see <a class="reference internal" href="#whatsnew-0230-enhancements-window-raw"><span class="std std-ref">here</span></a>. This is consistent with the signatures of <code class="docutils literal notranslate"><span class="pre">.aggregate()</span></code> across pandas (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20584">GH20584</a>)</p></li>
<li><p>Rolling and Expanding types raise <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> upon iteration (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11704">GH11704</a>).</p></li>
</ul>
</div>
</div>
<div class="section" id="deprecations">
<span id="whatsnew-0230-deprecations"></span><h2>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Series.from_array</span></code> and <code class="docutils literal notranslate"><span class="pre">SparseSeries.from_array</span></code> are deprecated. Use the normal constructor <code class="docutils literal notranslate"><span class="pre">Series(..)</span></code> and <code class="docutils literal notranslate"><span class="pre">SparseSeries(..)</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18213">GH18213</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.as_matrix</span></code> is deprecated. Use <code class="docutils literal notranslate"><span class="pre">DataFrame.values</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18458">GH18458</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.asobject</span></code>, <code class="docutils literal notranslate"><span class="pre">DatetimeIndex.asobject</span></code>, <code class="docutils literal notranslate"><span class="pre">PeriodIndex.asobject</span></code> and <code class="docutils literal notranslate"><span class="pre">TimeDeltaIndex.asobject</span></code> have been deprecated. Use <code class="docutils literal notranslate"><span class="pre">.astype(object)</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18572">GH18572</a>)</p></li>
<li><p>Grouping by a tuple of keys now emits a <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code> and is deprecated.
In the future, a tuple passed to <code class="docutils literal notranslate"><span class="pre">'by'</span></code> will always refer to a single key
that is the actual tuple, instead of treating the tuple as multiple keys. To
retain the previous behavior, use a list instead of a tuple (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18314">GH18314</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.valid</span></code> is deprecated. Use <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.dropna()</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18800">GH18800</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code> has deprecated the <code class="docutils literal notranslate"><span class="pre">skip_footer</span></code> parameter. Use <code class="docutils literal notranslate"><span class="pre">skipfooter</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18836">GH18836</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExcelFile.parse()</span></code> has deprecated <code class="docutils literal notranslate"><span class="pre">sheetname</span></code> in favor of <code class="docutils literal notranslate"><span class="pre">sheet_name</span></code> for consistency with <code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20920">GH20920</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">is_copy</span></code> attribute is deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18801">GH18801</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IntervalIndex.from_intervals</span></code> is deprecated in favor of the <code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> constructor (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19263">GH19263</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.from_items</span></code> is deprecated. Use <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.from_dict()</span></code> instead, or <code class="docutils literal notranslate"><span class="pre">DataFrame.from_dict(OrderedDict())</span></code> if you wish to preserve the key order (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17320">GH17320</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17312">GH17312</a>)</p></li>
<li><p>Indexing a <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code> or a <code class="xref py py-class docutils literal notranslate"><span class="pre">FloatIndex</span></code> with a list containing some missing keys will now show a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#FutureWarning" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FutureWarning</span></code></a>, which is consistent with other types of indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17758">GH17758</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">broadcast</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">.apply()</span></code> is deprecated in favor of <code class="docutils literal notranslate"><span class="pre">result_type='broadcast'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18577">GH18577</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">reduce</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">.apply()</span></code> is deprecated in favor of <code class="docutils literal notranslate"><span class="pre">result_type='reduce'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18577">GH18577</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">order</span></code> parameter of <code class="xref py py-func docutils literal notranslate"><span class="pre">factorize()</span></code> is deprecated and will be removed in a future release (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19727">GH19727</a>)</p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Timestamp.weekday_name</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">DatetimeIndex.weekday_name</span></code>, and <code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.dt.weekday_name</span></code> are deprecated in favor of <code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.day_name()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.day_name()</span></code>, and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.dt.day_name()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12806">GH12806</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pandas.tseries.plotting.tsplot</span></code> is deprecated. Use <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.plot()</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18627">GH18627</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Index.summary()</span></code> is deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18217">GH18217</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NDFrame.get_ftype_counts()</span></code> is deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18243">GH18243</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">convert_datetime64</span></code> parameter in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_records()</span></code> has been deprecated and will be removed in a future version. The NumPy bug motivating this parameter has been resolved. The default value for this parameter has also changed from <code class="docutils literal notranslate"><span class="pre">True</span></code> to <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18160">GH18160</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.rolling().apply()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.rolling().apply()</span></code>,
<code class="xref py py-func docutils literal notranslate"><span class="pre">Series.expanding().apply()</span></code>, and <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.expanding().apply()</span></code> have deprecated passing an <code class="docutils literal notranslate"><span class="pre">np.array</span></code> by default. One will need to pass the new <code class="docutils literal notranslate"><span class="pre">raw</span></code> parameter to be explicit about what is passed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20584">GH20584</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">data</span></code>, <code class="docutils literal notranslate"><span class="pre">base</span></code>, <code class="docutils literal notranslate"><span class="pre">strides</span></code>, <code class="docutils literal notranslate"><span class="pre">flags</span></code> and <code class="docutils literal notranslate"><span class="pre">itemsize</span></code> properties
of the <code class="docutils literal notranslate"><span class="pre">Series</span></code> and <code class="docutils literal notranslate"><span class="pre">Index</span></code> classes have been deprecated and will be
removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20419">GH20419</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DatetimeIndex.offset</span></code> is deprecated. Use <code class="docutils literal notranslate"><span class="pre">DatetimeIndex.freq</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20716">GH20716</a>)</p></li>
<li><p>Floor division between an integer ndarray and a <code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code> is deprecated. Divide by <code class="xref py py-attr docutils literal notranslate"><span class="pre">Timedelta.value</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19761">GH19761</a>)</p></li>
<li><p>Setting <code class="docutils literal notranslate"><span class="pre">PeriodIndex.freq</span></code> (which was not guaranteed to work correctly) is deprecated. Use <code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.asfreq()</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20678">GH20678</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Index.get_duplicates()</span></code> is deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20239">GH20239</a>)</p></li>
<li><p>The previous default behavior of negative indices in <code class="docutils literal notranslate"><span class="pre">Categorical.take</span></code> is deprecated. In a future version it will change from meaning missing values to meaning positional indices from the right. The future behavior is consistent with <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.take()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20664">GH20664</a>).</p></li>
<li><p>Passing multiple axes to the <code class="docutils literal notranslate"><span class="pre">axis</span></code> parameter in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.dropna()</span></code> has been deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20987">GH20987</a>)</p></li>
</ul>
</div>
<div class="section" id="removal-of-prior-version-deprecations-changes">
<span id="whatsnew-0230-prior-deprecations"></span><h2>Removal of prior version deprecations/changes<a class="headerlink" href="#removal-of-prior-version-deprecations-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Warnings against the obsolete usage <code class="docutils literal notranslate"><span class="pre">Categorical(codes,</span> <span class="pre">categories)</span></code>, which were emitted for instance when the first two arguments to <code class="docutils literal notranslate"><span class="pre">Categorical()</span></code> had different dtypes, and recommended the use of <code class="docutils literal notranslate"><span class="pre">Categorical.from_codes</span></code>, have now been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8074">GH8074</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">levels</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> attributes of a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> can no longer be set directly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4039">GH4039</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pd.tseries.util.pivot_annual</span></code> has been removed (deprecated since v0.19). Use <code class="docutils literal notranslate"><span class="pre">pivot_table</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18370">GH18370</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pd.tseries.util.isleapyear</span></code> has been removed (deprecated since v0.19). Use <code class="docutils literal notranslate"><span class="pre">.is_leap_year</span></code> property in Datetime-likes instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18370">GH18370</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pd.ordered_merge</span></code> has been removed (deprecated since v0.19). Use <code class="docutils literal notranslate"><span class="pre">pd.merge_ordered</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18459">GH18459</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">SparseList</span></code> class has been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14007">GH14007</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">pandas.io.wb</span></code> and <code class="docutils literal notranslate"><span class="pre">pandas.io.data</span></code> stub modules have been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13735">GH13735</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Categorical.from_array</span></code> has been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13854">GH13854</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">freq</span></code> and <code class="docutils literal notranslate"><span class="pre">how</span></code> parameters have been removed from the <code class="docutils literal notranslate"><span class="pre">rolling</span></code>/<code class="docutils literal notranslate"><span class="pre">expanding</span></code>/<code class="docutils literal notranslate"><span class="pre">ewm</span></code> methods of DataFrame
and Series (deprecated since v0.18). Instead, resample before calling the methods. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18601">GH18601</a> &amp; <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18668">GH18668</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DatetimeIndex.to_datetime</span></code>, <code class="docutils literal notranslate"><span class="pre">Timestamp.to_datetime</span></code>, <code class="docutils literal notranslate"><span class="pre">PeriodIndex.to_datetime</span></code>, and <code class="docutils literal notranslate"><span class="pre">Index.to_datetime</span></code> have been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8254">GH8254</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14096">GH14096</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14113">GH14113</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> has dropped the <code class="docutils literal notranslate"><span class="pre">skip_footer</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13386">GH13386</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> has dropped the <code class="docutils literal notranslate"><span class="pre">as_recarray</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13373">GH13373</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> has dropped the <code class="docutils literal notranslate"><span class="pre">buffer_lines</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13360">GH13360</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> has dropped the <code class="docutils literal notranslate"><span class="pre">compact_ints</span></code> and <code class="docutils literal notranslate"><span class="pre">use_unsigned</span></code> parameters (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13323">GH13323</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> class has dropped the <code class="docutils literal notranslate"><span class="pre">offset</span></code> attribute in favor of <code class="docutils literal notranslate"><span class="pre">freq</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13593">GH13593</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Series</span></code>, <code class="docutils literal notranslate"><span class="pre">Categorical</span></code>, and <code class="docutils literal notranslate"><span class="pre">Index</span></code> classes have dropped the <code class="docutils literal notranslate"><span class="pre">reshape</span></code> method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13012">GH13012</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pandas.tseries.frequencies.get_standard_freq</span></code> has been removed in favor of <code class="docutils literal notranslate"><span class="pre">pandas.tseries.frequencies.to_offset(freq).rule_code</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13874">GH13874</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">freqstr</span></code> keyword has been removed from <code class="docutils literal notranslate"><span class="pre">pandas.tseries.frequencies.to_offset</span></code> in favor of <code class="docutils literal notranslate"><span class="pre">freq</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13874">GH13874</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Panel4D</span></code> and <code class="docutils literal notranslate"><span class="pre">PanelND</span></code> classes have been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13776">GH13776</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Panel</span></code> class has dropped the <code class="docutils literal notranslate"><span class="pre">to_long</span></code> and <code class="docutils literal notranslate"><span class="pre">toLong</span></code> methods (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19077">GH19077</a>)</p></li>
<li><p>The options <code class="docutils literal notranslate"><span class="pre">display.line_with</span></code> and <code class="docutils literal notranslate"><span class="pre">display.height</span></code> are removed in favor of <code class="docutils literal notranslate"><span class="pre">display.width</span></code> and <code class="docutils literal notranslate"><span class="pre">display.max_rows</span></code> respectively (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4391">GH4391</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19107">GH19107</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">labels</span></code> attribute of the <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> class has been removed in favor of <code class="xref py py-attr docutils literal notranslate"><span class="pre">Categorical.codes</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7768">GH7768</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">flavor</span></code> parameter have been removed from func:<cite>to_sql</cite> method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13611">GH13611</a>)</p></li>
<li><p>The modules <code class="docutils literal notranslate"><span class="pre">pandas.tools.hashing</span></code> and <code class="docutils literal notranslate"><span class="pre">pandas.util.hashing</span></code> have been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16223">GH16223</a>)</p></li>
<li><p>The top-level functions <code class="docutils literal notranslate"><span class="pre">pd.rolling_*</span></code>, <code class="docutils literal notranslate"><span class="pre">pd.expanding_*</span></code> and <code class="docutils literal notranslate"><span class="pre">pd.ewm*</span></code> have been removed (Deprecated since v0.18).
Instead, use the DataFrame/Series methods <code class="xref py py-attr docutils literal notranslate"><span class="pre">rolling</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">expanding</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">ewm</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18723">GH18723</a>)</p></li>
<li><p>Imports from <code class="docutils literal notranslate"><span class="pre">pandas.core.common</span></code> for functions such as <code class="docutils literal notranslate"><span class="pre">is_datetime64_dtype</span></code> are now removed. These are located in <code class="docutils literal notranslate"><span class="pre">pandas.api.types</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13634">GH13634</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19769">GH19769</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">infer_dst</span></code> keyword in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.tz_localize()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.tz_localize()</span></code>
and <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> have been removed. <code class="docutils literal notranslate"><span class="pre">infer_dst=True</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">ambiguous='infer'</span></code>, and <code class="docutils literal notranslate"><span class="pre">infer_dst=False</span></code> to <code class="docutils literal notranslate"><span class="pre">ambiguous='raise'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7963">GH7963</a>).</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">.resample()</span></code> was changed from an eager to a lazy operation, like <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> in v0.18.0, we put in place compatibility (with a <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code>),
so operations would continue to work. This is now fully removed, so a <code class="docutils literal notranslate"><span class="pre">Resampler</span></code> will no longer forward compat operations (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20554">GH20554</a>)</p></li>
<li><p>Remove long deprecated <code class="docutils literal notranslate"><span class="pre">axis=None</span></code> parameter from <code class="docutils literal notranslate"><span class="pre">.replace()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20271">GH20271</a>)</p></li>
</ul>
</div>
<div class="section" id="performance-improvements">
<span id="whatsnew-0230-performance"></span><h2>Performance improvements<a class="headerlink" href="#performance-improvements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Indexers on <code class="docutils literal notranslate"><span class="pre">Series</span></code> or <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> no longer create a reference cycle (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17956">GH17956</a>)</p></li>
<li><p>Added a keyword argument, <code class="docutils literal notranslate"><span class="pre">cache</span></code>, to <code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code> that improved the performance of converting duplicate datetime arguments (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11665">GH11665</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> arithmetic performance is improved (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18218">GH18218</a>)</p></li>
<li><p>Converting a <code class="docutils literal notranslate"><span class="pre">Series</span></code> of <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> objects to days, seconds, etc… sped up through vectorization of underlying methods (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18092">GH18092</a>)</p></li>
<li><p>Improved performance of <code class="docutils literal notranslate"><span class="pre">.map()</span></code> with a <code class="docutils literal notranslate"><span class="pre">Series/dict</span></code> input (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15081">GH15081</a>)</p></li>
<li><p>The overridden <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> properties of days, seconds and microseconds have been removed, leveraging their built-in Python versions instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18242">GH18242</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series</span></code> construction will reduce the number of copies made of the input data in certain cases (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17449">GH17449</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.dt.date()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.date()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18058">GH18058</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.dt.time()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.time()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18461">GH18461</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">IntervalIndex.symmetric_difference()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18475">GH18475</a>)</p></li>
<li><p>Improved performance of <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> and <code class="docutils literal notranslate"><span class="pre">Series</span></code> arithmetic operations with Business-Month and Business-Quarter frequencies (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18489">GH18489</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series()</span></code> / <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame()</span></code> tab completion limits to 100 values, for better performance. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18587">GH18587</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.median()</span></code> with <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> when bottleneck is not installed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16468">GH16468</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.get_loc()</span></code> for large indexes, at the cost of a reduction in performance for small ones (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18519">GH18519</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.remove_unused_levels()</span></code> when there are no unused levels, at the cost of a reduction in performance when there are (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19289">GH19289</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">Index.get_loc()</span></code> for non-unique indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19478">GH19478</a>)</p></li>
<li><p>Improved performance of pairwise <code class="docutils literal notranslate"><span class="pre">.rolling()</span></code> and <code class="docutils literal notranslate"><span class="pre">.expanding()</span></code> with <code class="docutils literal notranslate"><span class="pre">.cov()</span></code> and <code class="docutils literal notranslate"><span class="pre">.corr()</span></code> operations (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17917">GH17917</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.GroupBy.rank()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15779">GH15779</a>)</p></li>
<li><p>Improved performance of variable <code class="docutils literal notranslate"><span class="pre">.rolling()</span></code> on <code class="docutils literal notranslate"><span class="pre">.min()</span></code> and <code class="docutils literal notranslate"><span class="pre">.max()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19521">GH19521</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.GroupBy.ffill()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.GroupBy.bfill()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11296">GH11296</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.GroupBy.any()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.GroupBy.all()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15435">GH15435</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.GroupBy.pct_change()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19165">GH19165</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.isin()</span></code> in the case of categorical dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20003">GH20003</a>)</p></li>
<li><p>Improved performance of <code class="docutils literal notranslate"><span class="pre">getattr(Series,</span> <span class="pre">attr)</span></code> when the Series has certain index types. This manifested in slow printing of large Series with a <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19764">GH19764</a>)</p></li>
<li><p>Fixed a performance regression for <code class="xref py py-func docutils literal notranslate"><span class="pre">GroupBy.nth()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">GroupBy.last()</span></code> with some object columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19283">GH19283</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.arrays.Categorical.from_codes()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18501">GH18501</a>)</p></li>
</ul>
</div>
<div class="section" id="documentation-changes">
<span id="whatsnew-0230-docs"></span><h2>Documentation changes<a class="headerlink" href="#documentation-changes" title="Permalink to this headline">¶</a></h2>
<p>Thanks to all of the contributors who participated in the Pandas Documentation
Sprint, which took place on March 10th. We had about 500 participants from over
30 locations across the world. You should notice that many of the
<a class="reference internal" href="../reference/index.html#api"><span class="std std-ref">API docstrings</span></a> have greatly improved.</p>
<p>There were too many simultaneous contributions to include a release note for each
improvement, but this <a class="reference external" href="https://github.com/pandas-dev/pandas/pulls?utf8=%E2%9C%93&amp;q=is%3Apr+label%3ADocs+created%3A2018-03-10..2018-03-15+">GitHub search</a> should give you an idea of how many docstrings
were improved.</p>
<p>Special thanks to <a class="reference external" href="https://github.com/datapythonista">Marc Garcia</a> for organizing the sprint. For more information,
read the <a class="reference external" href="https://www.numfocus.org/blog/worldwide-pandas-sprint/">NumFOCUS blogpost</a> recapping the sprint.</p>
<ul class="simple">
<li><p>Changed spelling of “numpy” to “NumPy”, and “python” to “Python”. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19017">GH19017</a>)</p></li>
<li><p>Consistency when introducing code samples, using either colon or period.
Rewrote some sentences for greater clarity, added more dynamic references
to functions, methods and classes.
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18941">GH18941</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18948">GH18948</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18973">GH18973</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19017">GH19017</a>)</p></li>
<li><p>Added a reference to <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.assign()</span></code> in the concatenate section of the merging documentation (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18665">GH18665</a>)</p></li>
</ul>
</div>
<div class="section" id="bug-fixes">
<span id="whatsnew-0230-bug-fixes"></span><h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="categorical">
<h3>Categorical<a class="headerlink" href="#categorical" title="Permalink to this headline">¶</a></h3>
<div class="alert alert-warning">
<p class="admonition-title">Warning</p>
<p>A class of bugs were introduced in pandas 0.21 with <code class="docutils literal notranslate"><span class="pre">CategoricalDtype</span></code> that
affects the correctness of operations like <code class="docutils literal notranslate"><span class="pre">merge</span></code>, <code class="docutils literal notranslate"><span class="pre">concat</span></code>, and
indexing when comparing multiple unordered <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> arrays that have
the same categories, but in a different order. We highly recommend upgrading
or manually aligning your categories before doing these operations.</p>
</div>
<ul class="simple">
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">Categorical.equals</span></code> returning the wrong result when comparing two
unordered <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> arrays with the same categories, but in a different
order (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16603">GH16603</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.union_categoricals()</span></code> returning the wrong result
when for unordered categoricals with the categories in a different order.
This affected <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.concat()</span></code> with Categorical data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19096">GH19096</a>).</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.merge()</span></code> returning the wrong result when joining on an
unordered <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> that had the same categories but in a different
order (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19551">GH19551</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">CategoricalIndex.get_indexer()</span></code> returning the wrong result when
<code class="docutils literal notranslate"><span class="pre">target</span></code> was an unordered <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> that had the same categories as
<code class="docutils literal notranslate"><span class="pre">self</span></code> but in a different order (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19551">GH19551</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.astype()</span></code> with a categorical dtype where the resultant index is not converted to a <code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code> for all types of index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18630">GH18630</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code> and <code class="docutils literal notranslate"><span class="pre">Categorical.astype()</span></code> where an existing categorical data does not get updated (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10696">GH10696</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18593">GH18593</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.split()</span></code> with <code class="docutils literal notranslate"><span class="pre">expand=True</span></code> incorrectly raising an IndexError on empty strings (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20002">GH20002</a>).</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> constructor with <code class="docutils literal notranslate"><span class="pre">dtype=CategoricalDtype(...)</span></code> where <code class="docutils literal notranslate"><span class="pre">categories</span></code> and <code class="docutils literal notranslate"><span class="pre">ordered</span></code> are not maintained (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19032">GH19032</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> constructor with scalar and <code class="docutils literal notranslate"><span class="pre">dtype=CategoricalDtype(...)</span></code> where <code class="docutils literal notranslate"><span class="pre">categories</span></code> and <code class="docutils literal notranslate"><span class="pre">ordered</span></code> are not maintained (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19565">GH19565</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">Categorical.__iter__</span></code> not converting to Python types (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19909">GH19909</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.factorize()</span></code> returning the unique codes for the <code class="docutils literal notranslate"><span class="pre">uniques</span></code>. This now returns a <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> with the same dtype as the input (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19721">GH19721</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.factorize()</span></code> including an item for missing values in the <code class="docutils literal notranslate"><span class="pre">uniques</span></code> return value (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19721">GH19721</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.take()</span></code> with categorical data interpreting <code class="docutils literal notranslate"><span class="pre">-1</span></code> in <cite>indices</cite> as missing value markers, rather than the last element of the Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20664">GH20664</a>)</p></li>
</ul>
</div>
<div class="section" id="datetimelike">
<h3>Datetimelike<a class="headerlink" href="#datetimelike" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.__sub__()</span></code> subtracting a non-nanosecond <code class="docutils literal notranslate"><span class="pre">np.datetime64</span></code> object from a <code class="docutils literal notranslate"><span class="pre">Series</span></code> gave incorrect results (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7996">GH7996</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> addition and subtraction of zero-dimensional integer arrays gave incorrect results (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19012">GH19012</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> where adding or subtracting an array-like of <code class="docutils literal notranslate"><span class="pre">DateOffset</span></code> objects either raised (<code class="docutils literal notranslate"><span class="pre">np.array</span></code>, <code class="docutils literal notranslate"><span class="pre">pd.Index</span></code>) or broadcast incorrectly (<code class="docutils literal notranslate"><span class="pre">pd.Series</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18849">GH18849</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.__add__()</span></code> adding Series with dtype <code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> to a timezone-aware <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> incorrectly dropped timezone information (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13905">GH13905</a>)</p></li>
<li><p>Adding a <code class="docutils literal notranslate"><span class="pre">Period</span></code> object to a <code class="docutils literal notranslate"><span class="pre">datetime</span></code> or <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> object will now correctly raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17983">GH17983</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> where comparison with an array of <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> objects would result in a <code class="docutils literal notranslate"><span class="pre">RecursionError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15183">GH15183</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> floor-division where operating on a scalar <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> raises an exception (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18846">GH18846</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> where the repr was not showing high-precision time values at the end of a day (e.g., 23:59:59.999999999) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19030">GH19030</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">.astype()</span></code> to non-ns timedelta units would hold the incorrect dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19176">GH19176</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19223">GH19223</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12425">GH12425</a>)</p></li>
<li><p>Bug in subtracting <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> from <code class="docutils literal notranslate"><span class="pre">NaT</span></code> incorrectly returning <code class="docutils literal notranslate"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19158">GH19158</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.truncate()</span></code> which raises <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> with a monotonic <code class="docutils literal notranslate"><span class="pre">PeriodIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17717">GH17717</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pct_change()</span></code> using <code class="docutils literal notranslate"><span class="pre">periods</span></code> and <code class="docutils literal notranslate"><span class="pre">freq</span></code> returned different length outputs (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7292">GH7292</a>)</p></li>
<li><p>Bug in comparison of <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> against <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> objects raising <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> for <code class="docutils literal notranslate"><span class="pre">==</span></code> and <code class="docutils literal notranslate"><span class="pre">!=</span></code> comparisons instead of all-<code class="docutils literal notranslate"><span class="pre">False</span></code> and all-<code class="docutils literal notranslate"><span class="pre">True</span></code>, respectively (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19301">GH19301</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code> where a string representing a barely out-of-bounds timestamp would be incorrectly rounded down instead of raising <code class="docutils literal notranslate"><span class="pre">OutOfBoundsDatetime</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19382">GH19382</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Timestamp.floor()</span></code> <code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.floor()</span></code> where time stamps far in the future and past were not rounded correctly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19206">GH19206</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code> where passing an out-of-bounds datetime with <code class="docutils literal notranslate"><span class="pre">errors='coerce'</span></code> and <code class="docutils literal notranslate"><span class="pre">utc=True</span></code> would raise <code class="docutils literal notranslate"><span class="pre">OutOfBoundsDatetime</span></code> instead of parsing to <code class="docutils literal notranslate"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19612">GH19612</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> addition and subtraction where name of the returned object was not always set consistently. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19744">GH19744</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> addition and subtraction where operations with numpy arrays raised <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19847">GH19847</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> where setting the <code class="docutils literal notranslate"><span class="pre">freq</span></code> attribute was not fully supported (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20678">GH20678</a>)</p></li>
</ul>
</div>
<div class="section" id="timedelta">
<h3>Timedelta<a class="headerlink" href="#timedelta" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__mul__()</span></code> where multiplying by <code class="docutils literal notranslate"><span class="pre">NaT</span></code> returned <code class="docutils literal notranslate"><span class="pre">NaT</span></code> instead of raising a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19819">GH19819</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> with <code class="docutils literal notranslate"><span class="pre">dtype='timedelta64[ns]'</span></code> where addition or subtraction of <code class="docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> had results cast to <code class="docutils literal notranslate"><span class="pre">dtype='int64'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17250">GH17250</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> with <code class="docutils literal notranslate"><span class="pre">dtype='timedelta64[ns]'</span></code> where addition or subtraction of <code class="docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> could return a <code class="docutils literal notranslate"><span class="pre">Series</span></code> with an incorrect name (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19043">GH19043</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__floordiv__()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__rfloordiv__()</span></code> dividing by many incompatible numpy objects was incorrectly allowed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18846">GH18846</a>)</p></li>
<li><p>Bug where dividing a scalar timedelta-like object with <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> performed the reciprocal operation (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19125">GH19125</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> where division by a <code class="docutils literal notranslate"><span class="pre">Series</span></code> would return a <code class="docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">Series</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19042">GH19042</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__add__()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__sub__()</span></code> where adding or subtracting a <code class="docutils literal notranslate"><span class="pre">np.timedelta64</span></code> object would return another <code class="docutils literal notranslate"><span class="pre">np.timedelta64</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19738">GH19738</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__floordiv__()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__rfloordiv__()</span></code> where operating with a <code class="docutils literal notranslate"><span class="pre">Tick</span></code> object would raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of returning a numeric value (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19738">GH19738</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Period.asfreq()</span></code> where periods near <code class="docutils literal notranslate"><span class="pre">datetime(1,</span> <span class="pre">1,</span> <span class="pre">1)</span></code> could be converted incorrectly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19643">GH19643</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19834">GH19834</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.total_seconds()</span></code> causing precision errors, for example <code class="docutils literal notranslate"><span class="pre">Timedelta('30S').total_seconds()==30.000000000000004</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19458">GH19458</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__rmod__()</span></code> where operating with a <code class="docutils literal notranslate"><span class="pre">numpy.timedelta64</span></code> returned a <code class="docutils literal notranslate"><span class="pre">timedelta64</span></code> object instead of a <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19820">GH19820</a>)</p></li>
<li><p>Multiplication of <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> by <code class="docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> will now raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of raising <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> in cases of length mis-match (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19333">GH19333</a>)</p></li>
<li><p>Bug in indexing a <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> with a <code class="docutils literal notranslate"><span class="pre">np.timedelta64</span></code> object which was raising a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20393">GH20393</a>)</p></li>
</ul>
</div>
<div class="section" id="timezones">
<h3>Timezones<a class="headerlink" href="#timezones" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in creating a <code class="docutils literal notranslate"><span class="pre">Series</span></code> from an array that contains both tz-naive and tz-aware values will result in a <code class="docutils literal notranslate"><span class="pre">Series</span></code> whose dtype is tz-aware instead of object (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16406">GH16406</a>)</p></li>
<li><p>Bug in comparison of timezone-aware <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> against <code class="docutils literal notranslate"><span class="pre">NaT</span></code> incorrectly raising <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19276">GH19276</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.astype()</span></code> when converting between timezone aware dtypes, and converting from timezone aware to naive (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18951">GH18951</a>)</p></li>
<li><p>Bug in comparing <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code>, which failed to raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> when attempting to compare timezone-aware and timezone-naive datetimelike objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18162">GH18162</a>)</p></li>
<li><p>Bug in localization of a naive, datetime string in a <code class="docutils literal notranslate"><span class="pre">Series</span></code> constructor with a <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/174151">GH174151</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Timestamp.replace()</span></code> will now handle Daylight Savings transitions gracefully (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18319">GH18319</a>)</p></li>
<li><p>Bug in tz-aware <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> where addition/subtraction with a <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> or array with <code class="docutils literal notranslate"><span class="pre">dtype='timedelta64[ns]'</span></code> was incorrect (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17558">GH17558</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.insert()</span></code> where inserting <code class="docutils literal notranslate"><span class="pre">NaT</span></code> into a timezone-aware index incorrectly raised (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16357">GH16357</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> constructor, where tz-aware Datetimeindex and a given column name will result in an empty <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19157">GH19157</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Timestamp.tz_localize()</span></code> where localizing a timestamp near the minimum or maximum valid values could overflow and return a timestamp with an incorrect nanosecond value (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12677">GH12677</a>)</p></li>
<li><p>Bug when iterating over <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> that was localized with fixed timezone offset that rounded nanosecond precision to microseconds (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19603">GH19603</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.diff()</span></code> that raised an <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> with tz-aware values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18578">GH18578</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">melt()</span></code> that converted tz-aware dtypes to tz-naive (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15785">GH15785</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Dataframe.count()</span></code> that raised an <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>, if <code class="xref py py-func docutils literal notranslate"><span class="pre">Dataframe.dropna()</span></code> was called for a single column with timezone-aware values. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13407">GH13407</a>)</p></li>
</ul>
</div>
<div class="section" id="offsets">
<h3>Offsets<a class="headerlink" href="#offsets" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">WeekOfMonth</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Week</span></code> where addition and subtraction did not roll correctly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18510">GH18510</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18672">GH18672</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18864">GH18864</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">WeekOfMonth</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">LastWeekOfMonth</span></code> where default keyword arguments for constructor raised <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19142">GH19142</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">FY5253Quarter</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">LastWeekOfMonth</span></code> where rollback and rollforward behavior was inconsistent with addition and subtraction behavior (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18854">GH18854</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">FY5253</span></code> where <code class="docutils literal notranslate"><span class="pre">datetime</span></code> addition and subtraction incremented incorrectly for dates on the year-end but not normalized to midnight (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18854">GH18854</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">FY5253</span></code> where date offsets could incorrectly raise an <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> in arithmetic operations (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14774">GH14774</a>)</p></li>
</ul>
</div>
<div class="section" id="numeric">
<h3>Numeric<a class="headerlink" href="#numeric" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> constructor with an int or float list where specifying <code class="docutils literal notranslate"><span class="pre">dtype=str</span></code>, <code class="docutils literal notranslate"><span class="pre">dtype='str'</span></code> or <code class="docutils literal notranslate"><span class="pre">dtype='U'</span></code> failed to convert the data elements to strings (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16605">GH16605</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> multiplication and division methods where operating with a <code class="docutils literal notranslate"><span class="pre">Series</span></code> would return an <code class="docutils literal notranslate"><span class="pre">Index</span></code> object instead of a <code class="docutils literal notranslate"><span class="pre">Series</span></code> object (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19042">GH19042</a>)</p></li>
<li><p>Bug in the <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> constructor in which data containing very large positive or very large negative numbers was causing <code class="docutils literal notranslate"><span class="pre">OverflowError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18584">GH18584</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> constructor with <code class="docutils literal notranslate"><span class="pre">dtype='uint64'</span></code> where int-like floats were not coerced to <code class="xref py py-class docutils literal notranslate"><span class="pre">UInt64Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18400">GH18400</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> flex arithmetic (e.g. <code class="docutils literal notranslate"><span class="pre">df.add(other,</span> <span class="pre">fill_value=foo)</span></code>) with a <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> other than <code class="docutils literal notranslate"><span class="pre">None</span></code> failed to raise <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> in corner cases where either the frame or <code class="docutils literal notranslate"><span class="pre">other</span></code> has length zero (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19522">GH19522</a>)</p></li>
<li><p>Multiplication and division of numeric-dtyped <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> objects with timedelta-like scalars returns <code class="docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> instead of raising <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19333">GH19333</a>)</p></li>
<li><p>Bug where <code class="docutils literal notranslate"><span class="pre">NaN</span></code> was returned instead of 0 by <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.pct_change()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.pct_change()</span></code> when <code class="docutils literal notranslate"><span class="pre">fill_method</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19873">GH19873</a>)</p></li>
</ul>
</div>
<div class="section" id="strings">
<h3>Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.str.get()</span></code> with a dictionary in the values and the index not in the keys, raising <cite>KeyError</cite> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20671">GH20671</a>)</p></li>
</ul>
</div>
<div class="section" id="indexing">
<h3>Indexing<a class="headerlink" href="#indexing" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> construction from list of mixed type tuples (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18505">GH18505</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Index.drop()</span></code> when passing a list of both tuples and non-tuples (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18304">GH18304</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.drop()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Panel.drop()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.drop()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.drop()</span></code> where no <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> is raised when dropping a non-existent element from an axis that contains duplicates (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19186">GH19186</a>)</p></li>
<li><p>Bug in indexing a datetimelike <code class="docutils literal notranslate"><span class="pre">Index</span></code> that raised <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> instead of <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18386">GH18386</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Index.to_series()</span></code> now accepts <code class="docutils literal notranslate"><span class="pre">index</span></code> and <code class="docutils literal notranslate"><span class="pre">name</span></code> kwargs (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18699">GH18699</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.to_series()</span></code> now accepts <code class="docutils literal notranslate"><span class="pre">index</span></code> and <code class="docutils literal notranslate"><span class="pre">name</span></code> kwargs (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18699">GH18699</a>)</p></li>
<li><p>Bug in indexing non-scalar value from <code class="docutils literal notranslate"><span class="pre">Series</span></code> having non-unique <code class="docutils literal notranslate"><span class="pre">Index</span></code> will return value flattened (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17610">GH17610</a>)</p></li>
<li><p>Bug in indexing with iterator containing only missing keys, which raised no error (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20748">GH20748</a>)</p></li>
<li><p>Fixed inconsistency in <code class="docutils literal notranslate"><span class="pre">.ix</span></code> between list and scalar keys when the index has integer dtype and does not include the desired keys (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20753">GH20753</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">__setitem__</span></code> when indexing a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with a 2-d boolean ndarray (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18582">GH18582</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">str.extractall</span></code> when there were no matches empty <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> was returned instead of appropriate <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19034">GH19034</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> where empty and purely NA data was constructed inconsistently depending on the construction method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18421">GH18421</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">IntervalIndex.symmetric_difference()</span></code> where the symmetric difference with a non-<code class="docutils literal notranslate"><span class="pre">IntervalIndex</span></code> did not raise (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18475">GH18475</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> where set operations that returned an empty <code class="docutils literal notranslate"><span class="pre">IntervalIndex</span></code> had the wrong dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19101">GH19101</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.drop_duplicates()</span></code> where no <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> is raised when passing in columns that don’t exist on the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19726">GH19726</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">Index</span></code> subclasses constructors that ignore unexpected keyword arguments (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19348">GH19348</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.difference()</span></code> when taking difference of an <code class="docutils literal notranslate"><span class="pre">Index</span></code> with itself (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20040">GH20040</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.first_valid_index()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.last_valid_index()</span></code> in presence of entire rows of NaNs in the middle of values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20499">GH20499</a>).</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> where some indexing operations were not supported for overlapping or non-monotonic <code class="docutils literal notranslate"><span class="pre">uint64</span></code> data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20636">GH20636</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">Series.is_unique</span></code> where extraneous output in stderr is shown if Series contains objects with <code class="docutils literal notranslate"><span class="pre">__ne__</span></code> defined (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20661">GH20661</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">.loc</span></code> assignment with a single-element list-like incorrectly assigns as a list (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19474">GH19474</a>)</p></li>
<li><p>Bug in partial string indexing on a <code class="docutils literal notranslate"><span class="pre">Series/DataFrame</span></code> with a monotonic decreasing <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19362">GH19362</a>)</p></li>
<li><p>Bug in performing in-place operations on a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> with a duplicate <code class="docutils literal notranslate"><span class="pre">Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17105">GH17105</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">IntervalIndex.get_loc()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">IntervalIndex.get_indexer()</span></code> when used with an <code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> containing a single interval (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17284">GH17284</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20921">GH20921</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">.loc</span></code> with a <code class="docutils literal notranslate"><span class="pre">uint64</span></code> indexer (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20722">GH20722</a>)</p></li>
</ul>
</div>
<div class="section" id="multiindex">
<h3>MultiIndex<a class="headerlink" href="#multiindex" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.__contains__()</span></code> where non-tuple keys would return <code class="docutils literal notranslate"><span class="pre">True</span></code> even if they had been dropped (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19027">GH19027</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.set_labels()</span></code> which would cause casting (and potentially clipping) of the new labels if the <code class="docutils literal notranslate"><span class="pre">level</span></code> argument is not 0 or a list like [0, 1, … ]  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19057">GH19057</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.get_level_values()</span></code> which would return an invalid index on level of ints with missing values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17924">GH17924</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.unique()</span></code> when called on empty <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20568">GH20568</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.unique()</span></code> which would not preserve level names (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20570">GH20570</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.remove_unused_levels()</span></code> which would fill nan values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18417">GH18417</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.from_tuples()</span></code> which would fail to take zipped tuples in python3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18434">GH18434</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.get_loc()</span></code> which would fail to automatically cast values between float and int (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18818">GH18818</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15994">GH15994</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.get_loc()</span></code> which would cast boolean to integer labels (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19086">GH19086</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.get_loc()</span></code> which would fail to locate keys containing <code class="docutils literal notranslate"><span class="pre">NaN</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18485">GH18485</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.get_loc()</span></code> in large <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code>, would fail when levels had different dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18520">GH18520</a>)</p></li>
<li><p>Bug in indexing where nested indexers having only numpy arrays are handled incorrectly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19686">GH19686</a>)</p></li>
</ul>
</div>
<div class="section" id="i-o">
<h3>I/O<a class="headerlink" href="#i-o" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code> now rewinds seekable IO objects after parse failure, before attempting to parse with a new parser. If a parser errors and the object is non-seekable, an informative error is raised suggesting the use of a different parser (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17975">GH17975</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code> now has an option to add an id to the leading <cite>&lt;table&gt;</cite> tag (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8496">GH8496</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_msgpack()</span></code> with a non existent file is passed in Python 2 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15296">GH15296</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> where a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> with duplicate columns was not being mangled appropriately (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18062">GH18062</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> where missing values were not being handled properly when <code class="docutils literal notranslate"><span class="pre">keep_default_na=False</span></code> with dictionary <code class="docutils literal notranslate"><span class="pre">na_values</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19227">GH19227</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> causing heap corruption on 32-bit, big-endian architectures (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20785">GH20785</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_sas()</span></code> where a file with 0 variables gave an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> incorrectly. Now it gives an <code class="docutils literal notranslate"><span class="pre">EmptyDataError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18184">GH18184</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code> where pairs of braces meant to serve as invisible placeholders were escaped (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18667">GH18667</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code> where a <code class="docutils literal notranslate"><span class="pre">NaN</span></code> in a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> would cause an <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> or incorrect output (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14249">GH14249</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code> where a non-string index-level name would result in an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19981">GH19981</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code> where the combination of an index name and the <cite>index_names=False</cite> option would result in incorrect output (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18326">GH18326</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code> where a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> with an empty string as its name would result in incorrect output (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18669">GH18669</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code> where missing space characters caused wrong escaping and produced non-valid latex in some cases (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20859">GH20859</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code> where large numeric values were causing an <code class="docutils literal notranslate"><span class="pre">OverflowError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18842">GH18842</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_parquet()</span></code> where an exception was raised if the write destination is S3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19134">GH19134</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Interval</span></code> now supported in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_excel()</span></code> for all Excel file types (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19242">GH19242</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code> now supported in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_excel()</span></code> for all Excel file types (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19242">GH19242</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9155">GH9155</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19900">GH19900</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.io.stata.StataReader.value_labels()</span></code> raising an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> when called on very old files. Now returns an empty dict (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19417">GH19417</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_pickle()</span></code> when unpickling objects with <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">Float64Index</span></code> created with pandas prior to version 0.20 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19939">GH19939</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.io.json.json_normalize()</span></code> where sub-records are not properly normalized if any sub-records values are NoneType (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20030">GH20030</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">usecols</span></code> parameter in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> where error is not raised correctly when passing a string. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20529">GH20529</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">HDFStore.keys()</span></code> when reading a file with a soft link causes exception (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20523">GH20523</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">HDFStore.select_column()</span></code> where a key which is not a valid store raised an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17912">GH17912</a>)</p></li>
</ul>
</div>
<div class="section" id="plotting">
<h3>Plotting<a class="headerlink" href="#plotting" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Better error message when attempting to plot but matplotlib is not installed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19810">GH19810</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code> now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> when the <code class="docutils literal notranslate"><span class="pre">x</span></code> or <code class="docutils literal notranslate"><span class="pre">y</span></code> argument is improperly formed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18671">GH18671</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code> when <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> arguments given as positions caused incorrect referenced columns for line, bar and area plots (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20056">GH20056</a>)</p></li>
<li><p>Bug in formatting tick labels with <code class="docutils literal notranslate"><span class="pre">datetime.time()</span></code> and fractional seconds (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18478">GH18478</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.plot.kde()</span></code> has exposed the args <code class="docutils literal notranslate"><span class="pre">ind</span></code> and <code class="docutils literal notranslate"><span class="pre">bw_method</span></code> in the docstring (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18461">GH18461</a>). The argument <code class="docutils literal notranslate"><span class="pre">ind</span></code> may now also be an integer (number of sample points).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code> now supports multiple columns to the <code class="docutils literal notranslate"><span class="pre">y</span></code> argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19699">GH19699</a>)</p></li>
</ul>
</div>
<div class="section" id="groupby-resample-rolling">
<h3>Groupby/resample/rolling<a class="headerlink" href="#groupby-resample-rolling" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug when grouping by a single column and aggregating with a class like <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">tuple</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18079">GH18079</a>)</p></li>
<li><p>Fixed regression in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code> which would not emit an error when called with a tuple key not in the index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18798">GH18798</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code> which silently ignored unsupported (or mistyped) options for <code class="docutils literal notranslate"><span class="pre">label</span></code>, <code class="docutils literal notranslate"><span class="pre">closed</span></code> and <code class="docutils literal notranslate"><span class="pre">convention</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19303">GH19303</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code> where tuples were interpreted as lists of keys rather than as keys (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17979">GH17979</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18249">GH18249</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code> where aggregation by <code class="docutils literal notranslate"><span class="pre">first</span></code>/<code class="docutils literal notranslate"><span class="pre">last</span></code>/<code class="docutils literal notranslate"><span class="pre">min</span></code>/<code class="docutils literal notranslate"><span class="pre">max</span></code> was causing timestamps to lose precision (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19526">GH19526</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.transform()</span></code> where particular aggregation functions were being incorrectly cast to match the dtype(s) of the grouped data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19200">GH19200</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code> passing the <cite>on=</cite> kwarg, and subsequently using <code class="docutils literal notranslate"><span class="pre">.apply()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17813">GH17813</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.resample().aggregate</span></code> not raising a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> when aggregating a non-existent column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16766">GH16766</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19566">GH19566</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrameGroupBy.cumsum()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrameGroupBy.cumprod()</span></code> when <code class="docutils literal notranslate"><span class="pre">skipna</span></code> was passed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19806">GH19806</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code> that dropped timezone information (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13238">GH13238</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code> where transformations using <code class="docutils literal notranslate"><span class="pre">np.all</span></code> and <code class="docutils literal notranslate"><span class="pre">np.any</span></code> were raising a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20653">GH20653</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code> where <code class="docutils literal notranslate"><span class="pre">ffill</span></code>, <code class="docutils literal notranslate"><span class="pre">bfill</span></code>, <code class="docutils literal notranslate"><span class="pre">pad</span></code>, <code class="docutils literal notranslate"><span class="pre">backfill</span></code>, <code class="docutils literal notranslate"><span class="pre">fillna</span></code>, <code class="docutils literal notranslate"><span class="pre">interpolate</span></code>, and <code class="docutils literal notranslate"><span class="pre">asfreq</span></code> were ignoring <code class="docutils literal notranslate"><span class="pre">loffset</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20744">GH20744</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code> when applying a function that has mixed data types and the user supplied function can fail on the grouping column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20949">GH20949</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrameGroupBy.rolling().apply()</span></code> where operations performed against the associated <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> object could impact the inclusion of the grouped item(s) in the result (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14013">GH14013</a>)</p></li>
</ul>
</div>
<div class="section" id="sparse">
<h3>Sparse<a class="headerlink" href="#sparse" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in which creating a <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseDataFrame</span></code> from a dense <code class="docutils literal notranslate"><span class="pre">Series</span></code> or an unsupported type raised an uncontrolled exception (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19374">GH19374</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseDataFrame.to_csv</span></code> causing exception (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19384">GH19384</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseSeries.memory_usage</span></code> which caused segfault by accessing non sparse elements (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19368">GH19368</a>)</p></li>
<li><p>Bug in constructing a <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseArray</span></code>: if <code class="docutils literal notranslate"><span class="pre">data</span></code> is a scalar and <code class="docutils literal notranslate"><span class="pre">index</span></code> is defined it will coerce to <code class="docutils literal notranslate"><span class="pre">float64</span></code> regardless of scalar’s dtype. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19163">GH19163</a>)</p></li>
</ul>
</div>
<div class="section" id="reshaping">
<h3>Reshaping<a class="headerlink" href="#reshaping" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.merge()</span></code> where referencing a <code class="docutils literal notranslate"><span class="pre">CategoricalIndex</span></code> by name, where the <code class="docutils literal notranslate"><span class="pre">by</span></code> kwarg would <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20777">GH20777</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.stack()</span></code> which fails trying to sort mixed type levels under Python 3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18310">GH18310</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.unstack()</span></code> which casts int to float if <code class="docutils literal notranslate"><span class="pre">columns</span></code> is a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> with unused levels (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17845">GH17845</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.unstack()</span></code> which raises an error if <code class="docutils literal notranslate"><span class="pre">index</span></code> is a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> with unused labels on the unstacked level (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18562">GH18562</a>)</p></li>
<li><p>Fixed construction of a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> from a <code class="docutils literal notranslate"><span class="pre">dict</span></code> containing <code class="docutils literal notranslate"><span class="pre">NaN</span></code> as key (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18480">GH18480</a>)</p></li>
<li><p>Fixed construction of a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> from a <code class="docutils literal notranslate"><span class="pre">dict</span></code> containing <code class="docutils literal notranslate"><span class="pre">NaN</span></code> as key (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18455">GH18455</a>)</p></li>
<li><p>Disabled construction of a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> where len(index) &gt; len(data) = 1, which previously would broadcast the data item, and now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18819">GH18819</a>)</p></li>
<li><p>Suppressed error in the construction of a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> from a <code class="docutils literal notranslate"><span class="pre">dict</span></code> containing scalar values when the corresponding keys are not included in the passed index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18600">GH18600</a>)</p></li>
<li><p>Fixed (changed from <code class="docutils literal notranslate"><span class="pre">object</span></code> to <code class="docutils literal notranslate"><span class="pre">float64</span></code>) dtype of <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> initialized with axes, no data, and <code class="docutils literal notranslate"><span class="pre">dtype=int</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19646">GH19646</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.rank()</span></code> where <code class="docutils literal notranslate"><span class="pre">Series</span></code> containing <code class="docutils literal notranslate"><span class="pre">NaT</span></code> modifies the <code class="docutils literal notranslate"><span class="pre">Series</span></code> inplace (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18521">GH18521</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">cut()</span></code> which fails when using readonly arrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18773">GH18773</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.pivot_table()</span></code> which fails when the <code class="docutils literal notranslate"><span class="pre">aggfunc</span></code> arg is of type string.  The behavior is now consistent with other methods like <code class="docutils literal notranslate"><span class="pre">agg</span></code> and <code class="docutils literal notranslate"><span class="pre">apply</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18713">GH18713</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.merge()</span></code> in which merging using <code class="docutils literal notranslate"><span class="pre">Index</span></code> objects as vectors raised an Exception (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19038">GH19038</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.stack()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.unstack()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.unstack()</span></code> which were not returning subclasses (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15563">GH15563</a>)</p></li>
<li><p>Bug in timezone comparisons, manifesting as a conversion of the index to UTC in <code class="docutils literal notranslate"><span class="pre">.concat()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18523">GH18523</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code> when concatenating sparse and dense series it returns only a <code class="docutils literal notranslate"><span class="pre">SparseDataFrame</span></code>. Should be a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18914">GH18914</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18686">GH18686</a>, and <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16874">GH16874</a>)</p></li>
<li><p>Improved error message for <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.merge()</span></code> when there is no common merge key (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19427">GH19427</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.join()</span></code> which does an <code class="docutils literal notranslate"><span class="pre">outer</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">left</span></code> join when being called with multiple DataFrames and some have non-unique indices (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19624">GH19624</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.rename()</span></code> now accepts <code class="docutils literal notranslate"><span class="pre">axis</span></code> as a kwarg (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18589">GH18589</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">rename()</span></code> where an Index of same-length tuples was converted to a MultiIndex (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19497">GH19497</a>)</p></li>
<li><p>Comparisons between <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> would return a <code class="docutils literal notranslate"><span class="pre">Series</span></code> with an incorrect name, ignoring the <code class="docutils literal notranslate"><span class="pre">Index</span></code>’s name attribute (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19582">GH19582</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">qcut()</span></code> where datetime and timedelta data with <code class="docutils literal notranslate"><span class="pre">NaT</span></code> present raised a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19768">GH19768</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.iterrows()</span></code>, which would infers strings not compliant to <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601">ISO8601</a> to datetimes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19671">GH19671</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> constructor with <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> where a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is not raised when an index of different length is given (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19342">GH19342</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code> where column metadata is lost when converting to categorical or a dictionary of dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19920">GH19920</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">cut()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">qcut()</span></code> where timezone information was dropped (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19872">GH19872</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> constructor with a <code class="docutils literal notranslate"><span class="pre">dtype=str</span></code>, previously raised in some cases (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19853">GH19853</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">get_dummies()</span></code>, and <code class="xref py py-func docutils literal notranslate"><span class="pre">select_dtypes()</span></code>, where duplicate column names caused incorrect behavior (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20848">GH20848</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">isna()</span></code>, which cannot handle ambiguous typed lists (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20675">GH20675</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code> which raises an error when concatenating TZ-aware dataframes and all-NaT dataframes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12396">GH12396</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code> which raises an error when concatenating empty TZ-aware series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18447">GH18447</a>)</p></li>
</ul>
</div>
<div class="section" id="other">
<h3>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Improved error message when attempting to use a Python keyword as an identifier in a <code class="docutils literal notranslate"><span class="pre">numexpr</span></code> backed query (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18221">GH18221</a>)</p></li>
<li><p>Bug in accessing a <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.get_option()</span></code>, which raised <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> rather than <code class="docutils literal notranslate"><span class="pre">OptionError</span></code> when looking up a non-existent option key in some cases (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19789">GH19789</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">testing.assert_series_equal()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">testing.assert_frame_equal()</span></code> for Series or DataFrames with differing unicode data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20503">GH20503</a>)</p></li>
</ul>
</div>
</div>
<div class="section" id="contributors">
<span id="whatsnew-0-23-0-contributors"></span><h2>Contributors<a class="headerlink" href="#contributors" title="Permalink to this headline">¶</a></h2>
<p>A total of 328 people contributed patches to this release.  People with a
“+” by their names contributed a patch for the first time.
</p>
<ul class="simple">
<li><p>Aaron Critchley</p></li>
<li><p>AbdealiJK +</p></li>
<li><p>Adam Hooper +</p></li>
<li><p>Albert Villanova del Moral</p></li>
<li><p>Alejandro Giacometti +</p></li>
<li><p>Alejandro Hohmann +</p></li>
<li><p>Alex Rychyk</p></li>
<li><p>Alexander Buchkovsky</p></li>
<li><p>Alexander Lenail +</p></li>
<li><p>Alexander Michael Schade</p></li>
<li><p>Aly Sivji +</p></li>
<li><p>Andreas Költringer +</p></li>
<li><p>Andrew</p></li>
<li><p>Andrew Bui +</p></li>
<li><p>András Novoszáth +</p></li>
<li><p>Andy Craze +</p></li>
<li><p>Andy R. Terrel</p></li>
<li><p>Anh Le +</p></li>
<li><p>Anil Kumar Pallekonda +</p></li>
<li><p>Antoine Pitrou +</p></li>
<li><p>Antonio Linde +</p></li>
<li><p>Antonio Molina +</p></li>
<li><p>Antonio Quinonez +</p></li>
<li><p>Armin Varshokar +</p></li>
<li><p>Artem Bogachev +</p></li>
<li><p>Avi Sen +</p></li>
<li><p>Azeez Oluwafemi +</p></li>
<li><p>Ben Auffarth +</p></li>
<li><p>Bernhard Thiel +</p></li>
<li><p>Bhavesh Poddar +</p></li>
<li><p>BielStela +</p></li>
<li><p>Blair +</p></li>
<li><p>Bob Haffner</p></li>
<li><p>Brett Naul +</p></li>
<li><p>Brock Mendel</p></li>
<li><p>Bryce Guinta +</p></li>
<li><p>Carlos Eduardo Moreira dos Santos +</p></li>
<li><p>Carlos García Márquez +</p></li>
<li><p>Carol Willing</p></li>
<li><p>Cheuk Ting Ho +</p></li>
<li><p>Chitrank Dixit +</p></li>
<li><p>Chris</p></li>
<li><p>Chris Burr +</p></li>
<li><p>Chris Catalfo +</p></li>
<li><p>Chris Mazzullo</p></li>
<li><p>Christian Chwala +</p></li>
<li><p>Cihan Ceyhan +</p></li>
<li><p>Clemens Brunner</p></li>
<li><p>Colin +</p></li>
<li><p>Cornelius Riemenschneider</p></li>
<li><p>Crystal Gong +</p></li>
<li><p>DaanVanHauwermeiren</p></li>
<li><p>Dan Dixey +</p></li>
<li><p>Daniel Frank +</p></li>
<li><p>Daniel Garrido +</p></li>
<li><p>Daniel Sakuma +</p></li>
<li><p>DataOmbudsman +</p></li>
<li><p>Dave Hirschfeld</p></li>
<li><p>Dave Lewis +</p></li>
<li><p>David Adrián Cañones Castellano +</p></li>
<li><p>David Arcos +</p></li>
<li><p>David C Hall +</p></li>
<li><p>David Fischer</p></li>
<li><p>David Hoese +</p></li>
<li><p>David Lutz +</p></li>
<li><p>David Polo +</p></li>
<li><p>David Stansby</p></li>
<li><p>Dennis Kamau +</p></li>
<li><p>Dillon Niederhut</p></li>
<li><p>Dimitri +</p></li>
<li><p>Dr. Irv</p></li>
<li><p>Dror Atariah</p></li>
<li><p>Eric Chea +</p></li>
<li><p>Eric Kisslinger</p></li>
<li><p>Eric O. LEBIGOT (EOL) +</p></li>
<li><p>FAN-GOD +</p></li>
<li><p>Fabian Retkowski +</p></li>
<li><p>Fer Sar +</p></li>
<li><p>Gabriel de Maeztu +</p></li>
<li><p>Gianpaolo Macario +</p></li>
<li><p>Giftlin Rajaiah</p></li>
<li><p>Gilberto Olimpio +</p></li>
<li><p>Gina +</p></li>
<li><p>Gjelt +</p></li>
<li><p>Graham Inggs +</p></li>
<li><p>Grant Roch</p></li>
<li><p>Grant Smith +</p></li>
<li><p>Grzegorz Konefał +</p></li>
<li><p>Guilherme Beltramini</p></li>
<li><p>HagaiHargil +</p></li>
<li><p>Hamish Pitkeathly +</p></li>
<li><p>Hammad Mashkoor +</p></li>
<li><p>Hannah Ferchland +</p></li>
<li><p>Hans</p></li>
<li><p>Haochen Wu +</p></li>
<li><p>Hissashi Rocha +</p></li>
<li><p>Iain Barr +</p></li>
<li><p>Ibrahim Sharaf ElDen +</p></li>
<li><p>Ignasi Fosch +</p></li>
<li><p>Igor Conrado Alves de Lima +</p></li>
<li><p>Igor Shelvinskyi +</p></li>
<li><p>Imanflow +</p></li>
<li><p>Ingolf Becker</p></li>
<li><p>Israel Saeta Pérez</p></li>
<li><p>Iva Koevska +</p></li>
<li><p>Jakub Nowacki +</p></li>
<li><p>Jan F-F +</p></li>
<li><p>Jan Koch +</p></li>
<li><p>Jan Werkmann</p></li>
<li><p>Janelle Zoutkamp +</p></li>
<li><p>Jason Bandlow +</p></li>
<li><p>Jaume Bonet +</p></li>
<li><p>Jay Alammar +</p></li>
<li><p>Jeff Reback</p></li>
<li><p>JennaVergeynst</p></li>
<li><p>Jimmy Woo +</p></li>
<li><p>Jing Qiang Goh +</p></li>
<li><p>Joachim Wagner +</p></li>
<li><p>Joan Martin Miralles +</p></li>
<li><p>Joel Nothman</p></li>
<li><p>Joeun Park +</p></li>
<li><p>John Cant +</p></li>
<li><p>Johnny Metz +</p></li>
<li><p>Jon Mease</p></li>
<li><p>Jonas Schulze +</p></li>
<li><p>Jongwony +</p></li>
<li><p>Jordi Contestí +</p></li>
<li><p>Joris Van den Bossche</p></li>
<li><p>José F. R. Fonseca +</p></li>
<li><p>Jovixe +</p></li>
<li><p>Julio Martinez +</p></li>
<li><p>Jörg Döpfert</p></li>
<li><p>KOBAYASHI Ittoku +</p></li>
<li><p>Kate Surta +</p></li>
<li><p>Kenneth +</p></li>
<li><p>Kevin Kuhl</p></li>
<li><p>Kevin Sheppard</p></li>
<li><p>Krzysztof Chomski</p></li>
<li><p>Ksenia +</p></li>
<li><p>Ksenia Bobrova +</p></li>
<li><p>Kunal Gosar +</p></li>
<li><p>Kurtis Kerstein +</p></li>
<li><p>Kyle Barron +</p></li>
<li><p>Laksh Arora +</p></li>
<li><p>Laurens Geffert +</p></li>
<li><p>Leif Walsh</p></li>
<li><p>Liam Marshall +</p></li>
<li><p>Liam3851 +</p></li>
<li><p>Licht Takeuchi</p></li>
<li><p>Liudmila +</p></li>
<li><p>Ludovico Russo +</p></li>
<li><p>Mabel Villalba +</p></li>
<li><p>Manan Pal Singh +</p></li>
<li><p>Manraj Singh</p></li>
<li><p>Marc +</p></li>
<li><p>Marc Garcia</p></li>
<li><p>Marco Hemken +</p></li>
<li><p>Maria del Mar Bibiloni +</p></li>
<li><p>Mario Corchero +</p></li>
<li><p>Mark Woodbridge +</p></li>
<li><p>Martin Journois +</p></li>
<li><p>Mason Gallo +</p></li>
<li><p>Matias Heikkilä +</p></li>
<li><p>Matt Braymer-Hayes</p></li>
<li><p>Matt Kirk +</p></li>
<li><p>Matt Maybeno +</p></li>
<li><p>Matthew Kirk +</p></li>
<li><p>Matthew Rocklin +</p></li>
<li><p>Matthew Roeschke</p></li>
<li><p>Matthias Bussonnier +</p></li>
<li><p>Max Mikhaylov +</p></li>
<li><p>Maxim Veksler +</p></li>
<li><p>Maximilian Roos</p></li>
<li><p>Maximiliano Greco +</p></li>
<li><p>Michael Penkov</p></li>
<li><p>Michael Röttger +</p></li>
<li><p>Michael Selik +</p></li>
<li><p>Michael Waskom</p></li>
<li><p>Mie~~~</p></li>
<li><p>Mike Kutzma +</p></li>
<li><p>Ming Li +</p></li>
<li><p>Mitar +</p></li>
<li><p>Mitch Negus +</p></li>
<li><p>Montana Low +</p></li>
<li><p>Moritz Münst +</p></li>
<li><p>Mortada Mehyar</p></li>
<li><p>Myles Braithwaite +</p></li>
<li><p>Nate Yoder</p></li>
<li><p>Nicholas Ursa +</p></li>
<li><p>Nick Chmura</p></li>
<li><p>Nikos Karagiannakis +</p></li>
<li><p>Nipun Sadvilkar +</p></li>
<li><p>Nis Martensen +</p></li>
<li><p>Noah +</p></li>
<li><p>Noémi Éltető +</p></li>
<li><p>Olivier Bilodeau +</p></li>
<li><p>Ondrej Kokes +</p></li>
<li><p>Onno Eberhard +</p></li>
<li><p>Paul Ganssle +</p></li>
<li><p>Paul Mannino +</p></li>
<li><p>Paul Reidy</p></li>
<li><p>Paulo Roberto de Oliveira Castro +</p></li>
<li><p>Pepe Flores +</p></li>
<li><p>Peter Hoffmann</p></li>
<li><p>Phil Ngo +</p></li>
<li><p>Pietro Battiston</p></li>
<li><p>Pranav Suri +</p></li>
<li><p>Priyanka Ojha +</p></li>
<li><p>Pulkit Maloo +</p></li>
<li><p>README Bot +</p></li>
<li><p>Ray Bell +</p></li>
<li><p>Riccardo Magliocchetti +</p></li>
<li><p>Ridhwan Luthra +</p></li>
<li><p>Robert Meyer</p></li>
<li><p>Robin</p></li>
<li><p>Robin Kiplang’at +</p></li>
<li><p>Rohan Pandit +</p></li>
<li><p>Rok Mihevc +</p></li>
<li><p>Rouz Azari</p></li>
<li><p>Ryszard T. Kaleta +</p></li>
<li><p>Sam Cohan</p></li>
<li><p>Sam Foo</p></li>
<li><p>Samir Musali +</p></li>
<li><p>Samuel Sinayoko +</p></li>
<li><p>Sangwoong Yoon</p></li>
<li><p>SarahJessica +</p></li>
<li><p>Sharad Vijalapuram +</p></li>
<li><p>Shubham Chaudhary +</p></li>
<li><p>SiYoungOh +</p></li>
<li><p>Sietse Brouwer</p></li>
<li><p>Simone Basso +</p></li>
<li><p>Stefania Delprete +</p></li>
<li><p>Stefano Cianciulli +</p></li>
<li><p>Stephen Childs +</p></li>
<li><p>StephenVoland +</p></li>
<li><p>Stijn Van Hoey +</p></li>
<li><p>Sven</p></li>
<li><p>Talitha Pumar +</p></li>
<li><p>Tarbo Fukazawa +</p></li>
<li><p>Ted Petrou +</p></li>
<li><p>Thomas A Caswell</p></li>
<li><p>Tim Hoffmann +</p></li>
<li><p>Tim Swast</p></li>
<li><p>Tom Augspurger</p></li>
<li><p>Tommy +</p></li>
<li><p>Tulio Casagrande +</p></li>
<li><p>Tushar Gupta +</p></li>
<li><p>Tushar Mittal +</p></li>
<li><p>Upkar Lidder +</p></li>
<li><p>Victor Villas +</p></li>
<li><p>Vince W +</p></li>
<li><p>Vinícius Figueiredo +</p></li>
<li><p>Vipin Kumar +</p></li>
<li><p>WBare</p></li>
<li><p>Wenhuan +</p></li>
<li><p>Wes Turner</p></li>
<li><p>William Ayd</p></li>
<li><p>Wilson Lin +</p></li>
<li><p>Xbar</p></li>
<li><p>Yaroslav Halchenko</p></li>
<li><p>Yee Mey</p></li>
<li><p>Yeongseon Choe +</p></li>
<li><p>Yian +</p></li>
<li><p>Yimeng Zhang</p></li>
<li><p>ZhuBaohe +</p></li>
<li><p>Zihao Zhao +</p></li>
<li><p>adatasetaday +</p></li>
<li><p>akielbowicz +</p></li>
<li><p>akosel +</p></li>
<li><p>alinde1 +</p></li>
<li><p>amuta +</p></li>
<li><p>bolkedebruin</p></li>
<li><p>cbertinato</p></li>
<li><p>cgohlke</p></li>
<li><p>charlie0389 +</p></li>
<li><p>chris-b1</p></li>
<li><p>csfarkas +</p></li>
<li><p>dajcs +</p></li>
<li><p>deflatSOCO +</p></li>
<li><p>derestle-htwg</p></li>
<li><p>discort</p></li>
<li><p>dmanikowski-reef +</p></li>
<li><p>donK23 +</p></li>
<li><p>elrubio +</p></li>
<li><p>fivemok +</p></li>
<li><p>fjdiod</p></li>
<li><p>fjetter +</p></li>
<li><p>froessler +</p></li>
<li><p>gabrielclow</p></li>
<li><p>gfyoung</p></li>
<li><p>ghasemnaddaf</p></li>
<li><p>h-vetinari +</p></li>
<li><p>himanshu awasthi +</p></li>
<li><p>ignamv +</p></li>
<li><p>jayfoad +</p></li>
<li><p>jazzmuesli +</p></li>
<li><p>jbrockmendel</p></li>
<li><p>jen w +</p></li>
<li><p>jjames34 +</p></li>
<li><p>joaoavf +</p></li>
<li><p>joders +</p></li>
<li><p>jschendel</p></li>
<li><p>juan huguet +</p></li>
<li><p>l736x +</p></li>
<li><p>luzpaz +</p></li>
<li><p>mdeboc +</p></li>
<li><p>miguelmorin +</p></li>
<li><p>miker985</p></li>
<li><p>miquelcamprodon +</p></li>
<li><p>orereta +</p></li>
<li><p>ottiP +</p></li>
<li><p>peterpanmj +</p></li>
<li><p>rafarui +</p></li>
<li><p>raph-m +</p></li>
<li><p>readyready15728 +</p></li>
<li><p>rmihael +</p></li>
<li><p>samghelms +</p></li>
<li><p>scriptomation +</p></li>
<li><p>sfoo +</p></li>
<li><p>stefansimik +</p></li>
<li><p>stonebig</p></li>
<li><p>tmnhat2001 +</p></li>
<li><p>tomneep +</p></li>
<li><p>topper-123</p></li>
<li><p>tv3141 +</p></li>
<li><p>verakai +</p></li>
<li><p>xpvpc +</p></li>
<li><p>zhanghui +</p></li>
</ul>
</div>
</div>


              </div>
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="v0.23.1.html" title="previous page">What’s new in 0.23.1 (June 12, 2018)</a>
    <a class='right-next' id="next-link" href="v0.22.0.html" title="next page">v0.22.0 (December 29, 2017)</a>

              </div>
              
          </main>

      </div>
    </div><script>
    // TOC sidebar - add "active" class to parent list
    //
    // Bootstrap's scrollspy adds the active class to the <a> link,
    // but for the automatic collapsing we need this on the parent list item.
    //
    // The event is triggered on "window" (and not the nav item as documented),
    // see https://github.com/twbs/bootstrap/issues/20086
    $(window).on("activate.bs.scrollspy", function(){
    var navLinks = document.querySelectorAll('#bd-toc-nav a');
    for (var i = 0; i < navLinks.length; i++) {
        var navLink = navLinks[i];
        navLink.parentElement.classList.remove('active');
    }
    var navLinks = document.querySelectorAll('#bd-toc-nav a.active');
    for (var i = 0; i < navLinks.length; i++) {
        var navLink = navLinks[i];
        navLink.parentElement.classList.add('active');
    }
    });

    /**
     * Use left and right arrow keys to navigate forward and backwards.
    */
    const LEFT_ARROW_KEYCODE = 37
    const RIGHT_ARROW_KEYCODE = 39

    const getPrevUrl = () => document.getElementById('prev-link').href
    const getNextUrl = () => document.getElementById('next-link').href
    const initPageNav = (event) => {
        const keycode = event.which

        if (keycode === LEFT_ARROW_KEYCODE) {
            window.location.href = getPrevUrl();
        } else if (keycode === RIGHT_ARROW_KEYCODE) {
            window.location.href = getNextUrl();
        }
    };

    var keyboardListener = false;
    $( document ).ready(() => {
        if (keyboardListener === false) {
            document.addEventListener('keydown', initPageNav)
            keyboardListener = true;
        }
    });
</script>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2008-2020, the pandas development team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.0.
    </div>
  </body>
</html>