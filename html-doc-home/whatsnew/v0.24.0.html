

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>What’s new in 0.24.0 (January 25, 2019) &#8212; pandas 1.0.0rc0+111.ge72cd7c52 documentation</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link rel="stylesheet" href="../_static/sphinx-bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/pandas.css" />
    <link href="../_static/css/custom.css" rel="stylesheet">
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="What’s new in 0.23.4 (August 3, 2018)" href="v0.23.4.html" />
    <link rel="prev" title="Whats new in 0.24.1 (February 3, 2019)" href="v0.24.1.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">

<a class="navbar-brand" href="../index.html">
  <img src="../_static/pandas.svg" class="logo" alt="logo">
</a>

<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>

<div id="navbar-menu" class="collapse navbar-collapse">
  <ul id="navbar-main-elements" class="navbar-nav mr-auto">
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        1.0.0
      </a>
      <div class="dropdown-menu" aria-labelledby="navbarDropdown" id="version-menu"></div>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="../index.html">Home</a>
    </li>
    
    
    <li class="nav-item ">
        <a class="nav-link" href="v1.1.0.html">What's New in 1.1.0</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../getting_started/index.html">Getting started</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../user_guide/index.html">User Guide</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../reference/index.html">API reference</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../development/index.html">Development</a>
    </li>
    
    <li class="nav-item active">
        <a class="nav-link" href="index.html">Release Notes</a>
    </li>
    
    
  </ul>
  <ul class="navbar-nav ml-auto">
    
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/pandas-dev/pandas" target="_blank" rel="noopener">
          <span><i class="fab fa-github-square"></i></span>
        </a>
      </li>
    
    
      <li class="nav-item">
        <a class="nav-link" href="https://twitter.com/pandas_dev" target="_blank" rel="noopener">
          <span><i class="fab fa-twitter-square"></i></span>
        </a>
      </li>
    
  </ul>
</div>
    </nav>

    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
      
      
      
      
      
      
      
      
        
      
      
    </ul>

</nav>
          </div>

          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage"><i class="fas fa-list"></i> On this page</div>
<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#enhancements" class="nav-link">Enhancements</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#optional-integer-na-support" class="nav-link">Optional integer NA support</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#accessing-the-values-in-a-series-or-index" class="nav-link">Accessing the values in a Series or Index</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#pandas-array-a-new-top-level-method-for-creating-arrays" class="nav-link">pandas.array: a new top-level method for creating arrays</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#storing-interval-and-period-data-in-series-and-dataframe" class="nav-link">Storing Interval and Period data in Series and DataFrame</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#joining-with-two-multi-indexes" class="nav-link">Joining with two multi-indexes</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#read-html-enhancements" class="nav-link">read_html Enhancements</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#new-styler-pipe-method" class="nav-link">New Styler.pipe() method</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#renaming-names-in-a-multiindex" class="nav-link">Renaming names in a MultiIndex</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#other-enhancements" class="nav-link">Other enhancements</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#backwards-incompatible-api-changes" class="nav-link">Backwards incompatible API changes</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#increased-minimum-versions-for-dependencies" class="nav-link">Increased minimum versions for dependencies</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#os-linesep-is-used-for-line-terminator-of-dataframe-to-csv" class="nav-link">os.linesep is used for line_terminator of DataFrame.to_csv</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#proper-handling-of-np-nan-in-a-string-data-typed-column-with-the-python-engine" class="nav-link">Proper handling of np.NaN in a string data-typed column with the Python engine</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#parsing-datetime-strings-with-timezone-offsets" class="nav-link">Parsing datetime strings with timezone offsets</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#parsing-mixed-timezones-with-read-csv" class="nav-link">Parsing mixed-timezones with read_csv()</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#time-values-in-dt-end-time-and-to-timestamp-how-end" class="nav-link">Time values in dt.end_time and to_timestamp(how='end')</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#series-unique-for-timezone-aware-data" class="nav-link">Series.unique for Timezone-Aware Data</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#sparse-data-structure-refactor" class="nav-link">Sparse data structure refactor</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#get-dummies-always-returns-a-dataframe" class="nav-link">get_dummies() always returns a DataFrame</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#raise-valueerror-in-dataframe-to-dict-orient-index" class="nav-link">Raise ValueError in DataFrame.to_dict(orient='index')</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#tick-dateoffset-normalize-restrictions" class="nav-link">Tick DateOffset normalize restrictions</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#period-subtraction" class="nav-link">Period subtraction</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#addition-subtraction-of-nan-from-dataframe" class="nav-link">Addition/subtraction of NaN from DataFrame</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#dataframe-comparison-operations-broadcasting-changes" class="nav-link">DataFrame comparison operations broadcasting changes</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#dataframe-arithmetic-operations-broadcasting-changes" class="nav-link">DataFrame arithmetic operations broadcasting changes</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#series-and-index-data-dtype-incompatibilities" class="nav-link">Series and Index data-dtype incompatibilities</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#concatenation-changes" class="nav-link">Concatenation Changes</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#datetimelike-api-changes" class="nav-link">Datetimelike API changes</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#other-api-changes" class="nav-link">Other API changes</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#extension-type-changes" class="nav-link">Extension type changes</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#deprecations" class="nav-link">Deprecations</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#integer-addition-subtraction-with-datetimes-and-timedeltas-is-deprecated" class="nav-link">Integer addition/subtraction with datetimes and timedeltas is deprecated</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#passing-integer-data-and-a-timezone-to-datetimeindex" class="nav-link">Passing integer data and a timezone to datetimeindex</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#converting-timezone-aware-series-and-index-to-numpy-arrays" class="nav-link">Converting timezone-aware Series and Index to NumPy arrays</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#removal-of-prior-version-deprecations-changes" class="nav-link">Removal of prior version deprecations/changes</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#performance-improvements" class="nav-link">Performance improvements</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#bug-fixes" class="nav-link">Bug fixes</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#categorical" class="nav-link">Categorical</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#datetimelike" class="nav-link">Datetimelike</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#timedelta" class="nav-link">Timedelta</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#timezones" class="nav-link">Timezones</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#offsets" class="nav-link">Offsets</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#numeric" class="nav-link">Numeric</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#conversion" class="nav-link">Conversion</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#strings" class="nav-link">Strings</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#interval" class="nav-link">Interval</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#indexing" class="nav-link">Indexing</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#missing" class="nav-link">Missing</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#multiindex" class="nav-link">MultiIndex</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#i-o" class="nav-link">I/O</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#plotting" class="nav-link">Plotting</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#groupby-resample-rolling" class="nav-link">Groupby/resample/rolling</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#reshaping" class="nav-link">Reshaping</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#sparse" class="nav-link">Sparse</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#style" class="nav-link">Style</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#build-changes" class="nav-link">Build changes</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#other" class="nav-link">Other</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#contributors" class="nav-link">Contributors</a>
        </li>
    
    </ul>
</nav>
              
            </div>

          <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
              <div>
                
  <div class="section" id="what-s-new-in-0-24-0-january-25-2019">
<span id="whatsnew-0240"></span><h1>What’s new in 0.24.0 (January 25, 2019)<a class="headerlink" href="#what-s-new-in-0-24-0-january-25-2019" title="Permalink to this headline">¶</a></h1>
<div class="alert alert-warning">
<p class="admonition-title">Warning</p>
<p>The 0.24.x series of releases will be the last to support Python 2. Future feature
releases will support Python 3 only. See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24/install.html#install-dropping-27">Dropping Python 2.7</a> for more
details.</p>
</div>
<p>This is a major release from 0.23.4 and includes a number of API changes, new
features, enhancements, and performance improvements along with a large number
of bug fixes.</p>
<p>Highlights include:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#whatsnew-0240-enhancements-intna"><span class="std std-ref">Optional Integer NA Support</span></a></p></li>
<li><p><a class="reference internal" href="#whatsnew-0240-values-api"><span class="std std-ref">New APIs for accessing the array backing a Series or Index</span></a></p></li>
<li><p><a class="reference internal" href="#whatsnew-0240-enhancements-array"><span class="std std-ref">A new top-level method for creating arrays</span></a></p></li>
<li><p><a class="reference internal" href="#whatsnew-0240-enhancements-interval"><span class="std std-ref">Store Interval and Period data in a Series or DataFrame</span></a></p></li>
<li><p><a class="reference internal" href="#whatsnew-0240-enhancements-join-with-two-multiindexes"><span class="std std-ref">Support for joining on two MultiIndexes</span></a></p></li>
</ul>
<p>Check the <a class="reference internal" href="#whatsnew-0240-api-breaking"><span class="std std-ref">API Changes</span></a> and <a class="reference internal" href="#whatsnew-0240-deprecations"><span class="std std-ref">deprecations</span></a> before updating.</p>
<p>These are the changes in pandas 0.24.0. See <a class="reference internal" href="index.html#release"><span class="std std-ref">Release Notes</span></a> for a full changelog
including other versions of pandas.</p>
<div class="section" id="enhancements">
<h2>Enhancements<a class="headerlink" href="#enhancements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="optional-integer-na-support">
<span id="whatsnew-0240-enhancements-intna"></span><h3>Optional integer NA support<a class="headerlink" href="#optional-integer-na-support" title="Permalink to this headline">¶</a></h3>
<p>Pandas has gained the ability to hold integer dtypes with missing values. This long requested feature is enabled through the use of <a class="reference internal" href="../development/extending.html#extending-extension-types"><span class="std std-ref">extension types</span></a>.</p>
<div class="alert alert-info">
<p class="admonition-title">Note</p>
<p>IntegerArray is currently experimental. Its API or implementation may
change without warning.</p>
</div>
<p>We can construct a <code class="docutils literal notranslate"><span class="pre">Series</span></code> with the specified dtype. The dtype string <code class="docutils literal notranslate"><span class="pre">Int64</span></code> is a pandas <code class="docutils literal notranslate"><span class="pre">ExtensionDtype</span></code>. Specifying a list or array using the traditional missing value
marker of <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> will infer to integer dtype. The display of the <code class="docutils literal notranslate"><span class="pre">Series</span></code> will also use the <code class="docutils literal notranslate"><span class="pre">NaN</span></code> to indicate missing values in string outputs. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20700">GH20700</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20747">GH20747</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22441">GH22441</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21789">GH21789</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22346">GH22346</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;Int64&#39;</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">s</span>
<span class="gh">Out[2]: </span><span class="go"></span>
<span class="go">0       1</span>
<span class="go">1       2</span>
<span class="go">2    &lt;NA&gt;</span>
<span class="go">Length: 3, dtype: Int64</span>
</pre></div>
</div>
<p>Operations on these dtypes will propagate <code class="docutils literal notranslate"><span class="pre">NaN</span></code> as other pandas operations.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># arithmetic</span>
<span class="gp">In [3]: </span><span class="n">s</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gh">Out[3]: </span><span class="go"></span>
<span class="go">0       2</span>
<span class="go">1       3</span>
<span class="go">2    &lt;NA&gt;</span>
<span class="go">Length: 3, dtype: Int64</span>

<span class="go"># comparison</span>
<span class="gp">In [4]: </span><span class="n">s</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gh">Out[4]: </span><span class="go"></span>
<span class="go">0     True</span>
<span class="go">1    False</span>
<span class="go">2     &lt;NA&gt;</span>
<span class="go">Length: 3, dtype: boolean</span>

<span class="go"># indexing</span>
<span class="gp">In [5]: </span><span class="n">s</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="gh">Out[5]: </span><span class="go"></span>
<span class="go">1       2</span>
<span class="go">2    &lt;NA&gt;</span>
<span class="go">Length: 2, dtype: Int64</span>

<span class="go"># operate with other dtypes</span>
<span class="gp">In [6]: </span><span class="n">s</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;Int8&#39;</span><span class="p">)</span>
<span class="gh">Out[6]: </span><span class="go"></span>
<span class="go">0    &lt;NA&gt;</span>
<span class="go">1       4</span>
<span class="go">2    &lt;NA&gt;</span>
<span class="go">Length: 3, dtype: Int64</span>

<span class="go"># coerce when needed</span>
<span class="gp">In [7]: </span><span class="n">s</span> <span class="o">+</span> <span class="mf">0.01</span>
<span class="gh">Out[7]: </span><span class="go"></span>
<span class="go">0    1.01</span>
<span class="go">1    2.01</span>
<span class="go">2     NaN</span>
<span class="go">Length: 3, dtype: float64</span>
</pre></div>
</div>
<p>These dtypes can operate as part of a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="n">s</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;aab&#39;</span><span class="p">)})</span>

<span class="gp">In [9]: </span><span class="n">df</span>
<span class="gh">Out[9]: </span><span class="go"></span>
<span class="go">      A  B  C</span>
<span class="go">0     1  1  a</span>
<span class="go">1     2  1  a</span>
<span class="go">2  &lt;NA&gt;  3  b</span>

<span class="go">[3 rows x 3 columns]</span>

<span class="gp">In [10]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[10]: </span><span class="go"></span>
<span class="go">A     Int64</span>
<span class="go">B     int64</span>
<span class="go">C    object</span>
<span class="go">Length: 3, dtype: object</span>
</pre></div>
</div>
<p>These dtypes can be merged, reshaped, and casted.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;A&#39;</span><span class="p">]],</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[11]: </span><span class="go"></span>
<span class="go">A     Int64</span>
<span class="go">B     int64</span>
<span class="go">C    object</span>
<span class="go">Length: 3, dtype: object</span>

<span class="gp">In [12]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="gh">Out[12]: </span><span class="go"></span>
<span class="go">0    1.0</span>
<span class="go">1    2.0</span>
<span class="go">2    NaN</span>
<span class="go">Name: A, Length: 3, dtype: float64</span>
</pre></div>
</div>
<p>Reduction and groupby operations such as <code class="docutils literal notranslate"><span class="pre">sum</span></code> work.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">df</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gh">Out[13]: </span><span class="go"></span>
<span class="go">A      3</span>
<span class="go">B      5</span>
<span class="go">C    aab</span>
<span class="go">Length: 3, dtype: object</span>

<span class="gp">In [14]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">A</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gh">Out[14]: </span><span class="go"></span>
<span class="go">B</span>
<span class="go">1    3</span>
<span class="go">3    0</span>
<span class="go">Name: A, Length: 2, dtype: Int64</span>
</pre></div>
</div>
<div class="alert alert-warning">
<p class="admonition-title">Warning</p>
<p>The Integer NA support currently uses the capitalized dtype version, e.g. <code class="docutils literal notranslate"><span class="pre">Int8</span></code> as compared to the traditional <code class="docutils literal notranslate"><span class="pre">int8</span></code>. This may be changed at a future date.</p>
</div>
<p>See <a class="reference internal" href="../user_guide/integer_na.html#integer-na"><span class="std std-ref">Nullable integer data type</span></a> for more.</p>
</div>
<div class="section" id="accessing-the-values-in-a-series-or-index">
<span id="whatsnew-0240-values-api"></span><h3>Accessing the values in a Series or Index<a class="headerlink" href="#accessing-the-values-in-a-series-or-index" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.array</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.array</span></code> have been added for extracting the array backing a
<code class="docutils literal notranslate"><span class="pre">Series</span></code> or <code class="docutils literal notranslate"><span class="pre">Index</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19954">GH19954</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23623">GH23623</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">period_range</span><span class="p">(</span><span class="s1">&#39;2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="gp">In [16]: </span><span class="n">idx</span><span class="o">.</span><span class="n">array</span>
<span class="gh">Out[16]: </span><span class="go"></span>
<span class="go">&lt;PeriodArray&gt;</span>
<span class="go">[&#39;2000-01-01&#39;, &#39;2000-01-02&#39;, &#39;2000-01-03&#39;, &#39;2000-01-04&#39;]</span>
<span class="go">Length: 4, dtype: period[D]</span>

<span class="gp">In [17]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span><span class="o">.</span><span class="n">array</span>
<span class="gh">Out[17]: </span><span class="go"></span>
<span class="go">&lt;PeriodArray&gt;</span>
<span class="go">[&#39;2000-01-01&#39;, &#39;2000-01-02&#39;, &#39;2000-01-03&#39;, &#39;2000-01-04&#39;]</span>
<span class="go">Length: 4, dtype: period[D]</span>
</pre></div>
</div>
<p>Historically, this would have been done with <code class="docutils literal notranslate"><span class="pre">series.values</span></code>, but with
<code class="docutils literal notranslate"><span class="pre">.values</span></code> it was unclear whether the returned value would be the actual array,
some transformation of it, or one of pandas custom arrays (like
<code class="docutils literal notranslate"><span class="pre">Categorical</span></code>). For example, with <code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code>, <code class="docutils literal notranslate"><span class="pre">.values</span></code> generates
a new ndarray of period objects each time.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="n">idx</span><span class="o">.</span><span class="n">values</span>
<span class="gh">Out[18]: </span><span class="go"></span>
<span class="go">array([Period(&#39;2000-01-01&#39;, &#39;D&#39;), Period(&#39;2000-01-02&#39;, &#39;D&#39;),</span>
<span class="go">       Period(&#39;2000-01-03&#39;, &#39;D&#39;), Period(&#39;2000-01-04&#39;, &#39;D&#39;)], dtype=object)</span>

<span class="gp">In [19]: </span><span class="nb">id</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="gh">Out[19]: </span><span class="go">140073964680176</span>

<span class="gp">In [20]: </span><span class="nb">id</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="gh">Out[20]: </span><span class="go">140073929413696</span>
</pre></div>
</div>
<p>If you need an actual NumPy array, use <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_numpy()</span></code> or <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.to_numpy()</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [21]: </span><span class="n">idx</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="gh">Out[21]: </span><span class="go"></span>
<span class="go">array([Period(&#39;2000-01-01&#39;, &#39;D&#39;), Period(&#39;2000-01-02&#39;, &#39;D&#39;),</span>
<span class="go">       Period(&#39;2000-01-03&#39;, &#39;D&#39;), Period(&#39;2000-01-04&#39;, &#39;D&#39;)], dtype=object)</span>

<span class="gp">In [22]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="gh">Out[22]: </span><span class="go"></span>
<span class="go">array([Period(&#39;2000-01-01&#39;, &#39;D&#39;), Period(&#39;2000-01-02&#39;, &#39;D&#39;),</span>
<span class="go">       Period(&#39;2000-01-03&#39;, &#39;D&#39;), Period(&#39;2000-01-04&#39;, &#39;D&#39;)], dtype=object)</span>
</pre></div>
</div>
<p>For Series and Indexes backed by normal NumPy arrays, <code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.array</span></code> will return a
new <code class="xref py py-class docutils literal notranslate"><span class="pre">arrays.PandasArray</span></code>, which is a thin (no-copy) wrapper around a
<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>. <code class="xref py py-class docutils literal notranslate"><span class="pre">PandasArray</span></code> isn’t especially useful on its own,
but it does provide the same interface as any extension array defined in pandas or by
a third-party library.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [23]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

<span class="gp">In [24]: </span><span class="n">ser</span><span class="o">.</span><span class="n">array</span>
<span class="gh">Out[24]: </span><span class="go"></span>
<span class="go">&lt;PandasArray&gt;</span>
<span class="go">[1, 2, 3]</span>
<span class="go">Length: 3, dtype: int64</span>

<span class="gp">In [25]: </span><span class="n">ser</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="gh">Out[25]: </span><span class="go">array([1, 2, 3])</span>
</pre></div>
</div>
<p>We haven’t removed or deprecated <code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.values</span></code> or <code class="xref py py-attr docutils literal notranslate"><span class="pre">DataFrame.values</span></code>, but we
highly recommend and using <code class="docutils literal notranslate"><span class="pre">.array</span></code> or <code class="docutils literal notranslate"><span class="pre">.to_numpy()</span></code> instead.</p>
<p>See <a class="reference internal" href="../getting_started/basics.html#basics-dtypes"><span class="std std-ref">Dtypes</span></a> and <a class="reference internal" href="../getting_started/basics.html#basics-attrs"><span class="std std-ref">Attributes and Underlying Data</span></a> for more.</p>
</div>
<div class="section" id="pandas-array-a-new-top-level-method-for-creating-arrays">
<span id="whatsnew-0240-enhancements-array"></span><h3><code class="docutils literal notranslate"><span class="pre">pandas.array</span></code>: a new top-level method for creating arrays<a class="headerlink" href="#pandas-array-a-new-top-level-method-for-creating-arrays" title="Permalink to this headline">¶</a></h3>
<p>A new top-level method <code class="xref py py-func docutils literal notranslate"><span class="pre">array()</span></code> has been added for creating 1-dimensional arrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22860">GH22860</a>).
This can be used to create any <a class="reference internal" href="../development/extending.html#extending-extension-types"><span class="std std-ref">extension array</span></a>, including
extension arrays registered by <a class="reference internal" href="../ecosystem.html#ecosystem-extensions"><span class="std std-ref">3rd party libraries</span></a>.
See the <a class="reference internal" href="../getting_started/basics.html#basics-dtypes"><span class="std std-ref">dtypes docs</span></a> for more on extension arrays.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [26]: </span><span class="n">pd</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;Int64&#39;</span><span class="p">)</span>
<span class="gh">Out[26]: </span><span class="go"></span>
<span class="go">&lt;IntegerArray&gt;</span>
<span class="go">[1, 2, &lt;NA&gt;]</span>
<span class="go">Length: 3, dtype: Int64</span>

<span class="gp">In [27]: </span><span class="n">pd</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="gh">Out[27]: </span><span class="go"></span>
<span class="go">[a, b, c]</span>
<span class="go">Categories (3, object): [a, b, c]</span>
</pre></div>
</div>
<p>Passing data for which there isn’t dedicated extension type (e.g. float, integer, etc.)
will return a new <code class="xref py py-class docutils literal notranslate"><span class="pre">arrays.PandasArray</span></code>, which is just a thin (no-copy)
wrapper around a <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> that satisfies the pandas extension array interface.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [28]: </span><span class="n">pd</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gh">Out[28]: </span><span class="go"></span>
<span class="go">&lt;IntegerArray&gt;</span>
<span class="go">[1, 2, 3]</span>
<span class="go">Length: 3, dtype: Int64</span>
</pre></div>
</div>
<p>On their own, a <code class="xref py py-class docutils literal notranslate"><span class="pre">PandasArray</span></code> isn’t a very useful object.
But if you need write low-level code that works generically for any
<code class="xref py py-class docutils literal notranslate"><span class="pre">ExtensionArray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">PandasArray</span></code>
satisfies that need.</p>
<p>Notice that by default, if no <code class="docutils literal notranslate"><span class="pre">dtype</span></code> is specified, the dtype of the returned
array is inferred from the data. In particular, note that the first example of
<code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">np.nan]</span></code> would have returned a floating-point array, since <code class="docutils literal notranslate"><span class="pre">NaN</span></code>
is a float.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [29]: </span><span class="n">pd</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span>
<span class="gh">Out[29]: </span><span class="go"></span>
<span class="go">&lt;IntegerArray&gt;</span>
<span class="go">[1, 2, &lt;NA&gt;]</span>
<span class="go">Length: 3, dtype: Int64</span>
</pre></div>
</div>
</div>
<div class="section" id="storing-interval-and-period-data-in-series-and-dataframe">
<span id="whatsnew-0240-enhancements-interval"></span><h3>Storing Interval and Period data in Series and DataFrame<a class="headerlink" href="#storing-interval-and-period-data-in-series-and-dataframe" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Interval</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code> data may now be stored in a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>, in addition to an
<code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code> like previously (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19453">GH19453</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22862">GH22862</a>).</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [30]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">interval_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="gp">In [31]: </span><span class="n">ser</span>
<span class="gh">Out[31]: </span><span class="go"></span>
<span class="go">0    (0, 1]</span>
<span class="go">1    (1, 2]</span>
<span class="go">2    (2, 3]</span>
<span class="go">3    (3, 4]</span>
<span class="go">4    (4, 5]</span>
<span class="go">Length: 5, dtype: interval</span>

<span class="gp">In [32]: </span><span class="n">ser</span><span class="o">.</span><span class="n">dtype</span>
<span class="gh">Out[32]: </span><span class="go">interval[int64]</span>
</pre></div>
</div>
<p>For periods:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [33]: </span><span class="n">pser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">period_range</span><span class="p">(</span><span class="s2">&quot;2000&quot;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>

<span class="gp">In [34]: </span><span class="n">pser</span>
<span class="gh">Out[34]: </span><span class="go"></span>
<span class="go">0    2000-01-01</span>
<span class="go">1    2000-01-02</span>
<span class="go">2    2000-01-03</span>
<span class="go">3    2000-01-04</span>
<span class="go">4    2000-01-05</span>
<span class="go">Length: 5, dtype: period[D]</span>

<span class="gp">In [35]: </span><span class="n">pser</span><span class="o">.</span><span class="n">dtype</span>
<span class="gh">Out[35]: </span><span class="go">period[D]</span>
</pre></div>
</div>
<p>Previously, these would be cast to a NumPy array with object dtype. In general,
this should result in better performance when storing an array of intervals or periods
in a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> or column of a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<p>Use <code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.array</span></code> to extract the underlying array of intervals or periods
from the <code class="docutils literal notranslate"><span class="pre">Series</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [36]: </span><span class="n">ser</span><span class="o">.</span><span class="n">array</span>
<span class="gh">Out[36]: </span><span class="go"></span>
<span class="go">&lt;IntervalArray&gt;</span>
<span class="go">[(0, 1], (1, 2], (2, 3], (3, 4], (4, 5]]</span>
<span class="go">Length: 5, closed: right, dtype: interval[int64]</span>

<span class="gp">In [37]: </span><span class="n">pser</span><span class="o">.</span><span class="n">array</span>
<span class="gh">Out[37]: </span><span class="go"></span>
<span class="go">&lt;PeriodArray&gt;</span>
<span class="go">[&#39;2000-01-01&#39;, &#39;2000-01-02&#39;, &#39;2000-01-03&#39;, &#39;2000-01-04&#39;, &#39;2000-01-05&#39;]</span>
<span class="go">Length: 5, dtype: period[D]</span>
</pre></div>
</div>
<p>These return an instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">arrays.IntervalArray</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">arrays.PeriodArray</span></code>,
the new extension arrays that back interval and period data.</p>
<div class="alert alert-warning">
<p class="admonition-title">Warning</p>
<p>For backwards compatibility, <code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.values</span></code> continues to return
a NumPy array of objects for Interval and Period data. We recommend
using <code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.array</span></code> when you need the array of data stored in the
<code class="docutils literal notranslate"><span class="pre">Series</span></code>, and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_numpy()</span></code> when you know you need a NumPy array.</p>
<p>See <a class="reference internal" href="../getting_started/basics.html#basics-dtypes"><span class="std std-ref">Dtypes</span></a> and <a class="reference internal" href="../getting_started/basics.html#basics-attrs"><span class="std std-ref">Attributes and Underlying Data</span></a>
for more.</p>
</div>
</div>
<div class="section" id="joining-with-two-multi-indexes">
<span id="whatsnew-0240-enhancements-join-with-two-multiindexes"></span><h3>Joining with two multi-indexes<a class="headerlink" href="#joining-with-two-multi-indexes" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.merge()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.join()</span></code> can now be used to join multi-indexed <code class="docutils literal notranslate"><span class="pre">Dataframe</span></code> instances on the overlapping index levels (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6360">GH6360</a>)</p>
<p>See the <a class="reference internal" href="../user_guide/merging.html#merging-join-with-two-multi-indexes"><span class="std std-ref">Merge, join, and concatenate</span></a> documentation section.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [38]: </span><span class="n">index_left</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">([(</span><span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;X0&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;X1&#39;</span><span class="p">),</span>
<span class="gp">   ....: </span>                                       <span class="p">(</span><span class="s1">&#39;K1&#39;</span><span class="p">,</span> <span class="s1">&#39;X2&#39;</span><span class="p">)],</span>
<span class="gp">   ....: </span>                                       <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">])</span>
<span class="gp">   ....: </span>

<span class="gp">In [39]: </span><span class="n">left</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;A0&#39;</span><span class="p">,</span> <span class="s1">&#39;A1&#39;</span><span class="p">,</span> <span class="s1">&#39;A2&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>                     <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B0&#39;</span><span class="p">,</span> <span class="s1">&#39;B1&#39;</span><span class="p">,</span> <span class="s1">&#39;B2&#39;</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="n">index_left</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [40]: </span><span class="n">index_right</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">([(</span><span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;Y0&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;K1&#39;</span><span class="p">,</span> <span class="s1">&#39;Y1&#39;</span><span class="p">),</span>
<span class="gp">   ....: </span>                                        <span class="p">(</span><span class="s1">&#39;K2&#39;</span><span class="p">,</span> <span class="s1">&#39;Y2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;K2&#39;</span><span class="p">,</span> <span class="s1">&#39;Y3&#39;</span><span class="p">)],</span>
<span class="gp">   ....: </span>                                        <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">])</span>
<span class="gp">   ....: </span>

<span class="gp">In [41]: </span><span class="n">right</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;C0&#39;</span><span class="p">,</span> <span class="s1">&#39;C1&#39;</span><span class="p">,</span> <span class="s1">&#39;C2&#39;</span><span class="p">,</span> <span class="s1">&#39;C3&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>                      <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;D0&#39;</span><span class="p">,</span> <span class="s1">&#39;D1&#39;</span><span class="p">,</span> <span class="s1">&#39;D2&#39;</span><span class="p">,</span> <span class="s1">&#39;D3&#39;</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="n">index_right</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [42]: </span><span class="n">left</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">right</span><span class="p">)</span>
<span class="gh">Out[42]: </span><span class="go"></span>
<span class="go">            A   B   C   D</span>
<span class="go">key X  Y                 </span>
<span class="go">K0  X0 Y0  A0  B0  C0  D0</span>
<span class="go">    X1 Y0  A1  B1  C0  D0</span>
<span class="go">K1  X2 Y1  A2  B2  C1  D1</span>

<span class="go">[3 rows x 4 columns]</span>
</pre></div>
</div>
<p>For earlier versions this can be done using the following.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [43]: </span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">left</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(),</span> <span class="n">right</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(),</span>
<span class="gp">   ....: </span>         <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">])</span>
<span class="gp">   ....: </span>
<span class="gh">Out[43]: </span><span class="go"></span>
<span class="go">            A   B   C   D</span>
<span class="go">key X  Y                 </span>
<span class="go">K0  X0 Y0  A0  B0  C0  D0</span>
<span class="go">    X1 Y0  A1  B1  C0  D0</span>
<span class="go">K1  X2 Y1  A2  B2  C1  D1</span>

<span class="go">[3 rows x 4 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="read-html-enhancements">
<span id="whatsnew-0240-enhancements-read-html"></span><h3><code class="docutils literal notranslate"><span class="pre">read_html</span></code> Enhancements<a class="headerlink" href="#read-html-enhancements" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code> previously ignored <code class="docutils literal notranslate"><span class="pre">colspan</span></code> and <code class="docutils literal notranslate"><span class="pre">rowspan</span></code> attributes.
Now it understands them, treating them as sequences of cells with the same
value. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17054">GH17054</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [44]: </span><span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">   ....: </span><span class="s2">  &lt;table&gt;</span>
<span class="gp">   ....: </span><span class="s2">    &lt;thead&gt;</span>
<span class="gp">   ....: </span><span class="s2">      &lt;tr&gt;</span>
<span class="gp">   ....: </span><span class="s2">        &lt;th&gt;A&lt;/th&gt;&lt;th&gt;B&lt;/th&gt;&lt;th&gt;C&lt;/th&gt;</span>
<span class="gp">   ....: </span><span class="s2">      &lt;/tr&gt;</span>
<span class="gp">   ....: </span><span class="s2">    &lt;/thead&gt;</span>
<span class="gp">   ....: </span><span class="s2">    &lt;tbody&gt;</span>
<span class="gp">   ....: </span><span class="s2">      &lt;tr&gt;</span>
<span class="gp">   ....: </span><span class="s2">        &lt;td colspan=&quot;2&quot;&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;</span>
<span class="gp">   ....: </span><span class="s2">      &lt;/tr&gt;</span>
<span class="gp">   ....: </span><span class="s2">    &lt;/tbody&gt;</span>
<span class="gp">   ....: </span><span class="s2">  &lt;/table&gt;&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ImportError</span><span class="g g-Whitespace">                               </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">44</span><span class="o">-</span><span class="mi">6060623</span><span class="n">c5063</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span>       <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span>     <span class="o">&lt;/</span><span class="n">tbody</span><span class="o">&gt;</span>
<span class="ne">---&gt; </span><span class="mi">13</span>   <span class="o">&lt;/</span><span class="n">table</span><span class="o">&gt;</span><span class="s2">&quot;&quot;&quot;)</span>

<span class="nn">~/scipy/pandas/pandas/io/html.py</span> in <span class="ni">read_html</span><span class="nt">(io, match, flavor, header, index_col, skiprows, attrs, parse_dates, thousands, encoding, decimal, converters, na_values, keep_default_na, displayed_only)</span>
<span class="g g-Whitespace">   </span><span class="mi">1097</span><span class="s2">         na_values=na_values,</span>
<span class="g g-Whitespace">   </span><span class="mi">1098</span><span class="s2">         keep_default_na=keep_default_na,</span>
<span class="ne">-&gt; </span><span class="mi">1099</span><span class="s2">         displayed_only=displayed_only,</span>
<span class="g g-Whitespace">   </span><span class="mi">1100</span><span class="s2">     )</span>

<span class="nn">~/scipy/pandas/pandas/io/html.py</span> in <span class="ni">_parse</span><span class="nt">(flavor, io, match, attrs, encoding, displayed_only, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">889</span><span class="s2">     retained = None</span>
<span class="g g-Whitespace">    </span><span class="mi">890</span><span class="s2">     for flav in flavor:</span>
<span class="ne">--&gt; </span><span class="mi">891</span><span class="s2">         parser = _parser_dispatch(flav)</span>
<span class="g g-Whitespace">    </span><span class="mi">892</span><span class="s2">         p = parser(io, compiled_match, attrs, encoding, displayed_only)</span>
<span class="g g-Whitespace">    </span><span class="mi">893</span><span class="s2"> </span>

<span class="nn">~/scipy/pandas/pandas/io/html.py</span> in <span class="ni">_parser_dispatch</span><span class="nt">(flavor)</span>
<span class="g g-Whitespace">    </span><span class="mi">846</span><span class="s2">     else:</span>
<span class="g g-Whitespace">    </span><span class="mi">847</span><span class="s2">         if not _HAS_LXML:</span>
<span class="ne">--&gt; </span><span class="mi">848</span><span class="s2">             raise ImportError(&quot;lxml not found, please install it&quot;)</span>
<span class="g g-Whitespace">    </span><span class="mi">849</span><span class="s2">     return _valid_parsers[flavor]</span>
<span class="g g-Whitespace">    </span><span class="mi">850</span><span class="s2"> </span>

<span class="ne">ImportError</span>: lxml not found, please install it
</pre></div>
</div>
<p><em>Previous behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">result</span>
<span class="go">Out [13]:</span>
<span class="go">[   A  B   C</span>
<span class="go"> 0  1  2 NaN]</span>
</pre></div>
</div>
<p><em>New behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">result</span>
<span class="gh">Out[45]: </span><span class="go"></span>
<span class="go">2013-01-01 00:00:00+00:00    0</span>
<span class="go">2013-01-02 00:00:00+00:00    2</span>
<span class="go">2013-01-03 00:00:00+00:00    4</span>
<span class="go">Freq: D, Length: 3, dtype: int64</span>
</pre></div>
</div>
</div>
<div class="section" id="new-styler-pipe-method">
<h3>New <code class="docutils literal notranslate"><span class="pre">Styler.pipe()</span></code> method<a class="headerlink" href="#new-styler-pipe-method" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Styler</span></code> class has gained a
<code class="xref py py-meth docutils literal notranslate"><span class="pre">pipe()</span></code> method.  This provides a
convenient way to apply users’ predefined styling functions, and can help reduce
“boilerplate” when using DataFrame styling functionality repeatedly within a notebook. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23229">GH23229</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [46]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;N&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1250</span><span class="p">,</span> <span class="mi">1500</span><span class="p">,</span> <span class="mi">1750</span><span class="p">],</span> <span class="s1">&#39;X&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.35</span><span class="p">,</span> <span class="mf">0.50</span><span class="p">]})</span>

<span class="gp">In [47]: </span><span class="k">def</span> <span class="nf">format_and_align</span><span class="p">(</span><span class="n">styler</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="p">(</span><span class="n">styler</span><span class="o">.</span><span class="n">format</span><span class="p">({</span><span class="s1">&#39;N&#39;</span><span class="p">:</span> <span class="s1">&#39;{:,}&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">:</span> <span class="s1">&#39;{:.1%}&#39;</span><span class="p">})</span>
<span class="gp">   ....: </span>                  <span class="o">.</span><span class="n">set_properties</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;text-align&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="p">}))</span>
<span class="gp">   ....: </span>

<span class="gp">In [48]: </span><span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">format_and_align</span><span class="p">)</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s1">&#39;Summary of results.&#39;</span><span class="p">)</span>
<span class="gh">Out[48]: </span><span class="go">&lt;pandas.io.formats.style.Styler at 0x7f6581531e48&gt;</span>
</pre></div>
</div>
<p>Similar methods already exist for other classes in pandas, including <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pipe()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">GroupBy.pipe()</span></code>, and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Resampler.pipe()</span></code>.</p>
</div>
<div class="section" id="renaming-names-in-a-multiindex">
<span id="whatsnew-0240-enhancements-rename-axis"></span><h3>Renaming names in a MultiIndex<a class="headerlink" href="#renaming-names-in-a-multiindex" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.rename_axis()</span></code> now supports <code class="docutils literal notranslate"><span class="pre">index</span></code> and <code class="docutils literal notranslate"><span class="pre">columns</span></code> arguments
and <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.rename_axis()</span></code> supports <code class="docutils literal notranslate"><span class="pre">index</span></code> argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19978">GH19978</a>).</p>
<p>This change allows a dictionary to be passed so that some of the names
of a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> can be changed.</p>
<p>Example:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [49]: </span><span class="n">mi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;AB&#39;</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;CD&#39;</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;EF&#39;</span><span class="p">)],</span>
<span class="gp">   ....: </span>                                <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">,</span> <span class="s1">&#39;EF&#39;</span><span class="p">])</span>
<span class="gp">   ....: </span>

<span class="gp">In [50]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mi</span><span class="p">))),</span> <span class="n">index</span><span class="o">=</span><span class="n">mi</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;N&#39;</span><span class="p">])</span>

<span class="gp">In [51]: </span><span class="n">df</span>
<span class="gh">Out[51]: </span><span class="go"></span>
<span class="go">          N</span>
<span class="go">AB CD EF   </span>
<span class="go">A  C  E   0</span>
<span class="go">      F   1</span>
<span class="go">   D  E   2</span>
<span class="go">      F   3</span>
<span class="go">B  C  E   4</span>
<span class="go">      F   5</span>
<span class="go">   D  E   6</span>
<span class="go">      F   7</span>

<span class="go">[8 rows x 1 columns]</span>

<span class="gp">In [52]: </span><span class="n">df</span><span class="o">.</span><span class="n">rename_axis</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;CD&#39;</span><span class="p">:</span> <span class="s1">&#39;New&#39;</span><span class="p">})</span>
<span class="gh">Out[52]: </span><span class="go"></span>
<span class="go">           N</span>
<span class="go">AB New EF   </span>
<span class="go">A  C   E   0</span>
<span class="go">       F   1</span>
<span class="go">   D   E   2</span>
<span class="go">       F   3</span>
<span class="go">B  C   E   4</span>
<span class="go">       F   5</span>
<span class="go">   D   E   6</span>
<span class="go">       F   7</span>

<span class="go">[8 rows x 1 columns]</span>
</pre></div>
</div>
<p>See the <a class="reference internal" href="../user_guide/advanced.html#advanced-index-names"><span class="std std-ref">Advanced documentation on renaming</span></a> for more details.</p>
</div>
<div class="section" id="other-enhancements">
<span id="whatsnew-0240-enhancements-other"></span><h3>Other enhancements<a class="headerlink" href="#other-enhancements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">merge()</span></code> now directly allows merge between objects of type <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> and named <code class="docutils literal notranslate"><span class="pre">Series</span></code>, without the need to convert the <code class="docutils literal notranslate"><span class="pre">Series</span></code> object into a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> beforehand (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21220">GH21220</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ExcelWriter</span></code> now accepts <code class="docutils literal notranslate"><span class="pre">mode</span></code> as a keyword argument, enabling append to existing workbooks when using the <code class="docutils literal notranslate"><span class="pre">openpyxl</span></code> engine (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3441">GH3441</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FrozenList</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">.union()</span></code> and <code class="docutils literal notranslate"><span class="pre">.difference()</span></code> methods. This functionality greatly simplifies groupby’s that rely on explicitly excluding certain columns. See <a class="reference internal" href="../user_guide/groupby.html#groupby-split"><span class="std std-ref">Splitting an object into groups</span></a> for more information (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15475">GH15475</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15506">GH15506</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_parquet()</span></code> now accepts <code class="docutils literal notranslate"><span class="pre">index</span></code> as an argument, allowing
the user to override the engine’s default behavior to include or omit the
dataframe’s indexes from the resulting Parquet file. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20768">GH20768</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_feather()</span></code> now accepts <code class="docutils literal notranslate"><span class="pre">columns</span></code> as an argument, allowing the user to specify which columns should be read. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24025">GH24025</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.corr()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.corr()</span></code> now accept a callable for generic calculation methods of correlation, e.g. histogram intersection (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22684">GH22684</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_string()</span></code> now accepts <code class="docutils literal notranslate"><span class="pre">decimal</span></code> as an argument, allowing the user to specify which decimal separator should be used in the output. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23614">GH23614</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code> now accepts <code class="docutils literal notranslate"><span class="pre">render_links</span></code> as an argument, allowing the user to generate HTML with links to any URLs that appear in the DataFrame.
See the <a class="reference internal" href="../user_guide/io.html#io-html"><span class="std std-ref">section on writing HTML</span></a> in the IO docs for example usage. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2679">GH2679</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.read_csv()</span></code> now supports pandas extension types as an argument to <code class="docutils literal notranslate"><span class="pre">dtype</span></code>, allowing the user to use pandas extension types when reading CSVs. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23228">GH23228</a>)</p></li>
<li><p>The <code class="xref py py-meth docutils literal notranslate"><span class="pre">shift()</span></code> method now accepts <cite>fill_value</cite> as an argument, allowing the user to specify a value which will be used instead of NA/NaT in the empty periods. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15486">GH15486</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code> now supports the <code class="docutils literal notranslate"><span class="pre">%Z</span></code> and <code class="docutils literal notranslate"><span class="pre">%z</span></code> directive when passed into <code class="docutils literal notranslate"><span class="pre">format</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13486">GH13486</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.mode()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.mode()</span></code> now support the <code class="docutils literal notranslate"><span class="pre">dropna</span></code> parameter which can be used to specify whether <code class="docutils literal notranslate"><span class="pre">NaN</span></code>/<code class="docutils literal notranslate"><span class="pre">NaT</span></code> values should be considered (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17534">GH17534</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.to_csv()</span></code> now support the <code class="docutils literal notranslate"><span class="pre">compression</span></code> keyword when a file handle is passed. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21227">GH21227</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.droplevel()</span></code> is now implemented also for flat indexes, for compatibility with <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21115">GH21115</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.droplevel()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.droplevel()</span></code> are now implemented (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20342">GH20342</a>)</p></li>
<li><p>Added support for reading from/writing to Google Cloud Storage via the <code class="docutils literal notranslate"><span class="pre">gcsfs</span></code> library (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19454">GH19454</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23094">GH23094</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_gbq()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">read_gbq()</span></code> signature and documentation updated to
reflect changes from the <a class="reference external" href="https://pandas-gbq.readthedocs.io/en/latest/changelog.html#changelog-0-8-0">Pandas-GBQ library version 0.8.0</a>.
Adds a <code class="docutils literal notranslate"><span class="pre">credentials</span></code> argument, which enables the use of any kind of
<a class="reference external" href="https://google-auth.readthedocs.io/en/latest/">google-auth credentials</a>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21627">GH21627</a>,
<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22557">GH22557</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23662">GH23662</a>)</p></li>
<li><p>New method <code class="xref py py-meth docutils literal notranslate"><span class="pre">HDFStore.walk()</span></code> will recursively walk the group hierarchy of an HDF5 file (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10932">GH10932</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code> copies cell data across <code class="docutils literal notranslate"><span class="pre">colspan</span></code> and <code class="docutils literal notranslate"><span class="pre">rowspan</span></code>, and it treats all-<code class="docutils literal notranslate"><span class="pre">th</span></code> table rows as headers if <code class="docutils literal notranslate"><span class="pre">header</span></code> kwarg is not given and there is no <code class="docutils literal notranslate"><span class="pre">thead</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17054">GH17054</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.nlargest()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.nsmallest()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.nlargest()</span></code>, and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.nsmallest()</span></code> now accept the value <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code> for the <code class="docutils literal notranslate"><span class="pre">keep</span></code> argument. This keeps all ties for the nth largest/smallest value (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16818">GH16818</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> has gained the <code class="xref py py-meth docutils literal notranslate"><span class="pre">set_closed()</span></code> method to change the existing <code class="docutils literal notranslate"><span class="pre">closed</span></code> value (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21670">GH21670</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">to_csv()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">to_csv()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">to_json()</span></code>, and <code class="xref py py-func docutils literal notranslate"><span class="pre">to_json()</span></code> now support <code class="docutils literal notranslate"><span class="pre">compression='infer'</span></code> to infer compression based on filename extension (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15008">GH15008</a>).
The default compression for <code class="docutils literal notranslate"><span class="pre">to_csv</span></code>, <code class="docutils literal notranslate"><span class="pre">to_json</span></code>, and <code class="docutils literal notranslate"><span class="pre">to_pickle</span></code> methods has been updated to <code class="docutils literal notranslate"><span class="pre">'infer'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22004">GH22004</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_sql()</span></code> now supports writing <code class="docutils literal notranslate"><span class="pre">TIMESTAMP</span> <span class="pre">WITH</span> <span class="pre">TIME</span> <span class="pre">ZONE</span></code> types for supported databases. For databases that don’t support timezones, datetime data will be stored as timezone unaware local timestamps. See the <a class="reference internal" href="../user_guide/io.html#io-sql-datetime-data"><span class="std std-ref">Datetime data types</span></a> for implications (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9086">GH9086</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">to_timedelta()</span></code> now supports iso-formated timedelta strings (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21877">GH21877</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> now support <code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code> objects in the constructor (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2193">GH2193</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> has gained the <code class="xref py py-attr docutils literal notranslate"><span class="pre">DatetimeIndex.timetz</span></code> attribute. This returns the local time with timezone information. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21358">GH21358</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">round()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">ceil()</span></code>, and <code class="xref py py-meth docutils literal notranslate"><span class="pre">floor()</span></code> for <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code>
now support an <code class="docutils literal notranslate"><span class="pre">ambiguous</span></code> argument for handling datetimes that are rounded to ambiguous times (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18946">GH18946</a>)
and a <code class="docutils literal notranslate"><span class="pre">nonexistent</span></code> argument for handling datetimes that are rounded to nonexistent times. See <a class="reference internal" href="../user_guide/timeseries.html#timeseries-timezone-nonexistent"><span class="std std-ref">Nonexistent times when localizing</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22647">GH22647</a>)</p></li>
<li><p>The result of <code class="xref py py-meth docutils literal notranslate"><span class="pre">resample()</span></code> is now iterable similar to <code class="docutils literal notranslate"><span class="pre">groupby()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15314">GH15314</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.resample()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code> have gained the <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.core.resample.Resampler.quantile()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15023">GH15023</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.resample()</span></code> with a <code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code> will now respect the <code class="docutils literal notranslate"><span class="pre">base</span></code> argument in the same fashion as with a <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23882">GH23882</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.api.types.is_list_like()</span></code> has gained a keyword <code class="docutils literal notranslate"><span class="pre">allow_sets</span></code> which is <code class="docutils literal notranslate"><span class="pre">True</span></code> by default; if <code class="docutils literal notranslate"><span class="pre">False</span></code>,
all instances of <code class="docutils literal notranslate"><span class="pre">set</span></code> will not be considered “list-like” anymore (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23061">GH23061</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.to_frame()</span></code> now supports overriding column name(s) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22580">GH22580</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.from_codes()</span></code> now can take a <code class="docutils literal notranslate"><span class="pre">dtype</span></code> parameter as an alternative to passing <code class="docutils literal notranslate"><span class="pre">categories</span></code> and <code class="docutils literal notranslate"><span class="pre">ordered</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24398">GH24398</a>).</p></li>
<li><p>New attribute <code class="docutils literal notranslate"><span class="pre">__git_version__</span></code> will return git commit sha of current build (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21295">GH21295</a>).</p></li>
<li><p>Compatibility with Matplotlib 3.0 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22790">GH22790</a>).</p></li>
<li><p>Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">Interval.overlaps()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">arrays.IntervalArray.overlaps()</span></code>, and <code class="xref py py-meth docutils literal notranslate"><span class="pre">IntervalIndex.overlaps()</span></code> for determining overlaps between interval-like objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21998">GH21998</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_fwf()</span></code> now accepts keyword <code class="docutils literal notranslate"><span class="pre">infer_nrows</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15138">GH15138</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">to_parquet()</span></code> now supports writing a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> as a directory of parquet files partitioned by a subset of the columns when <code class="docutils literal notranslate"><span class="pre">engine</span> <span class="pre">=</span> <span class="pre">'pyarrow'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23283">GH23283</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.tz_localize()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.tz_localize()</span></code>, and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.tz_localize()</span></code> have gained the <code class="docutils literal notranslate"><span class="pre">nonexistent</span></code> argument for alternative handling of nonexistent times. See <a class="reference internal" href="../user_guide/timeseries.html#timeseries-timezone-nonexistent"><span class="std std-ref">Nonexistent times when localizing</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8917">GH8917</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24466">GH24466</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.difference()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.intersection()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.union()</span></code>, and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.symmetric_difference()</span></code> now have an optional <code class="docutils literal notranslate"><span class="pre">sort</span></code> parameter to control whether the results should be sorted if possible (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17839">GH17839</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24471">GH24471</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_excel()</span></code> now accepts <code class="docutils literal notranslate"><span class="pre">usecols</span></code> as a list of column names or callable (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18273">GH18273</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.to_flat_index()</span></code> has been added to flatten multiple levels into a single-level <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> object.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_stata()</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.io.stata.StataWriter117</span></code> can write mixed sting columns to Stata strl format (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23633">GH23633</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.between_time()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.at_time()</span></code> have gained the <code class="docutils literal notranslate"><span class="pre">axis</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8839">GH8839</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_records()</span></code> now accepts <code class="docutils literal notranslate"><span class="pre">index_dtypes</span></code> and <code class="docutils literal notranslate"><span class="pre">column_dtypes</span></code> parameters to allow different data types in stored column and index records (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18146">GH18146</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> has gained the <code class="xref py py-attr docutils literal notranslate"><span class="pre">is_overlapping</span></code> attribute to indicate if the <code class="docutils literal notranslate"><span class="pre">IntervalIndex</span></code> contains any overlapping intervals (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23309">GH23309</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.DataFrame.to_sql()</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">method</span></code> argument to control SQL insertion clause. See the <a class="reference internal" href="../user_guide/io.html#io-sql-method"><span class="std std-ref">insertion method</span></a> section in the documentation. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8953">GH8953</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.corrwith()</span></code> now supports Spearman’s rank correlation, Kendall’s tau as well as callable correlation methods. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21925">GH21925</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_json()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_pickle()</span></code>, and other export methods now support tilde(~) in path argument. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23473">GH23473</a>)</p></li>
</ul>
</div>
</div>
<div class="section" id="backwards-incompatible-api-changes">
<span id="whatsnew-0240-api-breaking"></span><h2>Backwards incompatible API changes<a class="headerlink" href="#backwards-incompatible-api-changes" title="Permalink to this headline">¶</a></h2>
<p>Pandas 0.24.0 includes a number of API breaking changes.</p>
<div class="section" id="increased-minimum-versions-for-dependencies">
<span id="whatsnew-0240-api-breaking-deps"></span><h3>Increased minimum versions for dependencies<a class="headerlink" href="#increased-minimum-versions-for-dependencies" title="Permalink to this headline">¶</a></h3>
<p>We have updated our minimum supported versions of dependencies (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21242">GH21242</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18742">GH18742</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23774">GH23774</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24767">GH24767</a>).
If installed, we now require:</p>
<table class="table">
<colgroup>
<col style="width: 39%" />
<col style="width: 39%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Package</p></th>
<th class="head"><p>Minimum Version</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>numpy</p></td>
<td><p>1.12.0</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>bottleneck</p></td>
<td><p>1.2.0</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>fastparquet</p></td>
<td><p>0.2.1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>matplotlib</p></td>
<td><p>2.0.0</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>numexpr</p></td>
<td><p>2.6.1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>pandas-gbq</p></td>
<td><p>0.8.0</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>pyarrow</p></td>
<td><p>0.9.0</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>pytables</p></td>
<td><p>3.4.2</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>scipy</p></td>
<td><p>0.18.1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>xlrd</p></td>
<td><p>1.0.0</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>pytest (dev)</p></td>
<td><p>3.6</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Additionally we no longer depend on <code class="docutils literal notranslate"><span class="pre">feather-format</span></code> for feather based storage
and replaced it with references to <code class="docutils literal notranslate"><span class="pre">pyarrow</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21639">GH21639</a> and <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23053">GH23053</a>).</p>
</div>
<div class="section" id="os-linesep-is-used-for-line-terminator-of-dataframe-to-csv">
<span id="whatsnew-0240-api-breaking-csv-line-terminator"></span><h3><cite>os.linesep</cite> is used for <code class="docutils literal notranslate"><span class="pre">line_terminator</span></code> of <code class="docutils literal notranslate"><span class="pre">DataFrame.to_csv</span></code><a class="headerlink" href="#os-linesep-is-used-for-line-terminator-of-dataframe-to-csv" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code> now uses <code class="xref py py-func docutils literal notranslate"><span class="pre">os.linesep()</span></code> rather than <code class="docutils literal notranslate"><span class="pre">'\n'</span></code>
for the default line terminator (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20353">GH20353</a>).
This change only affects when running on Windows, where <code class="docutils literal notranslate"><span class="pre">'\r\n'</span></code> was used for line terminator
even when <code class="docutils literal notranslate"><span class="pre">'\n'</span></code> was passed in <code class="docutils literal notranslate"><span class="pre">line_terminator</span></code>.</p>
<p><em>Previous behavior</em> on Windows:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;string_with_lf&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a</span><span class="se">\n</span><span class="s2">bc&quot;</span><span class="p">],</span>
<span class="gp">   ...: </span>                     <span class="s2">&quot;string_with_crlf&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a</span><span class="se">\r\n</span><span class="s2">bc&quot;</span><span class="p">]})</span>

<span class="gp">In [2]: </span><span class="c1"># When passing file PATH to to_csv,</span>
<span class="gp">   ...: </span><span class="c1"># line_terminator does not work, and csv is saved with &#39;\r\n&#39;.</span>
<span class="gp">   ...: </span><span class="c1"># Also, this converts all &#39;\n&#39;s in the data to &#39;\r\n&#39;.</span>
<span class="gp">   ...: </span><span class="n">data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;test.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">line_terminator</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;test.csv&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">   ...: </span>    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="gh">Out[3]: </span><span class="go">b&#39;string_with_lf,string_with_crlf\r\n&quot;a\r\nbc&quot;,&quot;a\r\r\nbc&quot;\r\n&#39;</span>

<span class="gp">In [4]: </span><span class="c1"># When passing file OBJECT with newline option to</span>
<span class="gp">   ...: </span><span class="c1"># to_csv, line_terminator works.</span>
<span class="gp">   ...: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;test2.csv&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">   ...: </span>    <span class="n">data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">line_terminator</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="gp">In [5]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;test2.csv&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">   ...: </span>    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="gh">Out[5]: </span><span class="go">b&#39;string_with_lf,string_with_crlf\n&quot;a\nbc&quot;,&quot;a\r\nbc&quot;\n&#39;</span>
</pre></div>
</div>
<p><em>New behavior</em> on Windows:</p>
<p>Passing <code class="docutils literal notranslate"><span class="pre">line_terminator</span></code> explicitly, set thes <code class="docutils literal notranslate"><span class="pre">line</span> <span class="pre">terminator</span></code> to that character.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;string_with_lf&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a</span><span class="se">\n</span><span class="s2">bc&quot;</span><span class="p">],</span>
<span class="gp">   ...: </span>                     <span class="s2">&quot;string_with_crlf&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a</span><span class="se">\r\n</span><span class="s2">bc&quot;</span><span class="p">]})</span>

<span class="gp">In [2]: </span><span class="n">data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;test.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">line_terminator</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;test.csv&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">   ...: </span>    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="gh">Out[3]: </span><span class="go">b&#39;string_with_lf,string_with_crlf\n&quot;a\nbc&quot;,&quot;a\r\nbc&quot;\n&#39;</span>
</pre></div>
</div>
<p>On Windows, the value of <code class="docutils literal notranslate"><span class="pre">os.linesep</span></code> is <code class="docutils literal notranslate"><span class="pre">'\r\n'</span></code>, so if <code class="docutils literal notranslate"><span class="pre">line_terminator</span></code> is not
set, <code class="docutils literal notranslate"><span class="pre">'\r\n'</span></code> is used for line terminator.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;string_with_lf&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a</span><span class="se">\n</span><span class="s2">bc&quot;</span><span class="p">],</span>
<span class="gp">   ...: </span>                     <span class="s2">&quot;string_with_crlf&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a</span><span class="se">\r\n</span><span class="s2">bc&quot;</span><span class="p">]})</span>

<span class="gp">In [2]: </span><span class="n">data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;test.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;test.csv&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">   ...: </span>    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="gh">Out[3]: </span><span class="go">b&#39;string_with_lf,string_with_crlf\r\n&quot;a\nbc&quot;,&quot;a\r\nbc&quot;\r\n&#39;</span>
</pre></div>
</div>
<p>For file objects, specifying <code class="docutils literal notranslate"><span class="pre">newline</span></code> is not sufficient to set the line terminator.
You must pass in the <code class="docutils literal notranslate"><span class="pre">line_terminator</span></code> explicitly, even in this case.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;string_with_lf&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a</span><span class="se">\n</span><span class="s2">bc&quot;</span><span class="p">],</span>
<span class="gp">   ...: </span>                     <span class="s2">&quot;string_with_crlf&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a</span><span class="se">\r\n</span><span class="s2">bc&quot;</span><span class="p">]})</span>

<span class="gp">In [2]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;test2.csv&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">   ...: </span>    <span class="n">data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;test2.csv&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">   ...: </span>    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="gh">Out[3]: </span><span class="go">b&#39;string_with_lf,string_with_crlf\r\n&quot;a\nbc&quot;,&quot;a\r\nbc&quot;\r\n&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="proper-handling-of-np-nan-in-a-string-data-typed-column-with-the-python-engine">
<span id="whatsnew-0240-bug-fixes-nan-with-str-dtype"></span><h3>Proper handling of <cite>np.NaN</cite> in a string data-typed column with the Python engine<a class="headerlink" href="#proper-handling-of-np-nan-in-a-string-data-typed-column-with-the-python-engine" title="Permalink to this headline">¶</a></h3>
<p>There was bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> with the Python
engine, where missing values turned to <code class="docutils literal notranslate"><span class="pre">'nan'</span></code> with <code class="docutils literal notranslate"><span class="pre">dtype=str</span></code> and
<code class="docutils literal notranslate"><span class="pre">na_filter=True</span></code>. Now, these missing values are converted to the string
missing indicator, <code class="docutils literal notranslate"><span class="pre">np.nan</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20377">GH20377</a>)</p>
<p><em>Previous behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;a,b,c</span><span class="se">\n</span><span class="s1">1,,3</span><span class="se">\n</span><span class="s1">4,5,6&#39;</span>
<span class="gp">In [6]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">na_filter</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">In [7]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="gh">Out[7]:</span>
<span class="go">&#39;nan&#39;</span>
</pre></div>
</div>
<p><em>New behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [53]: </span><span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;a,b,c</span><span class="se">\n</span><span class="s1">1,,3</span><span class="se">\n</span><span class="s1">4,5,6&#39;</span>

<span class="gp">In [54]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">na_filter</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="gp">In [55]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="gh">Out[55]: </span><span class="go">nan</span>
</pre></div>
</div>
<p>Notice how we now instead output <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> itself instead of a stringified form of it.</p>
</div>
<div class="section" id="parsing-datetime-strings-with-timezone-offsets">
<span id="whatsnew-0240-api-timezone-offset-parsing"></span><h3>Parsing datetime strings with timezone offsets<a class="headerlink" href="#parsing-datetime-strings-with-timezone-offsets" title="Permalink to this headline">¶</a></h3>
<p>Previously, parsing datetime strings with UTC offsets with <code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code>
or <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> would automatically convert the datetime to UTC
without timezone localization. This is inconsistent from parsing the same
datetime string with <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> which would preserve the UTC
offset in the <code class="docutils literal notranslate"><span class="pre">tz</span></code> attribute. Now, <code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code> preserves the UTC
offset in the <code class="docutils literal notranslate"><span class="pre">tz</span></code> attribute when all the datetime strings have the same
UTC offset (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17697">GH17697</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11736">GH11736</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22457">GH22457</a>)</p>
<p><em>Previous behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="s2">&quot;2015-11-18 15:30:00+05:30&quot;</span><span class="p">)</span>
<span class="gh">Out[2]: </span><span class="go">Timestamp(&#39;2015-11-18 10:00:00&#39;)</span>

<span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">&quot;2015-11-18 15:30:00+05:30&quot;</span><span class="p">)</span>
<span class="gh">Out[3]: </span><span class="go">Timestamp(&#39;2015-11-18 15:30:00+0530&#39;, tz=&#39;pytz.FixedOffset(330)&#39;)</span>

<span class="go"># Different UTC offsets would automatically convert the datetimes to UTC (without a UTC timezone)</span>
<span class="gp">In [4]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="s2">&quot;2015-11-18 15:30:00+05:30&quot;</span><span class="p">,</span> <span class="s2">&quot;2015-11-18 16:30:00+06:30&quot;</span><span class="p">])</span>
<span class="gh">Out[4]: </span><span class="go">DatetimeIndex([&#39;2015-11-18 10:00:00&#39;, &#39;2015-11-18 10:00:00&#39;], dtype=&#39;datetime64[ns]&#39;, freq=None)</span>
</pre></div>
</div>
<p><em>New behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [56]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="s2">&quot;2015-11-18 15:30:00+05:30&quot;</span><span class="p">)</span>
<span class="gh">Out[56]: </span><span class="go">Timestamp(&#39;2015-11-18 15:30:00+0530&#39;, tz=&#39;pytz.FixedOffset(330)&#39;)</span>

<span class="gp">In [57]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">&quot;2015-11-18 15:30:00+05:30&quot;</span><span class="p">)</span>
<span class="gh">Out[57]: </span><span class="go">Timestamp(&#39;2015-11-18 15:30:00+0530&#39;, tz=&#39;pytz.FixedOffset(330)&#39;)</span>
</pre></div>
</div>
<p>Parsing datetime strings with the same UTC offset will preserve the UTC offset in the <code class="docutils literal notranslate"><span class="pre">tz</span></code></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [58]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="s2">&quot;2015-11-18 15:30:00+05:30&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
<span class="gh">Out[58]: </span><span class="go">DatetimeIndex([&#39;2015-11-18 15:30:00+05:30&#39;, &#39;2015-11-18 15:30:00+05:30&#39;], dtype=&#39;datetime64[ns, pytz.FixedOffset(330)]&#39;, freq=None)</span>
</pre></div>
</div>
<p>Parsing datetime strings with different UTC offsets will now create an Index of
<code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code> objects with different UTC offsets</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [59]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="s2">&quot;2015-11-18 15:30:00+05:30&quot;</span><span class="p">,</span>
<span class="gp">   ....: </span>                      <span class="s2">&quot;2015-11-18 16:30:00+06:30&quot;</span><span class="p">])</span>
<span class="gp">   ....: </span>

<span class="gp">In [60]: </span><span class="n">idx</span>
<span class="gh">Out[60]: </span><span class="go">Index([2015-11-18 15:30:00+05:30, 2015-11-18 16:30:00+06:30], dtype=&#39;object&#39;)</span>

<span class="gp">In [61]: </span><span class="n">idx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gh">Out[61]: </span><span class="go">datetime.datetime(2015, 11, 18, 15, 30, tzinfo=tzoffset(None, 19800))</span>

<span class="gp">In [62]: </span><span class="n">idx</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gh">Out[62]: </span><span class="go">datetime.datetime(2015, 11, 18, 16, 30, tzinfo=tzoffset(None, 23400))</span>
</pre></div>
</div>
<p>Passing <code class="docutils literal notranslate"><span class="pre">utc=True</span></code> will mimic the previous behavior but will correctly indicate
that the dates have been converted to UTC</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [63]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="s2">&quot;2015-11-18 15:30:00+05:30&quot;</span><span class="p">,</span>
<span class="gp">   ....: </span>                <span class="s2">&quot;2015-11-18 16:30:00+06:30&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="gh">Out[63]: </span><span class="go">DatetimeIndex([&#39;2015-11-18 10:00:00+00:00&#39;, &#39;2015-11-18 10:00:00+00:00&#39;], dtype=&#39;datetime64[ns, UTC]&#39;, freq=None)</span>
</pre></div>
</div>
</div>
<div class="section" id="parsing-mixed-timezones-with-read-csv">
<span id="whatsnew-0240-api-breaking-read-csv-mixed-tz"></span><h3>Parsing mixed-timezones with <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code><a class="headerlink" href="#parsing-mixed-timezones-with-read-csv" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> no longer silently converts mixed-timezone columns to UTC (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24987">GH24987</a>).</p>
<p><em>Previous behavior</em></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">io</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">content</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s2">a</span>
<span class="gp">... </span><span class="s2">2000-01-01T00:00:00+05:00</span>
<span class="gp">... </span><span class="s2">2000-01-01T00:00:00+06:00&quot;&quot;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="n">content</span><span class="p">),</span> <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">a</span>
<span class="go">0   1999-12-31 19:00:00</span>
<span class="go">1   1999-12-31 18:00:00</span>
<span class="go">Name: a, dtype: datetime64[ns]</span>
</pre></div>
</div>
<p><em>New behavior</em></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [64]: </span><span class="kn">import</span> <span class="nn">io</span>

<span class="gp">In [65]: </span><span class="n">content</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">   ....: </span><span class="s2">a</span>
<span class="gp">   ....: </span><span class="s2">2000-01-01T00:00:00+05:00</span>
<span class="gp">   ....: </span><span class="s2">2000-01-01T00:00:00+06:00&quot;&quot;&quot;</span>
<span class="gp">   ....: </span>

<span class="gp">In [66]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="n">content</span><span class="p">),</span> <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>

<span class="gp">In [67]: </span><span class="n">df</span><span class="o">.</span><span class="n">a</span>
<span class="gh">Out[67]: </span><span class="go"></span>
<span class="go">0    2000-01-01 00:00:00+05:00</span>
<span class="go">1    2000-01-01 00:00:00+06:00</span>
<span class="go">Name: a, Length: 2, dtype: object</span>
</pre></div>
</div>
<p>As can be seen, the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> is object; each value in the column is a string.
To convert the strings to an array of datetimes, the <code class="docutils literal notranslate"><span class="pre">date_parser</span></code> argument</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [68]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="n">content</span><span class="p">),</span> <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>                 <span class="n">date_parser</span><span class="o">=</span><span class="k">lambda</span> <span class="n">col</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="gp">   ....: </span>

<span class="gp">In [69]: </span><span class="n">df</span><span class="o">.</span><span class="n">a</span>
<span class="gh">Out[69]: </span><span class="go"></span>
<span class="go">0   1999-12-31 19:00:00+00:00</span>
<span class="go">1   1999-12-31 18:00:00+00:00</span>
<span class="go">Name: a, Length: 2, dtype: datetime64[ns, UTC]</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#whatsnew-0240-api-timezone-offset-parsing"><span class="std std-ref">Parsing datetime strings with timezone offsets</span></a> for more.</p>
</div>
<div class="section" id="time-values-in-dt-end-time-and-to-timestamp-how-end">
<span id="whatsnew-0240-api-breaking-period-end-time"></span><h3>Time values in <code class="docutils literal notranslate"><span class="pre">dt.end_time</span></code> and <code class="docutils literal notranslate"><span class="pre">to_timestamp(how='end')</span></code><a class="headerlink" href="#time-values-in-dt-end-time-and-to-timestamp-how-end" title="Permalink to this headline">¶</a></h3>
<p>The time values in <code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code> objects are now set
to ‘23:59:59.999999999’ when calling <code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.dt.end_time</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">Period.end_time</span></code>,
<code class="xref py py-attr docutils literal notranslate"><span class="pre">PeriodIndex.end_time</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Period.to_timestamp()</span></code> with <code class="docutils literal notranslate"><span class="pre">how='end'</span></code>,
or <code class="xref py py-func docutils literal notranslate"><span class="pre">PeriodIndex.to_timestamp()</span></code> with <code class="docutils literal notranslate"><span class="pre">how='end'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17157">GH17157</a>)</p>
<p><em>Previous behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Period</span><span class="p">(</span><span class="s1">&#39;2017-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">)</span>
<span class="gp">In [3]: </span><span class="n">pi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">PeriodIndex</span><span class="p">([</span><span class="n">p</span><span class="p">])</span>

<span class="gp">In [4]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">end_time</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gh">Out[4]: </span><span class="go">Timestamp(2017-01-01 00:00:00)</span>

<span class="gp">In [5]: </span><span class="n">p</span><span class="o">.</span><span class="n">end_time</span>
<span class="gh">Out[5]: </span><span class="go">Timestamp(2017-01-01 23:59:59.999999999)</span>
</pre></div>
</div>
<p><em>New behavior</em>:</p>
<p>Calling <code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.dt.end_time</span></code> will now result in a time of ‘23:59:59.999999999’ as
is the case with <code class="xref py py-attr docutils literal notranslate"><span class="pre">Period.end_time</span></code>, for example</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [70]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Period</span><span class="p">(</span><span class="s1">&#39;2017-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">)</span>

<span class="gp">In [71]: </span><span class="n">pi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">PeriodIndex</span><span class="p">([</span><span class="n">p</span><span class="p">])</span>

<span class="gp">In [72]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">end_time</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gh">Out[72]: </span><span class="go">Timestamp(&#39;2017-01-01 23:59:59.999999999&#39;)</span>

<span class="gp">In [73]: </span><span class="n">p</span><span class="o">.</span><span class="n">end_time</span>
<span class="gh">Out[73]: </span><span class="go">Timestamp(&#39;2017-01-01 23:59:59.999999999&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="series-unique-for-timezone-aware-data">
<span id="whatsnew-0240-api-breaking-datetime-unique"></span><h3>Series.unique for Timezone-Aware Data<a class="headerlink" href="#series-unique-for-timezone-aware-data" title="Permalink to this headline">¶</a></h3>
<p>The return type of <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.unique()</span></code> for datetime with timezone values has changed
from an <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> objects to a <code class="xref py py-class docutils literal notranslate"><span class="pre">arrays.DatetimeArray</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24024">GH24024</a>).</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [74]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2000&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s1">&#39;UTC&#39;</span><span class="p">),</span>
<span class="gp">   ....: </span>                 <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2000&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s1">&#39;UTC&#39;</span><span class="p">)])</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<p><em>Previous behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">ser</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="gh">Out[3]: </span><span class="go">array([Timestamp(&#39;2000-01-01 00:00:00+0000&#39;, tz=&#39;UTC&#39;)], dtype=object)</span>
</pre></div>
</div>
<p><em>New behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [75]: </span><span class="n">ser</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="gh">Out[75]: </span><span class="go"></span>
<span class="go">&lt;DatetimeArray&gt;</span>
<span class="go">[&#39;2000-01-01 00:00:00+00:00&#39;]</span>
<span class="go">Length: 1, dtype: datetime64[ns, UTC]</span>
</pre></div>
</div>
</div>
<div class="section" id="sparse-data-structure-refactor">
<span id="whatsnew-0240-api-breaking-sparse-values"></span><h3>Sparse data structure refactor<a class="headerlink" href="#sparse-data-structure-refactor" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">SparseArray</span></code>, the array backing <code class="docutils literal notranslate"><span class="pre">SparseSeries</span></code> and the columns in a <code class="docutils literal notranslate"><span class="pre">SparseDataFrame</span></code>,
is now an extension array (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21978">GH21978</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19056">GH19056</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22835">GH22835</a>).
To conform to this interface and for consistency with the rest of pandas, some API breaking
changes were made:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SparseArray</span></code> is no longer a subclass of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>. To convert a <code class="docutils literal notranslate"><span class="pre">SparseArray</span></code> to a NumPy array, use <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.asarray.html#numpy.asarray" title="(in NumPy v1.17)"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.asarray()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SparseArray.dtype</span></code> and <code class="docutils literal notranslate"><span class="pre">SparseSeries.dtype</span></code> are now instances of <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseDtype</span></code>, rather than <code class="docutils literal notranslate"><span class="pre">np.dtype</span></code>. Access the underlying dtype with <code class="docutils literal notranslate"><span class="pre">SparseDtype.subtype</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numpy.asarray(sparse_array)</span></code> now returns a dense array with all the values, not just the non-fill-value values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14167">GH14167</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SparseArray.take</span></code> now matches the API of <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.api.extensions.ExtensionArray.take()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19506">GH19506</a>):</p>
<ul>
<li><p>The default value of <code class="docutils literal notranslate"><span class="pre">allow_fill</span></code> has changed from <code class="docutils literal notranslate"><span class="pre">False</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">out</span></code> and <code class="docutils literal notranslate"><span class="pre">mode</span></code> parameters are now longer accepted (previously, this raised if they were specified).</p></li>
<li><p>Passing a scalar for <code class="docutils literal notranslate"><span class="pre">indices</span></code> is no longer allowed.</p></li>
</ul>
</li>
<li><p>The result of <code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code> with a mix of sparse and dense Series is a Series with sparse values, rather than a <code class="docutils literal notranslate"><span class="pre">SparseSeries</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SparseDataFrame.combine</span></code> and <code class="docutils literal notranslate"><span class="pre">DataFrame.combine_first</span></code> no longer supports combining a sparse column with a dense column while preserving the sparse subtype. The result will be an object-dtype SparseArray.</p></li>
<li><p>Setting <code class="xref py py-attr docutils literal notranslate"><span class="pre">SparseArray.fill_value</span></code> to a fill value with a different dtype is now allowed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame[column]</span></code> is now a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> with sparse values, rather than a <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseSeries</span></code>, when slicing a single column with sparse values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23559">GH23559</a>).</p></li>
<li><p>The result of <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.where()</span></code> is now a <code class="docutils literal notranslate"><span class="pre">Series</span></code> with sparse values, like with other extension arrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24077">GH24077</a>)</p></li>
</ul>
<p>Some new warnings are issued for operations that require or are likely to materialize a large dense array:</p>
<ul class="simple">
<li><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">errors.PerformanceWarning</span></code> is issued when using fillna with a <code class="docutils literal notranslate"><span class="pre">method</span></code>, as a dense array is constructed to create the filled array. Filling with a <code class="docutils literal notranslate"><span class="pre">value</span></code> is the efficient way to fill a sparse array.</p></li>
<li><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">errors.PerformanceWarning</span></code> is now issued when concatenating sparse Series with differing fill values. The fill value from the first sparse array continues to be used.</p></li>
</ul>
<p>In addition to these API breaking changes, many <a class="reference internal" href="#whatsnew-0240-bug-fixes-sparse"><span class="std std-ref">Performance Improvements and Bug Fixes have been made</span></a>.</p>
<p>Finally, a <code class="docutils literal notranslate"><span class="pre">Series.sparse</span></code> accessor was added to provide sparse-specific methods like <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.sparse.from_coo()</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [76]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;Sparse[int]&#39;</span><span class="p">)</span>

<span class="gp">In [77]: </span><span class="n">s</span><span class="o">.</span><span class="n">sparse</span><span class="o">.</span><span class="n">density</span>
<span class="gh">Out[77]: </span><span class="go">0.6</span>
</pre></div>
</div>
</div>
<div class="section" id="get-dummies-always-returns-a-dataframe">
<span id="whatsnew-0240-api-breaking-get-dummies"></span><h3><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_dummies()</span></code> always returns a DataFrame<a class="headerlink" href="#get-dummies-always-returns-a-dataframe" title="Permalink to this headline">¶</a></h3>
<p>Previously, when <code class="docutils literal notranslate"><span class="pre">sparse=True</span></code> was passed to <code class="xref py py-func docutils literal notranslate"><span class="pre">get_dummies()</span></code>, the return value could be either
a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> or a <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseDataFrame</span></code>, depending on whether all or a just a subset
of the columns were dummy-encoded. Now, a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> is always returned (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24284">GH24284</a>).</p>
<p><em>Previous behavior</em></p>
<p>The first <code class="xref py py-func docutils literal notranslate"><span class="pre">get_dummies()</span></code> returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> because the column <code class="docutils literal notranslate"><span class="pre">A</span></code>
is not dummy encoded. When just <code class="docutils literal notranslate"><span class="pre">[&quot;B&quot;,</span> <span class="pre">&quot;C&quot;]</span></code> are passed to <code class="docutils literal notranslate"><span class="pre">get_dummies</span></code>,
then all the columns are dummy-encoded, and a <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseDataFrame</span></code> was returned.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="s2">&quot;C&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]})</span>

<span class="gp">In [3]: </span><span class="nb">type</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="gh">Out[3]: </span><span class="go">pandas.core.frame.DataFrame</span>

<span class="gp">In [4]: </span><span class="nb">type</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]],</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="gh">Out[4]: </span><span class="go">pandas.core.sparse.frame.SparseDataFrame</span>
</pre></div>
</div>
<p><em>New behavior</em></p>
<p>Now, the return type is consistently a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [78]: </span><span class="nb">type</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="gh">Out[78]: </span><span class="go">pandas.core.frame.DataFrame</span>

<span class="gp">In [79]: </span><span class="nb">type</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]],</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="gh">Out[79]: </span><span class="go">pandas.core.frame.DataFrame</span>
</pre></div>
</div>
<div class="alert alert-info">
<p class="admonition-title">Note</p>
<p>There’s no difference in memory usage between a <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseDataFrame</span></code>
and a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with sparse values. The memory usage will
be the same as in the previous version of pandas.</p>
</div>
</div>
<div class="section" id="raise-valueerror-in-dataframe-to-dict-orient-index">
<span id="whatsnew-0240-api-breaking-frame-to-dict-index-orient"></span><h3>Raise ValueError in <code class="docutils literal notranslate"><span class="pre">DataFrame.to_dict(orient='index')</span></code><a class="headerlink" href="#raise-valueerror-in-dataframe-to-dict-orient-index" title="Permalink to this headline">¶</a></h3>
<p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_dict()</span></code> raises <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> when used with
<code class="docutils literal notranslate"><span class="pre">orient='index'</span></code> and a non-unique index instead of losing data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22801">GH22801</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [80]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">])</span>

<span class="gp">In [81]: </span><span class="n">df</span>
<span class="gh">Out[81]: </span><span class="go"></span>
<span class="go">   a     b</span>
<span class="go">A  1  0.50</span>
<span class="go">A  2  0.75</span>

<span class="go">[2 rows x 2 columns]</span>

<span class="gp">In [82]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
<span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">82</span><span class="o">-</span><span class="n">f5309a7c6adb</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">df</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>

<span class="nn">~/scipy/pandas/pandas/core/frame.py</span> in <span class="ni">to_dict</span><span class="nt">(self, orient, into)</span>
<span class="g g-Whitespace">   </span><span class="mi">1431</span>         <span class="k">elif</span> <span class="n">orient</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;i&quot;</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1432</span>             <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">is_unique</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1433</span>                 <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;DataFrame index must be unique for orient=&#39;index&#39;.&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1434</span>             <span class="k">return</span> <span class="n">into_c</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1435</span>                 <span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:])))</span>

<span class="ne">ValueError</span>: DataFrame index must be unique for orient=&#39;index&#39;.
</pre></div>
</div>
</div>
<div class="section" id="tick-dateoffset-normalize-restrictions">
<span id="whatsnew-0240-api-datetimelike-normalize"></span><h3>Tick DateOffset normalize restrictions<a class="headerlink" href="#tick-dateoffset-normalize-restrictions" title="Permalink to this headline">¶</a></h3>
<p>Creating a <code class="docutils literal notranslate"><span class="pre">Tick</span></code> object (<code class="xref py py-class docutils literal notranslate"><span class="pre">Day</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Hour</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Minute</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">Second</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Milli</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Micro</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Nano</span></code>) with
<code class="docutils literal notranslate"><span class="pre">normalize=True</span></code> is no longer supported.  This prevents unexpected behavior
where addition could fail to be monotone or associative.  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21427">GH21427</a>)</p>
<p><em>Previous behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">ts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2018-06-11 18:01:14&#39;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">ts</span>
<span class="gh">Out[3]: </span><span class="go">Timestamp(&#39;2018-06-11 18:01:14&#39;)</span>

<span class="gp">In [4]: </span><span class="n">tic</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">offsets</span><span class="o">.</span><span class="n">Hour</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">   ...:</span>

<span class="gp">In [5]: </span><span class="n">tic</span>
<span class="gh">Out[5]: </span><span class="go">&lt;2 * Hours&gt;</span>

<span class="gp">In [6]: </span><span class="n">ts</span> <span class="o">+</span> <span class="n">tic</span>
<span class="gh">Out[6]: </span><span class="go">Timestamp(&#39;2018-06-11 00:00:00&#39;)</span>

<span class="gp">In [7]: </span><span class="n">ts</span> <span class="o">+</span> <span class="n">tic</span> <span class="o">+</span> <span class="n">tic</span> <span class="o">+</span> <span class="n">tic</span> <span class="o">==</span> <span class="n">ts</span> <span class="o">+</span> <span class="p">(</span><span class="n">tic</span> <span class="o">+</span> <span class="n">tic</span> <span class="o">+</span> <span class="n">tic</span><span class="p">)</span>
<span class="gh">Out[7]: </span><span class="go">False</span>
</pre></div>
</div>
<p><em>New behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [83]: </span><span class="n">ts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2018-06-11 18:01:14&#39;</span><span class="p">)</span>

<span class="gp">In [84]: </span><span class="n">tic</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">offsets</span><span class="o">.</span><span class="n">Hour</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="gp">In [85]: </span><span class="n">ts</span> <span class="o">+</span> <span class="n">tic</span> <span class="o">+</span> <span class="n">tic</span> <span class="o">+</span> <span class="n">tic</span> <span class="o">==</span> <span class="n">ts</span> <span class="o">+</span> <span class="p">(</span><span class="n">tic</span> <span class="o">+</span> <span class="n">tic</span> <span class="o">+</span> <span class="n">tic</span><span class="p">)</span>
<span class="gh">Out[85]: </span><span class="go">True</span>
</pre></div>
</div>
</div>
<div class="section" id="period-subtraction">
<span id="whatsnew-0240-api-period-subtraction"></span><span id="whatsnew-0240-api-datetimelike"></span><h3>Period subtraction<a class="headerlink" href="#period-subtraction" title="Permalink to this headline">¶</a></h3>
<p>Subtraction of a <code class="docutils literal notranslate"><span class="pre">Period</span></code> from another <code class="docutils literal notranslate"><span class="pre">Period</span></code> will give a <code class="docutils literal notranslate"><span class="pre">DateOffset</span></code>.
instead of an integer (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21314">GH21314</a>)</p>
<p><em>Previous behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">june</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Period</span><span class="p">(</span><span class="s1">&#39;June 2018&#39;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">april</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Period</span><span class="p">(</span><span class="s1">&#39;April 2018&#39;</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">june</span> <span class="o">-</span> <span class="n">april</span>
<span class="go">Out [4]: 2</span>
</pre></div>
</div>
<p><em>New behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [86]: </span><span class="n">june</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Period</span><span class="p">(</span><span class="s1">&#39;June 2018&#39;</span><span class="p">)</span>

<span class="gp">In [87]: </span><span class="n">april</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Period</span><span class="p">(</span><span class="s1">&#39;April 2018&#39;</span><span class="p">)</span>

<span class="gp">In [88]: </span><span class="n">june</span> <span class="o">-</span> <span class="n">april</span>
<span class="gh">Out[88]: </span><span class="go">&lt;2 * MonthEnds&gt;</span>
</pre></div>
</div>
<p>Similarly, subtraction of a <code class="docutils literal notranslate"><span class="pre">Period</span></code> from a <code class="docutils literal notranslate"><span class="pre">PeriodIndex</span></code> will now return
an <code class="docutils literal notranslate"><span class="pre">Index</span></code> of <code class="docutils literal notranslate"><span class="pre">DateOffset</span></code> objects instead of an <code class="docutils literal notranslate"><span class="pre">Int64Index</span></code></p>
<p><em>Previous behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">period_range</span><span class="p">(</span><span class="s1">&#39;June 2018&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">pi</span> <span class="o">-</span> <span class="n">pi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gh">Out[3]: </span><span class="go">Int64Index([0, 1, 2], dtype=&#39;int64&#39;)</span>
</pre></div>
</div>
<p><em>New behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [89]: </span><span class="n">pi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">period_range</span><span class="p">(</span><span class="s1">&#39;June 2018&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="gp">In [90]: </span><span class="n">pi</span> <span class="o">-</span> <span class="n">pi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gh">Out[90]: </span><span class="go">Index([&lt;0 * MonthEnds&gt;, &lt;MonthEnd&gt;, &lt;2 * MonthEnds&gt;], dtype=&#39;object&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="addition-subtraction-of-nan-from-dataframe">
<span id="whatsnew-0240-api-timedelta64-subtract-nan"></span><h3>Addition/subtraction of <code class="docutils literal notranslate"><span class="pre">NaN</span></code> from <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code><a class="headerlink" href="#addition-subtraction-of-nan-from-dataframe" title="Permalink to this headline">¶</a></h3>
<p>Adding or subtracting <code class="docutils literal notranslate"><span class="pre">NaN</span></code> from a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> column with
<code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> dtype will now raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of returning
all-<code class="docutils literal notranslate"><span class="pre">NaT</span></code>.  This is for compatibility with <code class="docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> and
<code class="docutils literal notranslate"><span class="pre">Series</span></code> behavior (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22163">GH22163</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [91]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)])</span>

<span class="gp">In [92]: </span><span class="n">df</span>
<span class="gh">Out[92]: </span><span class="go"></span>
<span class="go">       0</span>
<span class="go">0 1 days</span>

<span class="go">[1 rows x 1 columns]</span>
</pre></div>
</div>
<p><em>Previous behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)])</span>

<span class="gp">In [5]: </span><span class="n">df</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gh">Out[5]:</span>
<span class="go">    0</span>
<span class="go">0 NaT</span>
</pre></div>
</div>
<p><em>New behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">df</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="go">...</span>
<span class="go">TypeError: unsupported operand type(s) for -: &#39;TimedeltaIndex&#39; and &#39;float&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="dataframe-comparison-operations-broadcasting-changes">
<span id="whatsnew-0240-api-dataframe-cmp-broadcasting"></span><h3>DataFrame comparison operations broadcasting changes<a class="headerlink" href="#dataframe-comparison-operations-broadcasting-changes" title="Permalink to this headline">¶</a></h3>
<p>Previously, the broadcasting behavior of <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> comparison
operations (<code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, …) was inconsistent with the behavior of
arithmetic operations (<code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, …).  The behavior of the comparison
operations has been changed to match the arithmetic operations in these cases.
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22880">GH22880</a>)</p>
<p>The affected cases are:</p>
<ul class="simple">
<li><p>operating against a 2-dimensional <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> with either 1 row or 1 column will now broadcast the same way a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> would (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23000">GH23000</a>).</p></li>
<li><p>a list or tuple with length matching the number of rows in the <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> will now raise <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> instead of operating column-by-column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22880">GH22880</a>.</p></li>
<li><p>a list or tuple with length matching the number of columns in the <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> will now operate row-by-row instead of raising <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22880">GH22880</a>).</p></li>
</ul>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [93]: </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="gp">In [94]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>

<span class="gp">In [95]: </span><span class="n">df</span>
<span class="gh">Out[95]: </span><span class="go"></span>
<span class="go">   0  1</span>
<span class="go">0  0  1</span>
<span class="go">1  2  3</span>
<span class="go">2  4  5</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<p><em>Previous behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">df</span> <span class="o">==</span> <span class="n">arr</span><span class="p">[[</span><span class="mi">0</span><span class="p">],</span> <span class="p">:]</span>
<span class="go">    ...: # comparison previously broadcast where arithmetic would raise</span>
<span class="gh">Out[5]:</span>
<span class="go">       0      1</span>
<span class="go">0   True   True</span>
<span class="go">1  False  False</span>
<span class="go">2  False  False</span>
<span class="gp">In [6]: </span><span class="n">df</span> <span class="o">+</span> <span class="n">arr</span><span class="p">[[</span><span class="mi">0</span><span class="p">],</span> <span class="p">:]</span>
<span class="go">...</span>
<span class="go">ValueError: Unable to coerce to DataFrame, shape must be (3, 2): given (1, 2)</span>

<span class="gp">In [7]: </span><span class="n">df</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">    ...: # length matches number of columns;</span>
<span class="go">    ...: # comparison previously raised where arithmetic would broadcast</span>
<span class="go">...</span>
<span class="go">ValueError: Invalid broadcasting comparison [(1, 2)] with block values</span>
<span class="gp">In [8]: </span><span class="n">df</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gh">Out[8]:</span>
<span class="go">   0  1</span>
<span class="go">0  1  3</span>
<span class="go">1  3  5</span>
<span class="go">2  5  7</span>

<span class="gp">In [9]: </span><span class="n">df</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">    ...:  # length matches number of rows</span>
<span class="go">    ...:  # comparison previously broadcast where arithmetic would raise</span>
<span class="gh">Out[9]:</span>
<span class="go">       0      1</span>
<span class="go">0  False   True</span>
<span class="go">1   True  False</span>
<span class="go">2  False  False</span>
<span class="gp">In [10]: </span><span class="n">df</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">...</span>
<span class="go">ValueError: Unable to coerce to Series, length must be 2: given 3</span>
</pre></div>
</div>
<p><em>New behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># Comparison operations and arithmetic operations both broadcast.</span>
<span class="gp">In [96]: </span><span class="n">df</span> <span class="o">==</span> <span class="n">arr</span><span class="p">[[</span><span class="mi">0</span><span class="p">],</span> <span class="p">:]</span>
<span class="gh">Out[96]: </span><span class="go"></span>
<span class="go">       0      1</span>
<span class="go">0   True   True</span>
<span class="go">1  False  False</span>
<span class="go">2  False  False</span>

<span class="go">[3 rows x 2 columns]</span>

<span class="gp">In [97]: </span><span class="n">df</span> <span class="o">+</span> <span class="n">arr</span><span class="p">[[</span><span class="mi">0</span><span class="p">],</span> <span class="p">:]</span>
<span class="gh">Out[97]: </span><span class="go"></span>
<span class="go">   0  1</span>
<span class="go">0  0  2</span>
<span class="go">1  2  4</span>
<span class="go">2  4  6</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># Comparison operations and arithmetic operations both broadcast.</span>
<span class="gp">In [98]: </span><span class="n">df</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gh">Out[98]: </span><span class="go"></span>
<span class="go">       0      1</span>
<span class="go">0  False  False</span>
<span class="go">1  False  False</span>
<span class="go">2  False  False</span>

<span class="go">[3 rows x 2 columns]</span>

<span class="gp">In [99]: </span><span class="n">df</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gh">Out[99]: </span><span class="go"></span>
<span class="go">   0  1</span>
<span class="go">0  1  3</span>
<span class="go">1  3  5</span>
<span class="go">2  5  7</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># Comparison operations and arithmetic operations both raise ValueError.</span>
<span class="gp">In [6]: </span><span class="n">df</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">...</span>
<span class="go">ValueError: Unable to coerce to Series, length must be 2: given 3</span>

<span class="gp">In [7]: </span><span class="n">df</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">...</span>
<span class="go">ValueError: Unable to coerce to Series, length must be 2: given 3</span>
</pre></div>
</div>
</div>
<div class="section" id="dataframe-arithmetic-operations-broadcasting-changes">
<span id="whatsnew-0240-api-dataframe-arithmetic-broadcasting"></span><h3>DataFrame arithmetic operations broadcasting changes<a class="headerlink" href="#dataframe-arithmetic-operations-broadcasting-changes" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> arithmetic operations when operating with 2-dimensional
<code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> objects now broadcast in the same way as <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code>
broadcast.  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23000">GH23000</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [100]: </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="gp">In [101]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>

<span class="gp">In [102]: </span><span class="n">df</span>
<span class="gh">Out[102]: </span><span class="go"></span>
<span class="go">   0  1</span>
<span class="go">0  0  1</span>
<span class="go">1  2  3</span>
<span class="go">2  4  5</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<p><em>Previous behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">df</span> <span class="o">+</span> <span class="n">arr</span><span class="p">[[</span><span class="mi">0</span><span class="p">],</span> <span class="p">:]</span>   <span class="c1"># 1 row, 2 columns</span>
<span class="go">...</span>
<span class="go">ValueError: Unable to coerce to DataFrame, shape must be (3, 2): given (1, 2)</span>
<span class="gp">In [6]: </span><span class="n">df</span> <span class="o">+</span> <span class="n">arr</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">1</span><span class="p">]]</span>   <span class="c1"># 1 column, 3 rows</span>
<span class="go">...</span>
<span class="go">ValueError: Unable to coerce to DataFrame, shape must be (3, 2): given (3, 1)</span>
</pre></div>
</div>
<p><em>New behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [103]: </span><span class="n">df</span> <span class="o">+</span> <span class="n">arr</span><span class="p">[[</span><span class="mi">0</span><span class="p">],</span> <span class="p">:]</span>   <span class="c1"># 1 row, 2 columns</span>
<span class="gh">Out[103]: </span><span class="go"></span>
<span class="go">   0  1</span>
<span class="go">0  0  2</span>
<span class="go">1  2  4</span>
<span class="go">2  4  6</span>

<span class="go">[3 rows x 2 columns]</span>

<span class="gp">In [104]: </span><span class="n">df</span> <span class="o">+</span> <span class="n">arr</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">1</span><span class="p">]]</span>   <span class="c1"># 1 column, 3 rows</span>
<span class="gh">Out[104]: </span><span class="go"></span>
<span class="go">   0   1</span>
<span class="go">0  1   2</span>
<span class="go">1  5   6</span>
<span class="go">2  9  10</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="series-and-index-data-dtype-incompatibilities">
<span id="whatsnew-0240-api-incompatibilities"></span><h3>Series and Index data-dtype incompatibilities<a class="headerlink" href="#series-and-index-data-dtype-incompatibilities" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Series</span></code> and <code class="docutils literal notranslate"><span class="pre">Index</span></code> constructors now raise when the
data is incompatible with a passed <code class="docutils literal notranslate"><span class="pre">dtype=</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15832">GH15832</a>)</p>
<p><em>Previous behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;uint64&quot;</span><span class="p">)</span>
<span class="go">Out [4]:</span>
<span class="go">0    18446744073709551615</span>
<span class="go">dtype: uint64</span>
</pre></div>
</div>
<p><em>New behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;uint64&quot;</span><span class="p">)</span>
<span class="go">Out [4]:</span>
<span class="go">...</span>
<span class="go">OverflowError: Trying to coerce negative values to unsigned integers</span>
</pre></div>
</div>
</div>
<div class="section" id="concatenation-changes">
<span id="whatsnew-0240-api-concat-categorical"></span><h3>Concatenation Changes<a class="headerlink" href="#concatenation-changes" title="Permalink to this headline">¶</a></h3>
<p>Calling <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.concat()</span></code> on a <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> of ints with NA values now
causes them to be processed as objects when concatenating with anything
other than another <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> of ints (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19214">GH19214</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [105]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span>

<span class="gp">In [106]: </span><span class="n">c</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;category&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Previous behavior</em></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">s</span><span class="p">,</span> <span class="n">c</span><span class="p">])</span>
<span class="gh">Out[3]:</span>
<span class="go">0    0.0</span>
<span class="go">1    1.0</span>
<span class="go">2    NaN</span>
<span class="go">0    0.0</span>
<span class="go">1    1.0</span>
<span class="go">2    NaN</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p><em>New behavior</em></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [107]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">s</span><span class="p">,</span> <span class="n">c</span><span class="p">])</span>
<span class="gh">Out[107]: </span><span class="go"></span>
<span class="go">0      0</span>
<span class="go">1      1</span>
<span class="go">2    NaN</span>
<span class="go">0      0</span>
<span class="go">1      1</span>
<span class="go">2    NaN</span>
<span class="go">Length: 6, dtype: object</span>
</pre></div>
</div>
</div>
<div class="section" id="datetimelike-api-changes">
<h3>Datetimelike API changes<a class="headerlink" href="#datetimelike-api-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>For <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> with non-<code class="docutils literal notranslate"><span class="pre">None</span></code> <code class="docutils literal notranslate"><span class="pre">freq</span></code> attribute, addition or subtraction of integer-dtyped array or <code class="docutils literal notranslate"><span class="pre">Index</span></code> will return an object of the same class (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19959">GH19959</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> objects are now immutable. Attempting to alter one of these will now raise <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21341">GH21341</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code> subtraction of another <code class="docutils literal notranslate"><span class="pre">PeriodIndex</span></code> will now return an object-dtype <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> of <code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> objects instead of raising a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20049">GH20049</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">cut()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">qcut()</span></code> now returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> bins when the input is datetime or timedelta dtype respectively and <code class="docutils literal notranslate"><span class="pre">retbins=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19891">GH19891</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.to_period()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.to_period()</span></code> will issue a warning when timezone information will be lost (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21333">GH21333</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.tz_convert()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.tz_localize()</span></code> have been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21781">GH21781</a>)</p></li>
</ul>
</div>
<div class="section" id="other-api-changes">
<span id="whatsnew-0240-api-other"></span><h3>Other API changes<a class="headerlink" href="#other-api-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>A newly constructed empty <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with integer as the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> will now only be cast to <code class="docutils literal notranslate"><span class="pre">float64</span></code> if <code class="docutils literal notranslate"><span class="pre">index</span></code> is specified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22858">GH22858</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.cat()</span></code> will now raise if <code class="docutils literal notranslate"><span class="pre">others</span></code> is a <code class="docutils literal notranslate"><span class="pre">set</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23009">GH23009</a>)</p></li>
<li><p>Passing scalar values to <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> will now raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23539">GH23539</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_rows</span></code> and <code class="docutils literal notranslate"><span class="pre">max_cols</span></code> parameters removed from <code class="xref py py-class docutils literal notranslate"><span class="pre">HTMLFormatter</span></code> since truncation is handled by <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameFormatter</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23818">GH23818</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> will now raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if a column with missing values is declared as having dtype <code class="docutils literal notranslate"><span class="pre">bool</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20591">GH20591</a>)</p></li>
<li><p>The column order of the resultant <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> from <code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.to_frame()</span></code> is now guaranteed to match the <code class="xref py py-attr docutils literal notranslate"><span class="pre">MultiIndex.names</span></code> order. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22420">GH22420</a>)</p></li>
<li><p>Incorrectly passing a <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> to <code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.from_tuples()</span></code>, rather than a sequence of tuples, now raises a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> rather than a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24024">GH24024</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pd.offsets.generate_range()</span></code> argument <code class="docutils literal notranslate"><span class="pre">time_rule</span></code> has been removed; use <code class="docutils literal notranslate"><span class="pre">offset</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24157">GH24157</a>)</p></li>
<li><p>In 0.23.x, pandas would raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> on a merge of a numeric column (e.g. <code class="docutils literal notranslate"><span class="pre">int</span></code> dtyped column) and an <code class="docutils literal notranslate"><span class="pre">object</span></code> dtyped column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9780">GH9780</a>). We have re-enabled the ability to merge <code class="docutils literal notranslate"><span class="pre">object</span></code> and other dtypes; pandas will still raise on a merge between a numeric and an <code class="docutils literal notranslate"><span class="pre">object</span></code> dtyped column that is composed only of strings (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21681">GH21681</a>)</p></li>
<li><p>Accessing a level of a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> with a duplicate name (e.g. in
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_level_values()</span></code>) now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21678">GH21678</a>).</p></li>
<li><p>Invalid construction of <code class="docutils literal notranslate"><span class="pre">IntervalDtype</span></code> will now always raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> rather than a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if the subdtype is invalid (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21185">GH21185</a>)</p></li>
<li><p>Trying to reindex a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> with a non unique <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> instead of an <code class="docutils literal notranslate"><span class="pre">Exception</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21770">GH21770</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> subtraction will attempt to operate element-wise instead of raising <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19369">GH19369</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.io.formats.style.Styler</span></code> supports a <code class="docutils literal notranslate"><span class="pre">number-format</span></code> property when using <code class="xref py py-meth docutils literal notranslate"><span class="pre">to_excel()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22015">GH22015</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.corr()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.corr()</span></code> now raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> along with a helpful error message instead of a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> when supplied with an invalid method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22298">GH22298</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">shift()</span></code> will now always return a copy, instead of the previous behaviour of returning self when shifting by 0 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22397">GH22397</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.set_index()</span></code> now gives a better (and less frequent) KeyError, raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> for incorrect types,
and will not fail on duplicate column names with <code class="docutils literal notranslate"><span class="pre">drop=True</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22484">GH22484</a>)</p></li>
<li><p>Slicing a single row of a DataFrame with multiple ExtensionArrays of the same type now preserves the dtype, rather than coercing to object (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22784">GH22784</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> attribute <cite>_cacheable</cite> and method <cite>_should_cache</cite> have been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23118">GH23118</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.searchsorted()</span></code>, when supplied a scalar value to search for, now returns a scalar instead of an array (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23801">GH23801</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.searchsorted()</span></code>, when supplied a scalar value to search for, now returns a scalar instead of an array (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23466">GH23466</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.searchsorted()</span></code> now raises a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> rather that a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>, if a searched for key is not found in its categories (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23466">GH23466</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.hasnans()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.hasnans()</span></code> now always return a python boolean. Previously, a python or a numpy boolean could be returned, depending on circumstances (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23294">GH23294</a>).</p></li>
<li><p>The order of the arguments of <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_string()</span></code> is rearranged to be consistent with each other. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23614">GH23614</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">CategoricalIndex.reindex()</span></code> now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if the target index is non-unique and not equal to the current index. It previously only raised if the target index was not of a categorical dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23963">GH23963</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.to_list()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">Index.to_list()</span></code> are now aliases of <code class="docutils literal notranslate"><span class="pre">Series.tolist</span></code> respectively <code class="docutils literal notranslate"><span class="pre">Index.tolist</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8826">GH8826</a>)</p></li>
<li><p>The result of <code class="docutils literal notranslate"><span class="pre">SparseSeries.unstack</span></code> is now a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with sparse values, rather than a <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseDataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24372">GH24372</a>).</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> no longer ignore the dtype precision. Passing a non-nanosecond resolution dtype will raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24753">GH24753</a>)</p></li>
</ul>
</div>
</div>
<div class="section" id="extension-type-changes">
<span id="whatsnew-0240-api-extension"></span><h2>Extension type changes<a class="headerlink" href="#extension-type-changes" title="Permalink to this headline">¶</a></h2>
<p><strong>Equality and hashability</strong></p>
<p>Pandas now requires that extension dtypes be hashable (i.e. the respective
<code class="docutils literal notranslate"><span class="pre">ExtensionDtype</span></code> objects; hashability is not a requirement for the values
of the corresponding <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code>). The base class implements
a default <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> and <code class="docutils literal notranslate"><span class="pre">__hash__</span></code>. If you have a parametrized dtype, you should
update the <code class="docutils literal notranslate"><span class="pre">ExtensionDtype._metadata</span></code> tuple to match the signature of your
<code class="docutils literal notranslate"><span class="pre">__init__</span></code> method. See <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.api.extensions.ExtensionDtype</span></code> for more (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22476">GH22476</a>).</p>
<p><strong>New and changed methods</strong></p>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">dropna()</span></code> has been added (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21185">GH21185</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">repeat()</span></code> has been added (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24349">GH24349</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> constructor, <code class="docutils literal notranslate"><span class="pre">_from_sequence</span></code> now take the keyword arg <code class="docutils literal notranslate"><span class="pre">copy=False</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21185">GH21185</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.api.extensions.ExtensionArray.shift()</span></code> added as part of the basic <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> interface (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22387">GH22387</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">searchsorted()</span></code> has been added (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24350">GH24350</a>)</p></li>
<li><p>Support for reduction operations such as <code class="docutils literal notranslate"><span class="pre">sum</span></code>, <code class="docutils literal notranslate"><span class="pre">mean</span></code> via opt-in base class method override (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22762">GH22762</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">ExtensionArray.isna()</span></code> is allowed to return an <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22325">GH22325</a>).</p></li>
</ul>
<p><strong>Dtype changes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ExtensionDtype</span></code> has gained the ability to instantiate from string dtypes, e.g. <code class="docutils literal notranslate"><span class="pre">decimal</span></code> would instantiate a registered <code class="docutils literal notranslate"><span class="pre">DecimalDtype</span></code>; furthermore
the <code class="docutils literal notranslate"><span class="pre">ExtensionDtype</span></code> has gained the method <code class="docutils literal notranslate"><span class="pre">construct_array_type</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21185">GH21185</a>)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">ExtensionDtype._is_numeric</span></code> for controlling whether an extension dtype is considered numeric (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22290">GH22290</a>).</p></li>
<li><p>Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.api.types.register_extension_dtype()</span></code> to register an extension type with pandas (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22664">GH22664</a>)</p></li>
<li><p>Updated the <code class="docutils literal notranslate"><span class="pre">.type</span></code> attribute for <code class="docutils literal notranslate"><span class="pre">PeriodDtype</span></code>, <code class="docutils literal notranslate"><span class="pre">DatetimeTZDtype</span></code>, and <code class="docutils literal notranslate"><span class="pre">IntervalDtype</span></code> to be instances of the dtype (<code class="docutils literal notranslate"><span class="pre">Period</span></code>, <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code>, and <code class="docutils literal notranslate"><span class="pre">Interval</span></code> respectively) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22938">GH22938</a>)</p></li>
</ul>
<p id="whatsnew-0240-enhancements-extension-array-operators"><strong>Operator support</strong></p>
<p>A <code class="docutils literal notranslate"><span class="pre">Series</span></code> based on an <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> now supports arithmetic and comparison
operators (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19577">GH19577</a>). There are two approaches for providing operator support for an <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code>:</p>
<ol class="arabic simple">
<li><p>Define each of the operators on your <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> subclass.</p></li>
<li><p>Use an operator implementation from pandas that depends on operators that are already defined
on the underlying elements (scalars) of the <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code>.</p></li>
</ol>
<p>See the <a class="reference internal" href="../development/extending.html#extending-extension-operator"><span class="std std-ref">ExtensionArray Operator Support</span></a> documentation section for details on both
ways of adding operator support.</p>
<p><strong>Other changes</strong></p>
<ul class="simple">
<li><p>A default repr for <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.api.extensions.ExtensionArray</span></code> is now provided (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23601">GH23601</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExtensionArray._formatting_values()</span></code> is deprecated. Use <code class="xref py py-attr docutils literal notranslate"><span class="pre">ExtensionArray._formatter</span></code> instead. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23601">GH23601</a>)</p></li>
<li><p>An <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> with a boolean dtype now works correctly as a boolean indexer. <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.api.types.is_bool_dtype()</span></code> now properly considers them boolean (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22326">GH22326</a>)</p></li>
</ul>
<p><strong>Bug fixes</strong></p>
<ul class="simple">
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.get()</span></code> for <code class="docutils literal notranslate"><span class="pre">Series</span></code> using <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> and integer index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21257">GH21257</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">shift()</span></code> now dispatches to <code class="xref py py-meth docutils literal notranslate"><span class="pre">ExtensionArray.shift()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22386">GH22386</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.combine()</span></code> works correctly with <code class="xref py py-class docutils literal notranslate"><span class="pre">ExtensionArray</span></code> inside of <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20825">GH20825</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.combine()</span></code> with scalar argument now works for any function type (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21248">GH21248</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code> now dispatch to <code class="xref py py-meth docutils literal notranslate"><span class="pre">ExtensionArray.astype()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21185">GH21185</a>).</p></li>
<li><p>Slicing a single row of a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> with multiple ExtensionArrays of the same type now preserves the dtype, rather than coercing to object (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22784">GH22784</a>)</p></li>
<li><p>Bug when concatenating multiple <code class="docutils literal notranslate"><span class="pre">Series</span></code> with different extension dtypes not casting to object dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22994">GH22994</a>)</p></li>
<li><p>Series backed by an <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> now work with <code class="xref py py-func docutils literal notranslate"><span class="pre">util.hash_pandas_object()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23066">GH23066</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.stack()</span></code> no longer converts to object dtype for DataFrames where each column has the same extension dtype. The output Series will have the same dtype as the columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23077">GH23077</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.unstack()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.unstack()</span></code> no longer convert extension arrays to object-dtype ndarrays. Each column in the output <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> will now have the same dtype as the input (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23077">GH23077</a>).</p></li>
<li><p>Bug when grouping <code class="xref py py-meth docutils literal notranslate"><span class="pre">Dataframe.groupby()</span></code> and aggregating on <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> it was not returning the actual <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23227">GH23227</a>).</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.merge()</span></code> when merging on an extension array-backed column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23020">GH23020</a>).</p></li>
</ul>
</div>
<div class="section" id="deprecations">
<span id="whatsnew-0240-deprecations"></span><h2>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">MultiIndex.labels</span></code> has been deprecated and replaced by <code class="xref py py-attr docutils literal notranslate"><span class="pre">MultiIndex.codes</span></code>.
The functionality is unchanged. The new name better reflects the natures of
these codes and makes the <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> API more similar to the API for <code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13443">GH13443</a>).
As a consequence, other uses of the name <code class="docutils literal notranslate"><span class="pre">labels</span></code> in <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> have also been deprecated and replaced with <code class="docutils literal notranslate"><span class="pre">codes</span></code>:</p>
<ul>
<li><p>You should initialize a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> instance using a parameter named <code class="docutils literal notranslate"><span class="pre">codes</span></code> rather than <code class="docutils literal notranslate"><span class="pre">labels</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MultiIndex.set_labels</span></code> has been deprecated in favor of <code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.set_codes()</span></code>.</p></li>
<li><p>For method <code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.copy()</span></code>, the <code class="docutils literal notranslate"><span class="pre">labels</span></code> parameter has been deprecated and replaced by a <code class="docutils literal notranslate"><span class="pre">codes</span></code> parameter.</p></li>
</ul>
</li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_stata()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">read_stata()</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">StataReader</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">StataWriter</span></code> have deprecated the <code class="docutils literal notranslate"><span class="pre">encoding</span></code> argument. The encoding of a Stata dta file is determined by the file type and cannot be changed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21244">GH21244</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.to_hierarchical()</span></code> is deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21613">GH21613</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.ptp()</span></code> is deprecated. Use <code class="docutils literal notranslate"><span class="pre">numpy.ptp</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21614">GH21614</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.compress()</span></code> is deprecated. Use <code class="docutils literal notranslate"><span class="pre">Series[condition]</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18262">GH18262</a>)</p></li>
<li><p>The signature of <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_csv()</span></code> has been uniformed to that of <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code>: the name of the first argument is now <code class="docutils literal notranslate"><span class="pre">path_or_buf</span></code>, the order of subsequent arguments has changed, the <code class="docutils literal notranslate"><span class="pre">header</span></code> argument now defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19715">GH19715</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.from_codes()</span></code> has deprecated providing float values for the <code class="docutils literal notranslate"><span class="pre">codes</span></code> argument. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21767">GH21767</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.read_table()</span></code> is deprecated. Instead, use <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> passing <code class="docutils literal notranslate"><span class="pre">sep='\t'</span></code> if necessary. This deprecation has been removed in 0.25.0. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21948">GH21948</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.cat()</span></code> has deprecated using arbitrary list-likes <em>within</em> list-likes. A list-like container may still contain
many <code class="docutils literal notranslate"><span class="pre">Series</span></code>, <code class="docutils literal notranslate"><span class="pre">Index</span></code> or 1-dimensional <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code>, or alternatively, only scalar values. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21950">GH21950</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">FrozenNDArray.searchsorted()</span></code> has deprecated the <code class="docutils literal notranslate"><span class="pre">v</span></code> parameter in favor of <code class="docutils literal notranslate"><span class="pre">value</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14645">GH14645</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.shift()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">PeriodIndex.shift()</span></code> now accept <code class="docutils literal notranslate"><span class="pre">periods</span></code> argument instead of <code class="docutils literal notranslate"><span class="pre">n</span></code> for consistency with <code class="xref py py-func docutils literal notranslate"><span class="pre">Index.shift()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.shift()</span></code>. Using <code class="docutils literal notranslate"><span class="pre">n</span></code> throws a deprecation warning (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22458">GH22458</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22912">GH22912</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">fastpath</span></code> keyword of the different Index constructors is deprecated (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23110">GH23110</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.tz_localize()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.tz_localize()</span></code>, and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.tz_localize()</span></code> have deprecated the <code class="docutils literal notranslate"><span class="pre">errors</span></code> argument in favor of the <code class="docutils literal notranslate"><span class="pre">nonexistent</span></code> argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8917">GH8917</a>)</p></li>
<li><p>The class <code class="docutils literal notranslate"><span class="pre">FrozenNDArray</span></code> has been deprecated. When unpickling, <code class="docutils literal notranslate"><span class="pre">FrozenNDArray</span></code> will be unpickled to <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> once this class is removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9031">GH9031</a>)</p></li>
<li><p>The methods <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.update()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Panel.update()</span></code> have deprecated the <code class="docutils literal notranslate"><span class="pre">raise_conflict=False|True</span></code> keyword in favor of <code class="docutils literal notranslate"><span class="pre">errors='ignore'|'raise'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23585">GH23585</a>)</p></li>
<li><p>The methods <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.partition()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.rpartition()</span></code> have deprecated the <code class="docutils literal notranslate"><span class="pre">pat</span></code> keyword in favor of <code class="docutils literal notranslate"><span class="pre">sep</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22676">GH22676</a>)</p></li>
<li><p>Deprecated the <code class="docutils literal notranslate"><span class="pre">nthreads</span></code> keyword of <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.read_feather()</span></code> in favor of <code class="docutils literal notranslate"><span class="pre">use_threads</span></code> to reflect the changes in <code class="docutils literal notranslate"><span class="pre">pyarrow&gt;=0.11.0</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23053">GH23053</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.read_excel()</span></code> has deprecated accepting <code class="docutils literal notranslate"><span class="pre">usecols</span></code> as an integer. Please pass in a list of ints from 0 to <code class="docutils literal notranslate"><span class="pre">usecols</span></code> inclusive instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23527">GH23527</a>)</p></li>
<li><p>Constructing a <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> from data with <code class="docutils literal notranslate"><span class="pre">datetime64</span></code>-dtyped data is deprecated, will raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23539">GH23539</a>)</p></li>
<li><p>Constructing a <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> from data with <code class="docutils literal notranslate"><span class="pre">timedelta64</span></code>-dtyped data is deprecated, will raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23675">GH23675</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">keep_tz=False</span></code> option (the default) of the <code class="docutils literal notranslate"><span class="pre">keep_tz</span></code> keyword of
<code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.to_series()</span></code> is deprecated (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17832">GH17832</a>).</p></li>
<li><p>Timezone converting a tz-aware <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> with <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> and the <code class="docutils literal notranslate"><span class="pre">tz</span></code> argument is now deprecated. Instead, use <code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.tz_convert()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23579">GH23579</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_period()</span></code> is deprecated in favor of <code class="docutils literal notranslate"><span class="pre">pandas.api.types.is_period_dtype</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23917">GH23917</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_datetimetz()</span></code> is deprecated in favor of <code class="docutils literal notranslate"><span class="pre">pandas.api.types.is_datetime64tz</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23917">GH23917</a>)</p></li>
<li><p>Creating a <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code>, or <code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code> by passing range arguments <cite>start</cite>, <cite>end</cite>, and <cite>periods</cite> is deprecated in favor of <code class="xref py py-func docutils literal notranslate"><span class="pre">timedelta_range()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">date_range()</span></code>, or <code class="xref py py-func docutils literal notranslate"><span class="pre">period_range()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23919">GH23919</a>)</p></li>
<li><p>Passing a string alias like <code class="docutils literal notranslate"><span class="pre">'datetime64[ns,</span> <span class="pre">UTC]'</span></code> as the <code class="docutils literal notranslate"><span class="pre">unit</span></code> parameter to <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeTZDtype</span></code> is deprecated. Use <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeTZDtype.construct_from_string</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23990">GH23990</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">skipna</span></code> parameter of <code class="xref py py-meth docutils literal notranslate"><span class="pre">infer_dtype()</span></code> will switch to <code class="docutils literal notranslate"><span class="pre">True</span></code> by default in a future version of pandas (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17066">GH17066</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24050">GH24050</a>)</p></li>
<li><p>In <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.where()</span></code> with Categorical data, providing an <code class="docutils literal notranslate"><span class="pre">other</span></code> that is not present in the categories is deprecated. Convert the categorical to a different dtype or add the <code class="docutils literal notranslate"><span class="pre">other</span></code> to the categories first (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24077">GH24077</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.clip_lower()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.clip_upper()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.clip_lower()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.clip_upper()</span></code> are deprecated and will be removed in a future version. Use <code class="docutils literal notranslate"><span class="pre">Series.clip(lower=threshold)</span></code>, <code class="docutils literal notranslate"><span class="pre">Series.clip(upper=threshold)</span></code> and the equivalent <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> methods (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24203">GH24203</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.nonzero()</span></code> is deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18262">GH18262</a>)</p></li>
<li><p>Passing an integer to <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.fillna()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.fillna()</span></code> with <code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> dtypes is deprecated, will raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> in a future version.  Use <code class="docutils literal notranslate"><span class="pre">obj.fillna(pd.Timedelta(...))</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24694">GH24694</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.cat.categorical</span></code>, <code class="docutils literal notranslate"><span class="pre">Series.cat.name</span></code> and <code class="docutils literal notranslate"><span class="pre">Series.cat.index</span></code> have been deprecated. Use the attributes on <code class="docutils literal notranslate"><span class="pre">Series.cat</span></code> or <code class="docutils literal notranslate"><span class="pre">Series</span></code> directly. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24751">GH24751</a>).</p></li>
<li><p>Passing a dtype without a precision like <code class="docutils literal notranslate"><span class="pre">np.dtype('datetime64')</span></code> or <code class="docutils literal notranslate"><span class="pre">timedelta64</span></code> to <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> is now deprecated. Use the nanosecond-precision dtype instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24753">GH24753</a>).</p></li>
</ul>
<div class="section" id="integer-addition-subtraction-with-datetimes-and-timedeltas-is-deprecated">
<span id="whatsnew-0240-deprecations-datetimelike-int-ops"></span><h3>Integer addition/subtraction with datetimes and timedeltas is deprecated<a class="headerlink" href="#integer-addition-subtraction-with-datetimes-and-timedeltas-is-deprecated" title="Permalink to this headline">¶</a></h3>
<p>In the past, users could—in some cases—add or subtract integers or integer-dtype
arrays from <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code>.</p>
<p>This usage is now deprecated.  Instead add or subtract integer multiples of
the object’s <code class="docutils literal notranslate"><span class="pre">freq</span></code> attribute (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21939">GH21939</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23878">GH23878</a>).</p>
<p><em>Previous behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">ts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;1994-05-06 12:15:16&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">offsets</span><span class="o">.</span><span class="n">Hour</span><span class="p">())</span>
<span class="gp">In [6]: </span><span class="n">ts</span> <span class="o">+</span> <span class="mi">2</span>
<span class="gh">Out[6]: </span><span class="go">Timestamp(&#39;1994-05-06 14:15:16&#39;, freq=&#39;H&#39;)</span>

<span class="gp">In [7]: </span><span class="n">tdi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">timedelta_range</span><span class="p">(</span><span class="s1">&#39;1D&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">In [8]: </span><span class="n">tdi</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gh">Out[8]: </span><span class="go">TimedeltaIndex([&#39;-1 days&#39;, &#39;1 days&#39;], dtype=&#39;timedelta64[ns]&#39;, freq=None)</span>

<span class="gp">In [9]: </span><span class="n">dti</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2001-01-01&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;7D&#39;</span><span class="p">)</span>
<span class="gp">In [10]: </span><span class="n">dti</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gh">Out[10]: </span><span class="go">DatetimeIndex([&#39;2001-01-08&#39;, &#39;2001-01-22&#39;], dtype=&#39;datetime64[ns]&#39;, freq=None)</span>
</pre></div>
</div>
<p><em>New behavior</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [108]: </span><span class="n">ts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;1994-05-06 12:15:16&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">offsets</span><span class="o">.</span><span class="n">Hour</span><span class="p">())</span>

<span class="gp">In [109]: </span><span class="n">ts</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">ts</span><span class="o">.</span><span class="n">freq</span>
<span class="gh">Out[109]: </span><span class="go">Timestamp(&#39;1994-05-06 14:15:16&#39;, freq=&#39;H&#39;)</span>

<span class="gp">In [110]: </span><span class="n">tdi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">timedelta_range</span><span class="p">(</span><span class="s1">&#39;1D&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="gp">In [111]: </span><span class="n">tdi</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span> <span class="o">*</span> <span class="n">tdi</span><span class="o">.</span><span class="n">freq</span><span class="p">,</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">tdi</span><span class="o">.</span><span class="n">freq</span><span class="p">])</span>
<span class="gh">Out[111]: </span><span class="go">TimedeltaIndex([&#39;-1 days&#39;, &#39;1 days&#39;], dtype=&#39;timedelta64[ns]&#39;, freq=None)</span>

<span class="gp">In [112]: </span><span class="n">dti</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2001-01-01&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;7D&#39;</span><span class="p">)</span>

<span class="gp">In [113]: </span><span class="n">dti</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span> <span class="o">*</span> <span class="n">dti</span><span class="o">.</span><span class="n">freq</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">dti</span><span class="o">.</span><span class="n">freq</span><span class="p">])</span>
<span class="gh">Out[113]: </span><span class="go">DatetimeIndex([&#39;2001-01-08&#39;, &#39;2001-01-22&#39;], dtype=&#39;datetime64[ns]&#39;, freq=None)</span>
</pre></div>
</div>
</div>
<div class="section" id="passing-integer-data-and-a-timezone-to-datetimeindex">
<span id="whatsnew-0240-deprecations-integer-tz"></span><h3>Passing integer data and a timezone to datetimeindex<a class="headerlink" href="#passing-integer-data-and-a-timezone-to-datetimeindex" title="Permalink to this headline">¶</a></h3>
<p>The behavior of <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> when passed integer data and
a timezone is changing in a future version of pandas. Previously, these
were interpreted as wall times in the desired timezone. In the future,
these will be interpreted as wall times in UTC, which are then converted
to the desired timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24559">GH24559</a>).</p>
<p>The default behavior remains the same, but issues a warning:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="mi">946684800000000000</span><span class="p">],</span> <span class="n">tz</span><span class="o">=</span><span class="s2">&quot;US/Central&quot;</span><span class="p">)</span>
<span class="go">/bin/ipython:1: FutureWarning:</span>
<span class="go">    Passing integer-dtype data and a timezone to DatetimeIndex. Integer values</span>
<span class="go">    will be interpreted differently in a future version of pandas. Previously,</span>
<span class="go">    these were viewed as datetime64[ns] values representing the wall time</span>
<span class="go">    *in the specified timezone*. In the future, these will be viewed as</span>
<span class="go">    datetime64[ns] values representing the wall time *in UTC*. This is similar</span>
<span class="go">    to a nanosecond-precision UNIX epoch. To accept the future behavior, use</span>

<span class="go">        pd.to_datetime(integer_data, utc=True).tz_convert(tz)</span>

<span class="go">    To keep the previous behavior, use</span>

<span class="go">        pd.to_datetime(integer_data).tz_localize(tz)</span>

<span class="go"> #!/bin/python3</span>
<span class="go"> Out[3]: DatetimeIndex([&#39;2000-01-01 00:00:00-06:00&#39;], dtype=&#39;datetime64[ns, US/Central]&#39;, freq=None)</span>
</pre></div>
</div>
<p>As the warning message explains, opt in to the future behavior by specifying that
the integer values are UTC, and then converting to the final timezone:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [114]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="mi">946684800000000000</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">tz_convert</span><span class="p">(</span><span class="s1">&#39;US/Central&#39;</span><span class="p">)</span>
<span class="gh">Out[114]: </span><span class="go">DatetimeIndex([&#39;1999-12-31 18:00:00-06:00&#39;], dtype=&#39;datetime64[ns, US/Central]&#39;, freq=None)</span>
</pre></div>
</div>
<p>The old behavior can be retained with by localizing directly to the final timezone:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [115]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="mi">946684800000000000</span><span class="p">])</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="s1">&#39;US/Central&#39;</span><span class="p">)</span>
<span class="gh">Out[115]: </span><span class="go">DatetimeIndex([&#39;2000-01-01 00:00:00-06:00&#39;], dtype=&#39;datetime64[ns, US/Central]&#39;, freq=None)</span>
</pre></div>
</div>
</div>
<div class="section" id="converting-timezone-aware-series-and-index-to-numpy-arrays">
<span id="whatsnew-0240-deprecations-tz-aware-array"></span><h3>Converting timezone-aware Series and Index to NumPy arrays<a class="headerlink" href="#converting-timezone-aware-series-and-index-to-numpy-arrays" title="Permalink to this headline">¶</a></h3>
<p>The conversion from a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> with timezone-aware
datetime data will change to preserve timezones by default (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23569">GH23569</a>).</p>
<p>NumPy doesn’t have a dedicated dtype for timezone-aware datetimes.
In the past, converting a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> with
timezone-aware datatimes would convert to a NumPy array by</p>
<ol class="arabic simple">
<li><p>converting the tz-aware data to UTC</p></li>
<li><p>dropping the timezone-info</p></li>
<li><p>returning a <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> with <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> dtype</p></li>
</ol>
<p>Future versions of pandas will preserve the timezone information by returning an
object-dtype NumPy array where each value is a <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> with the correct
timezone attached</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [116]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s2">&quot;CET&quot;</span><span class="p">))</span>

<span class="gp">In [117]: </span><span class="n">ser</span>
<span class="gh">Out[117]: </span><span class="go"></span>
<span class="go">0   2000-01-01 00:00:00+01:00</span>
<span class="go">1   2000-01-02 00:00:00+01:00</span>
<span class="go">Length: 2, dtype: datetime64[ns, CET]</span>
</pre></div>
</div>
<p>The default behavior remains the same, but issues a warning</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">8</span><span class="p">]:</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">ser</span><span class="p">)</span>
<span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">ipython</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span> <span class="ne">FutureWarning</span><span class="p">:</span> <span class="n">Converting</span> <span class="n">timezone</span><span class="o">-</span><span class="n">aware</span> <span class="n">DatetimeArray</span> <span class="n">to</span> <span class="n">timezone</span><span class="o">-</span><span class="n">naive</span>
      <span class="n">ndarray</span> <span class="k">with</span> <span class="s1">&#39;datetime64[ns]&#39;</span> <span class="n">dtype</span><span class="o">.</span> <span class="n">In</span> <span class="n">the</span> <span class="n">future</span><span class="p">,</span> <span class="n">this</span> <span class="n">will</span> <span class="k">return</span> <span class="n">an</span> <span class="n">ndarray</span>
      <span class="k">with</span> <span class="s1">&#39;object&#39;</span> <span class="n">dtype</span> <span class="n">where</span> <span class="n">each</span> <span class="n">element</span> <span class="ow">is</span> <span class="n">a</span> <span class="s1">&#39;pandas.Timestamp&#39;</span> <span class="k">with</span> <span class="n">the</span> <span class="n">correct</span> <span class="s1">&#39;tz&#39;</span><span class="o">.</span>

        <span class="n">To</span> <span class="n">accept</span> <span class="n">the</span> <span class="n">future</span> <span class="n">behavior</span><span class="p">,</span> <span class="k">pass</span> <span class="s1">&#39;dtype=object&#39;</span><span class="o">.</span>
        <span class="n">To</span> <span class="n">keep</span> <span class="n">the</span> <span class="n">old</span> <span class="n">behavior</span><span class="p">,</span> <span class="k">pass</span> <span class="s1">&#39;dtype=&quot;datetime64[ns]&quot;&#39;</span><span class="o">.</span>
  <span class="c1">#!/bin/python3</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">8</span><span class="p">]:</span>
<span class="n">array</span><span class="p">([</span><span class="s1">&#39;1999-12-31T23:00:00.000000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2000-01-01T23:00:00.000000000&#39;</span><span class="p">],</span>
      <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The previous or future behavior can be obtained, without any warnings, by specifying
the <code class="docutils literal notranslate"><span class="pre">dtype</span></code></p>
<p><em>Previous behavior</em></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [118]: </span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">ser</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">)</span>
<span class="gh">Out[118]: </span><span class="go"></span>
<span class="go">array([&#39;1999-12-31T23:00:00.000000000&#39;, &#39;2000-01-01T23:00:00.000000000&#39;],</span>
<span class="go">      dtype=&#39;datetime64[ns]&#39;)</span>
</pre></div>
</div>
<p><em>Future behavior</em></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># New behavior</span>
<span class="gp">In [119]: </span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">ser</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gh">Out[119]: </span><span class="go"></span>
<span class="go">array([Timestamp(&#39;2000-01-01 00:00:00+0100&#39;, tz=&#39;CET&#39;, freq=&#39;D&#39;),</span>
<span class="go">       Timestamp(&#39;2000-01-02 00:00:00+0100&#39;, tz=&#39;CET&#39;, freq=&#39;D&#39;)],</span>
<span class="go">      dtype=object)</span>
</pre></div>
</div>
<p>Or by using <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_numpy()</span></code></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [120]: </span><span class="n">ser</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="gh">Out[120]: </span><span class="go"></span>
<span class="go">array([Timestamp(&#39;2000-01-01 00:00:00+0100&#39;, tz=&#39;CET&#39;, freq=&#39;D&#39;),</span>
<span class="go">       Timestamp(&#39;2000-01-02 00:00:00+0100&#39;, tz=&#39;CET&#39;, freq=&#39;D&#39;)],</span>
<span class="go">      dtype=object)</span>

<span class="gp">In [121]: </span><span class="n">ser</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;datetime64[ns]&quot;</span><span class="p">)</span>
<span class="gh">Out[121]: </span><span class="go"></span>
<span class="go">array([&#39;1999-12-31T23:00:00.000000000&#39;, &#39;2000-01-01T23:00:00.000000000&#39;],</span>
<span class="go">      dtype=&#39;datetime64[ns]&#39;)</span>
</pre></div>
</div>
<p>All the above applies to a <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> with tz-aware values as well.</p>
</div>
</div>
<div class="section" id="removal-of-prior-version-deprecations-changes">
<span id="whatsnew-0240-prior-deprecations"></span><h2>Removal of prior version deprecations/changes<a class="headerlink" href="#removal-of-prior-version-deprecations-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">LongPanel</span></code> and <code class="docutils literal notranslate"><span class="pre">WidePanel</span></code> classes have been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10892">GH10892</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.repeat()</span></code> has renamed the <code class="docutils literal notranslate"><span class="pre">reps</span></code> argument to <code class="docutils literal notranslate"><span class="pre">repeats</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14645">GH14645</a>)</p></li>
<li><p>Several private functions were removed from the (non-public) module <code class="docutils literal notranslate"><span class="pre">pandas.core.common</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22001">GH22001</a>)</p></li>
<li><p>Removal of the previously deprecated module <code class="docutils literal notranslate"><span class="pre">pandas.core.datetools</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14105">GH14105</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14094">GH14094</a>)</p></li>
<li><p>Strings passed into <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code> that refer to both column and index levels will raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14432">GH14432</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.repeat()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.repeat()</span></code> have renamed the <code class="docutils literal notranslate"><span class="pre">n</span></code> argument to <code class="docutils literal notranslate"><span class="pre">repeats</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14645">GH14645</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Series</span></code> constructor and <code class="docutils literal notranslate"><span class="pre">.astype</span></code> method will now raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if timestamp dtypes are passed in without a unit (e.g. <code class="docutils literal notranslate"><span class="pre">np.datetime64</span></code>) for the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15987">GH15987</a>)</p></li>
<li><p>Removal of the previously deprecated <code class="docutils literal notranslate"><span class="pre">as_indexer</span></code> keyword completely from <code class="docutils literal notranslate"><span class="pre">str.match()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22356">GH22356</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6581">GH6581</a>)</p></li>
<li><p>The modules <code class="docutils literal notranslate"><span class="pre">pandas.types</span></code>, <code class="docutils literal notranslate"><span class="pre">pandas.computation</span></code>, and <code class="docutils literal notranslate"><span class="pre">pandas.util.decorators</span></code> have been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16157">GH16157</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16250">GH16250</a>)</p></li>
<li><p>Removed the <code class="docutils literal notranslate"><span class="pre">pandas.formats.style</span></code> shim for <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.io.formats.style.Styler</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16059">GH16059</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pandas.pnow</span></code>, <code class="docutils literal notranslate"><span class="pre">pandas.match</span></code>, <code class="docutils literal notranslate"><span class="pre">pandas.groupby</span></code>, <code class="docutils literal notranslate"><span class="pre">pd.get_store</span></code>, <code class="docutils literal notranslate"><span class="pre">pd.Expr</span></code>, and <code class="docutils literal notranslate"><span class="pre">pd.Term</span></code> have been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15538">GH15538</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15940">GH15940</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.searchsorted()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.searchsorted()</span></code> have renamed the <code class="docutils literal notranslate"><span class="pre">v</span></code> argument to <code class="docutils literal notranslate"><span class="pre">value</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14645">GH14645</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pandas.parser</span></code>, <code class="docutils literal notranslate"><span class="pre">pandas.lib</span></code>, and <code class="docutils literal notranslate"><span class="pre">pandas.tslib</span></code> have been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15537">GH15537</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.searchsorted()</span></code> have renamed the <code class="docutils literal notranslate"><span class="pre">key</span></code> argument to <code class="docutils literal notranslate"><span class="pre">value</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14645">GH14645</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.consolidate</span></code> and <code class="docutils literal notranslate"><span class="pre">Series.consolidate</span></code> have been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15501">GH15501</a>)</p></li>
<li><p>Removal of the previously deprecated module <code class="docutils literal notranslate"><span class="pre">pandas.json</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19944">GH19944</a>)</p></li>
<li><p>The module <code class="docutils literal notranslate"><span class="pre">pandas.tools</span></code> has been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15358">GH15358</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16005">GH16005</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">SparseArray.get_values()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">SparseArray.to_dense()</span></code> have dropped the <code class="docutils literal notranslate"><span class="pre">fill</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14686">GH14686</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.sortlevel</span></code> and <code class="docutils literal notranslate"><span class="pre">Series.sortlevel</span></code> have been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15099">GH15099</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">SparseSeries.to_dense()</span></code> has dropped the <code class="docutils literal notranslate"><span class="pre">sparse_only</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14686">GH14686</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code> have renamed the <code class="docutils literal notranslate"><span class="pre">raise_on_error</span></code> argument to <code class="docutils literal notranslate"><span class="pre">errors</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14967">GH14967</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_sequence</span></code>, <code class="docutils literal notranslate"><span class="pre">is_any_int_dtype</span></code>, and <code class="docutils literal notranslate"><span class="pre">is_floating_dtype</span></code> have been removed from <code class="docutils literal notranslate"><span class="pre">pandas.api.types</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16163">GH16163</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16189">GH16189</a>)</p></li>
</ul>
</div>
<div class="section" id="performance-improvements">
<span id="whatsnew-0240-performance"></span><h2>Performance improvements<a class="headerlink" href="#performance-improvements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Slicing Series and DataFrames with an monotonically increasing <code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code>
is now very fast and has speed comparable to slicing with an <code class="docutils literal notranslate"><span class="pre">Int64Index</span></code>.
The speed increase is both when indexing by label (using .loc) and position(.iloc) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20395">GH20395</a>)
Slicing a monotonically increasing <code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code> itself (i.e. <code class="docutils literal notranslate"><span class="pre">ci[1000:2000]</span></code>)
shows similar speed improvements as above (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21659">GH21659</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-meth docutils literal notranslate"><span class="pre">CategoricalIndex.equals()</span></code> when comparing to another <code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24023">GH24023</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.describe()</span></code> in case of numeric dtpyes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21274">GH21274</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.GroupBy.rank()</span></code> when dealing with tied rankings (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21237">GH21237</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.set_index()</span></code> with columns consisting of <code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21582">GH21582</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21606">GH21606</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.at()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.get_value()</span></code> for Extension Arrays values (e.g. <code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24204">GH24204</a>)</p></li>
<li><p>Improved performance of membership checks in <code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code>
(i.e. <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">cat</span></code>-style checks are much faster). <code class="xref py py-meth docutils literal notranslate"><span class="pre">CategoricalIndex.contains()</span></code>
is likewise much faster (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21369">GH21369</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21508">GH21508</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-meth docutils literal notranslate"><span class="pre">HDFStore.groups()</span></code> (and dependent functions like
<code class="xref py py-meth docutils literal notranslate"><span class="pre">HDFStore.keys()</span></code>.  (i.e. <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">store</span></code> checks are much faster)
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21372">GH21372</a>)</p></li>
<li><p>Improved the performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.get_dummies()</span></code> with <code class="docutils literal notranslate"><span class="pre">sparse=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21997">GH21997</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">IndexEngine.get_indexer_non_unique()</span></code> for sorted, non-unique indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9466">GH9466</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">PeriodIndex.unique()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23083">GH23083</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code> for <cite>Series</cite> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23404">GH23404</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.normalize()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.normalize()</span></code> for timezone naive or UTC datetimes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23634">GH23634</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.tz_localize()</span></code> and various <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> attributes with dateutil UTC timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23772">GH23772</a>)</p></li>
<li><p>Fixed a performance regression on Windows with Python 3.7 of <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23516">GH23516</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code> constructor for <code class="docutils literal notranslate"><span class="pre">Series</span></code> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23814">GH23814</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-meth docutils literal notranslate"><span class="pre">where()</span></code> for Categorical data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24077">GH24077</a>)</p></li>
<li><p>Improved performance of iterating over a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code>. Using <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.itertuples()</span></code> now creates iterators
without internally allocating lists of all elements (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20783">GH20783</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code> constructor, additionally benefitting <code class="docutils literal notranslate"><span class="pre">PeriodArray</span></code> and <code class="docutils literal notranslate"><span class="pre">PeriodIndex</span></code> creation (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24084">GH24084</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24118">GH24118</a>)</p></li>
<li><p>Improved performance of tz-aware <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeArray</span></code> binary operations (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24491">GH24491</a>)</p></li>
</ul>
</div>
<div class="section" id="bug-fixes">
<span id="whatsnew-0240-bug-fixes"></span><h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="categorical">
<h3>Categorical<a class="headerlink" href="#categorical" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.from_codes()</span></code> where <code class="docutils literal notranslate"><span class="pre">NaN</span></code> values in <code class="docutils literal notranslate"><span class="pre">codes</span></code> were silently converted to <code class="docutils literal notranslate"><span class="pre">0</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21767">GH21767</a>). In the future this will raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>. Also changes the behavior of <code class="docutils literal notranslate"><span class="pre">.from_codes([1.1,</span> <span class="pre">2.0])</span></code>.</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.sort_values()</span></code> where <code class="docutils literal notranslate"><span class="pre">NaN</span></code> values were always positioned in front regardless of <code class="docutils literal notranslate"><span class="pre">na_position</span></code> value. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22556">GH22556</a>).</p></li>
<li><p>Bug when indexing with a boolean-valued <code class="docutils literal notranslate"><span class="pre">Categorical</span></code>. Now a boolean-valued <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> is treated as a boolean mask (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22665">GH22665</a>)</p></li>
<li><p>Constructing a <code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code> with empty values and boolean categories was raising a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> after a change to dtype coercion (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22702">GH22702</a>).</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.take()</span></code> with a user-provided <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> not encoding the <code class="docutils literal notranslate"><span class="pre">fill_value</span></code>, which could result in a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>, incorrect results, or a segmentation fault (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23296">GH23296</a>).</p></li>
<li><p>In <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.unstack()</span></code>, specifying a <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> not present in the categories now raises a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> rather than ignoring the <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23284">GH23284</a>)</p></li>
<li><p>Bug when resampling <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code> and aggregating on categorical data, the categorical dtype was getting lost. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23227">GH23227</a>)</p></li>
<li><p>Bug in many methods of the <code class="docutils literal notranslate"><span class="pre">.str</span></code>-accessor, which always failed on calling the <code class="docutils literal notranslate"><span class="pre">CategoricalIndex.str</span></code> constructor (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23555">GH23555</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23556">GH23556</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.where()</span></code> losing the categorical dtype for categorical data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24077">GH24077</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.apply()</span></code> where <code class="docutils literal notranslate"><span class="pre">NaN</span></code> values could be handled unpredictably. They now remain unchanged (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24241">GH24241</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code> comparison methods incorrectly raising <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> when operating against a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24630">GH24630</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.set_categories()</span></code> where setting fewer new categories with <code class="docutils literal notranslate"><span class="pre">rename=True</span></code> caused a segmentation fault (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24675">GH24675</a>)</p></li>
</ul>
</div>
<div class="section" id="datetimelike">
<h3>Datetimelike<a class="headerlink" href="#datetimelike" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed bug where two <code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> objects with different <code class="docutils literal notranslate"><span class="pre">normalize</span></code> attributes could evaluate as equal (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21404">GH21404</a>)</p></li>
<li><p>Fixed bug where <code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.resolution()</span></code> incorrectly returned 1-microsecond <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> instead of 1-nanosecond <code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21336">GH21336</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21365">GH21365</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code> that did not consistently return an <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> when <code class="docutils literal notranslate"><span class="pre">box=True</span></code> was specified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21864">GH21864</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> comparisons where string comparisons incorrectly raises <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22074">GH22074</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> comparisons when comparing against <code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> dtyped arrays; in some cases <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> was incorrectly raised, in others it incorrectly failed to raise (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22074">GH22074</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> comparisons when comparing against object-dtyped arrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22074">GH22074</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> dtype addition and subtraction with <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code>-like objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22005">GH22005</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22163">GH22163</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> dtype addition and subtraction with <code class="docutils literal notranslate"><span class="pre">DateOffset</span></code> objects returning an <code class="docutils literal notranslate"><span class="pre">object</span></code> dtype instead of <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21610">GH21610</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22163">GH22163</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> dtype comparing against <code class="docutils literal notranslate"><span class="pre">NaT</span></code> incorrectly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22242">GH22242</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22163">GH22163</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> dtype subtracting <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code>-like object incorrectly returned <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> dtype instead of <code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8554">GH8554</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22163">GH22163</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> dtype subtracting <code class="docutils literal notranslate"><span class="pre">np.datetime64</span></code> object with non-nanosecond unit failing to convert to nanoseconds (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18874">GH18874</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22163">GH22163</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> comparisons against <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code>-like objects failing to raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> for inequality checks with mismatched types (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8932">GH8932</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22163">GH22163</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with mixed dtypes including <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> incorrectly raising <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> on equality comparisons (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13128">GH13128</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22163">GH22163</a>)</p></li>
<li><p>Bug in <code class="xref py py-attr docutils literal notranslate"><span class="pre">DataFrame.values</span></code> returning a <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> for a single-column <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> with tz-aware datetime values. Now a 2-D <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> objects is returned (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24024">GH24024</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.eq()</span></code> comparison against <code class="docutils literal notranslate"><span class="pre">NaT</span></code> incorrectly returning <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">NaN</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15697">GH15697</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22163">GH22163</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> subtraction that incorrectly failed to raise <code class="docutils literal notranslate"><span class="pre">OverflowError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22492">GH22492</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22508">GH22508</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> incorrectly allowing indexing with <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> object (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20464">GH20464</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> where frequency was being set if original frequency was <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22150">GH22150</a>)</p></li>
<li><p>Bug in rounding methods of <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> (<code class="xref py py-meth docutils literal notranslate"><span class="pre">round()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">ceil()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">floor()</span></code>) and <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> (<code class="xref py py-meth docutils literal notranslate"><span class="pre">round()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">ceil()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">floor()</span></code>) could give rise to loss of precision (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22591">GH22591</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code> with an <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> argument that would drop the <code class="docutils literal notranslate"><span class="pre">name</span></code> from the result (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21697">GH21697</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code> where adding or subtracting a <code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">Tick</span></code> object produced incorrect results (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22988">GH22988</a>)</p></li>
<li><p>Bug in the <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> repr with period-dtype data missing a space before the data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23601">GH23601</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">date_range()</span></code> when decrementing a start date to a past end date by a negative frequency (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23270">GH23270</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.min()</span></code> which would return <code class="docutils literal notranslate"><span class="pre">NaN</span></code> instead of <code class="docutils literal notranslate"><span class="pre">NaT</span></code> when called on a series of <code class="docutils literal notranslate"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23282">GH23282</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.combine_first()</span></code> not properly aligning categoricals, so that missing values in <code class="docutils literal notranslate"><span class="pre">self</span></code> where not filled by valid values from <code class="docutils literal notranslate"><span class="pre">other</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24147">GH24147</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.combine()</span></code> with datetimelike values raising a TypeError (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23079">GH23079</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">date_range()</span></code> with frequency of <code class="docutils literal notranslate"><span class="pre">Day</span></code> or higher where dates sufficiently far in the future could wrap around to the past instead of raising <code class="docutils literal notranslate"><span class="pre">OutOfBoundsDatetime</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14187">GH14187</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">period_range()</span></code> ignoring the frequency of <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> when those are provided as <code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20535">GH20535</a>).</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code> with attribute <code class="docutils literal notranslate"><span class="pre">freq.n</span></code> greater than 1 where adding a <code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> object would return incorrect results (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23215">GH23215</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> that interpreted string indices as lists of characters when setting datetimelike values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23451">GH23451</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> when creating a new column from an ndarray of <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> objects with timezones creating an object-dtype column, rather than datetime with timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23932">GH23932</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> constructor which would drop the frequency of an input <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22311">GH22311</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> where calling <code class="docutils literal notranslate"><span class="pre">np.array(dtindex,</span> <span class="pre">dtype=object)</span></code> would incorrectly return an array of <code class="docutils literal notranslate"><span class="pre">long</span></code> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23524">GH23524</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> where passing a timezone-aware <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> and <cite>dtype=object</cite> would incorrectly raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23524">GH23524</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> where calling <code class="docutils literal notranslate"><span class="pre">np.array(dtindex,</span> <span class="pre">dtype=object)</span></code> on a timezone-naive <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> would return an array of <code class="docutils literal notranslate"><span class="pre">datetime</span></code> objects instead of <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> objects, potentially losing nanosecond portions of the timestamps (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23524">GH23524</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical.__setitem__</span></code> not allowing setting with another <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> when both are unordered and have the same categories, but in a different order (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24142">GH24142</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">date_range()</span></code> where using dates with millisecond resolution or higher could return incorrect values or the wrong number of values in the index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24110">GH24110</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> where constructing a <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> from a <code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code> would incorrectly drop timezone information (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18664">GH18664</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> where indexing with <code class="docutils literal notranslate"><span class="pre">Ellipsis</span></code> would incorrectly lose the index’s <code class="docutils literal notranslate"><span class="pre">freq</span></code> attribute (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21282">GH21282</a>)</p></li>
<li><p>Clarified error message produced when passing an incorrect <code class="docutils literal notranslate"><span class="pre">freq</span></code> argument to <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> with <code class="docutils literal notranslate"><span class="pre">NaT</span></code> as the first entry in the passed data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11587">GH11587</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code> where <code class="docutils literal notranslate"><span class="pre">box</span></code> and <code class="docutils literal notranslate"><span class="pre">utc</span></code> arguments were ignored when passing a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> or <code class="docutils literal notranslate"><span class="pre">dict</span></code> of unit mappings (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23760">GH23760</a>)</p></li>
<li><p>Bug in <code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.dt</span></code> where the cache would not update properly after an in-place operation (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24408">GH24408</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code> where comparisons against an array-like object with length 1 failed to raise <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23078">GH23078</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.astype()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.astype()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">TimedeltaIndex.astype()</span></code> ignoring the sign of the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> for unsigned integer dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24405">GH24405</a>).</p></li>
<li><p>Fixed bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.max()</span></code> with <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code>-dtype failing to return <code class="docutils literal notranslate"><span class="pre">NaT</span></code> when nulls are present and <code class="docutils literal notranslate"><span class="pre">skipna=False</span></code> is passed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24265">GH24265</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code> where arrays of <code class="docutils literal notranslate"><span class="pre">datetime</span></code> objects containing both timezone-aware and timezone-naive <code class="docutils literal notranslate"><span class="pre">datetimes</span></code> would fail to raise <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24569">GH24569</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code> with invalid datetime format doesn’t coerce input to <code class="docutils literal notranslate"><span class="pre">NaT</span></code> even if <code class="docutils literal notranslate"><span class="pre">errors='coerce'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24763">GH24763</a>)</p></li>
</ul>
</div>
<div class="section" id="timedelta">
<h3>Timedelta<a class="headerlink" href="#timedelta" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with <code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> dtype division by <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code>-like scalar incorrectly returning <code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> dtype instead of <code class="docutils literal notranslate"><span class="pre">float64</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20088">GH20088</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22163">GH22163</a>)</p></li>
<li><p>Bug in adding a <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> with object dtype to a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> with <code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> dtype incorrectly raising (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22390">GH22390</a>)</p></li>
<li><p>Bug in multiplying a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> with numeric dtype against a <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> object (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22390">GH22390</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> with numeric dtype when adding or subtracting an an array or <code class="docutils literal notranslate"><span class="pre">Series</span></code> with <code class="docutils literal notranslate"><span class="pre">timedelta64</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22390">GH22390</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> with numeric dtype when multiplying or dividing an array with dtype <code class="docutils literal notranslate"><span class="pre">timedelta64</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22390">GH22390</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> incorrectly allowing indexing with <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> object (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20464">GH20464</a>)</p></li>
<li><p>Fixed bug where subtracting <code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code> from an object-dtyped array would raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21980">GH21980</a>)</p></li>
<li><p>Fixed bug in adding a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with all-<cite>timedelta64[ns]</cite> dtypes to a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with all-integer dtypes returning incorrect results instead of raising <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22696">GH22696</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> where adding a timezone-aware datetime scalar incorrectly returned a timezone-naive <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23215">GH23215</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> where adding <code class="docutils literal notranslate"><span class="pre">np.timedelta64('NaT')</span></code> incorrectly returned an all-<code class="docutils literal notranslate"><span class="pre">NaT</span></code> <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> instead of an all-<code class="docutils literal notranslate"><span class="pre">NaT</span></code> <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23215">GH23215</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">to_timedelta()</span></code> have inconsistencies in supported unit string (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21762">GH21762</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> division where dividing by another <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> raised <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of returning a <code class="xref py py-class docutils literal notranslate"><span class="pre">Float64Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23829">GH23829</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22631">GH22631</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> comparison operations where comparing against non-<code class="docutils literal notranslate"><span class="pre">Timedelta</span></code>-like objects would raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of returning all-<code class="docutils literal notranslate"><span class="pre">False</span></code> for <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> and all-<code class="docutils literal notranslate"><span class="pre">True</span></code> for <code class="docutils literal notranslate"><span class="pre">__ne__</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24056">GH24056</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code> comparisons when comparing with a <code class="docutils literal notranslate"><span class="pre">Tick</span></code> object incorrectly raising <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24710">GH24710</a>)</p></li>
</ul>
</div>
<div class="section" id="timezones">
<h3>Timezones<a class="headerlink" href="#timezones" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.shift()</span></code> where an <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> would raise when shifting across DST (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8616">GH8616</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> constructor where passing an invalid timezone offset designator (<code class="docutils literal notranslate"><span class="pre">Z</span></code>) would not raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8910">GH8910</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.replace()</span></code> where replacing at a DST boundary would retain an incorrect offset (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7825">GH7825</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code> with <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> data when replacing <code class="docutils literal notranslate"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11792">GH11792</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> when passing different string date formats with a timezone offset would produce different timezone offsets (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12064">GH12064</a>)</p></li>
<li><p>Bug when comparing a tz-naive <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> to a tz-aware <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> which would coerce the <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> to tz-naive (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12601">GH12601</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.truncate()</span></code> with a tz-aware <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> which would cause a core dump (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9243">GH9243</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> constructor which would coerce tz-aware and tz-naive <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> to tz-aware (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13051">GH13051</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> with <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> dtype that did not localize integer data correctly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20964">GH20964</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> where constructing with an integer and tz would not localize correctly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12619">GH12619</a>)</p></li>
<li><p>Fixed bug where <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.describe()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.describe()</span></code> on tz-aware datetimes did not show <cite>first</cite> and <cite>last</cite> result (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21328">GH21328</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> comparisons failing to raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> when comparing timezone-aware <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> against <code class="docutils literal notranslate"><span class="pre">np.datetime64</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22074">GH22074</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> assignment with a timezone-aware scalar (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19843">GH19843</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.asof()</span></code> that raised a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> when attempting to compare tz-naive and tz-aware timestamps (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21194">GH21194</a>)</p></li>
<li><p>Bug when constructing a <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> with <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> constructed with the <code class="docutils literal notranslate"><span class="pre">replace</span></code> method across DST (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18785">GH18785</a>)</p></li>
<li><p>Bug when setting a new value with <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code> with a <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> with a DST transition (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18308">GH18308</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20724">GH20724</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.unique()</span></code> that did not re-localize tz-aware dates correctly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21737">GH21737</a>)</p></li>
<li><p>Bug when indexing a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> with a DST transition (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21846">GH21846</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.resample()</span></code> where an <code class="docutils literal notranslate"><span class="pre">AmbiguousTimeError</span></code> or <code class="docutils literal notranslate"><span class="pre">NonExistentTimeError</span></code> would raise if a timezone aware timeseries ended on a DST transition (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19375">GH19375</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10117">GH10117</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.drop()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.drop()</span></code> when specifying a tz-aware Timestamp key to drop from a <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> with a DST transition (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21761">GH21761</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> constructor where <code class="docutils literal notranslate"><span class="pre">NaT</span></code> and <code class="docutils literal notranslate"><span class="pre">dateutil.tz.tzlocal</span></code> would raise an <code class="docutils literal notranslate"><span class="pre">OutOfBoundsDatetime</span></code> error (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23807">GH23807</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.tz_localize()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.tz_localize()</span></code> with <code class="docutils literal notranslate"><span class="pre">dateutil.tz.tzlocal</span></code> near a DST transition that would return an incorrectly localized datetime (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23807">GH23807</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> constructor where a <code class="docutils literal notranslate"><span class="pre">dateutil.tz.tzutc</span></code> timezone passed with a <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code> argument would be converted to a <code class="docutils literal notranslate"><span class="pre">pytz.UTC</span></code> timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23807">GH23807</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code> where <code class="docutils literal notranslate"><span class="pre">utc=True</span></code> was not respected when specifying a <code class="docutils literal notranslate"><span class="pre">unit</span></code> and <code class="docutils literal notranslate"><span class="pre">errors='ignore'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23758">GH23758</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code> where <code class="docutils literal notranslate"><span class="pre">utc=True</span></code> was not respected when passing a <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24415">GH24415</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.any()</span></code> returns wrong value when <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> and the data is of datetimelike type (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23070">GH23070</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.to_period()</span></code> where a timezone aware index was converted to UTC first before creating <code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22905">GH22905</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.tz_localize()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.tz_convert()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.tz_localize()</span></code>, and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.tz_convert()</span></code> where <code class="docutils literal notranslate"><span class="pre">copy=False</span></code> would mutate the original argument inplace (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6326">GH6326</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.max()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.min()</span></code> with <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> where a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> with <code class="docutils literal notranslate"><span class="pre">NaN</span></code> would be returned when all columns contained the same timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10390">GH10390</a>)</p></li>
</ul>
</div>
<div class="section" id="offsets">
<h3>Offsets<a class="headerlink" href="#offsets" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">FY5253</span></code> where date offsets could incorrectly raise an <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> in arithmetic operations (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14774">GH14774</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> where keyword arguments <code class="docutils literal notranslate"><span class="pre">week</span></code> and <code class="docutils literal notranslate"><span class="pre">milliseconds</span></code> were accepted and ignored.  Passing these will now raise <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19398">GH19398</a>)</p></li>
<li><p>Bug in adding <code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> with <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code> incorrectly raising <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23215">GH23215</a>)</p></li>
<li><p>Bug in comparing <code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> objects with non-DateOffset objects, particularly strings, raising <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> instead of returning <code class="docutils literal notranslate"><span class="pre">False</span></code> for equality checks and <code class="docutils literal notranslate"><span class="pre">True</span></code> for not-equal checks (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23524">GH23524</a>)</p></li>
</ul>
</div>
<div class="section" id="numeric">
<h3>Numeric<a class="headerlink" href="#numeric" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> <code class="docutils literal notranslate"><span class="pre">__rmatmul__</span></code> doesn’t support matrix vector multiplication (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21530">GH21530</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">factorize()</span></code> fails with read-only array (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12813">GH12813</a>)</p></li>
<li><p>Fixed bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">unique()</span></code> handled signed zeros inconsistently: for some inputs 0.0 and -0.0 were treated as equal and for some inputs as different. Now they are treated as equal for all inputs (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21866">GH21866</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.agg()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.transform()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.apply()</span></code> where,
when supplied with a list of functions and <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">df.apply(['sum',</span> <span class="pre">'mean'],</span> <span class="pre">axis=1)</span></code>),
a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> was wrongly raised. For all three methods such calculation are now done correctly. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16679">GH16679</a>).</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> comparison against datetime-like scalars and arrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22074">GH22074</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> multiplication between boolean dtype and integer returning <code class="docutils literal notranslate"><span class="pre">object</span></code> dtype instead of integer dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22047">GH22047</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22163">GH22163</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.apply()</span></code> where, when supplied with a string argument and additional positional or keyword arguments (e.g. <code class="docutils literal notranslate"><span class="pre">df.apply('sum',</span> <span class="pre">min_count=1)</span></code>), a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> was wrongly raised (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22376">GH22376</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code> to extension dtype may raise <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22578">GH22578</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with <code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> dtype arithmetic operations with <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> with integer dtype incorrectly treating the narray as <code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23114">GH23114</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.rpow()</span></code> with object dtype <code class="docutils literal notranslate"><span class="pre">NaN</span></code> for <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">**</span> <span class="pre">NA</span></code> instead of <code class="docutils literal notranslate"><span class="pre">1</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22922">GH22922</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.agg()</span></code> can now handle numpy NaN-aware methods like <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.nansum.html#numpy.nansum" title="(in NumPy v1.17)"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.nansum()</span></code></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19629">GH19629</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.rank()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.rank()</span></code> when <code class="docutils literal notranslate"><span class="pre">pct=True</span></code> and more than 2<sup>24</sup> rows are present resulted in percentages greater than 1.0 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18271">GH18271</a>)</p></li>
<li><p>Calls such as <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.round()</span></code> with a non-unique <code class="xref py py-meth docutils literal notranslate"><span class="pre">CategoricalIndex()</span></code> now return expected data. Previously, data would be improperly duplicated (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21809">GH21809</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">log10</span></code>, <cite>floor</cite> and <cite>ceil</cite> to the list of supported functions in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.eval()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24139">GH24139</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24353">GH24353</a>)</p></li>
<li><p>Logical operations <code class="docutils literal notranslate"><span class="pre">&amp;,</span> <span class="pre">|,</span> <span class="pre">^</span></code> between <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> will no longer raise <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22092">GH22092</a>)</p></li>
<li><p>Checking PEP 3141 numbers in <code class="xref py py-func docutils literal notranslate"><span class="pre">is_scalar()</span></code> function returns <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22903">GH22903</a>)</p></li>
<li><p>Reduction methods like <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.sum()</span></code> now accept the default value of <code class="docutils literal notranslate"><span class="pre">keepdims=False</span></code> when called from a NumPy ufunc, rather than raising a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>. Full support for <code class="docutils literal notranslate"><span class="pre">keepdims</span></code> has not been implemented (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24356">GH24356</a>).</p></li>
</ul>
</div>
<div class="section" id="conversion">
<h3>Conversion<a class="headerlink" href="#conversion" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.combine_first()</span></code> in which column types were unexpectedly converted to float (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20699">GH20699</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.clip()</span></code> in which column types are not preserved and casted to float (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24162">GH24162</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.clip()</span></code> when order of columns of dataframes doesn’t match, result observed is wrong in numeric values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20911">GH20911</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code> where converting to an extension dtype when duplicate column names are present causes a <code class="docutils literal notranslate"><span class="pre">RecursionError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24704">GH24704</a>)</p></li>
</ul>
</div>
<div class="section" id="strings">
<h3>Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.str.partition()</span></code> was not nan-safe (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23558">GH23558</a>).</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.str.split()</span></code> was not nan-safe (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23677">GH23677</a>).</p></li>
<li><p>Bug <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.str.contains()</span></code> not respecting the <code class="docutils literal notranslate"><span class="pre">na</span></code> argument for a <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> dtype <code class="docutils literal notranslate"><span class="pre">Series</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22158">GH22158</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.str.cat()</span></code> when the result contained only <code class="docutils literal notranslate"><span class="pre">NaN</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24044">GH24044</a>)</p></li>
</ul>
</div>
<div class="section" id="interval">
<h3>Interval<a class="headerlink" href="#interval" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in the <code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> constructor where the <code class="docutils literal notranslate"><span class="pre">closed</span></code> parameter did not always override the inferred <code class="docutils literal notranslate"><span class="pre">closed</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19370">GH19370</a>)</p></li>
<li><p>Bug in the <code class="docutils literal notranslate"><span class="pre">IntervalIndex</span></code> repr where a trailing comma was missing after the list of intervals (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20611">GH20611</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Interval</span></code> where scalar arithmetic operations did not retain the <code class="docutils literal notranslate"><span class="pre">closed</span></code> value (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22313">GH22313</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> where indexing with datetime-like values raised a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20636">GH20636</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">IntervalTree</span></code> where data containing <code class="docutils literal notranslate"><span class="pre">NaN</span></code> triggered a warning and resulted in incorrect indexing queries with <code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23352">GH23352</a>)</p></li>
</ul>
</div>
<div class="section" id="indexing">
<h3>Indexing<a class="headerlink" href="#indexing" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.ne()</span></code> fails if columns contain column name “dtype” (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22383">GH22383</a>)</p></li>
<li><p>The traceback from a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> when asking <code class="docutils literal notranslate"><span class="pre">.loc</span></code> for a single missing label is now shorter and more clear (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21557">GH21557</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code> now emits a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> when a malformed string is looked up, which is consistent with the behavior of <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22803">GH22803</a>)</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">.ix</span></code> is asked for a missing integer label in a <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code> with a first level of integer type, it now raises a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>, consistently with the case of a flat <code class="xref py py-class docutils literal notranslate"><span class="pre">Int64Index</span></code>, rather than falling back to positional indexing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21593">GH21593</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.reindex()</span></code> when reindexing a tz-naive and tz-aware <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8306">GH8306</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.reindex()</span></code> when reindexing an empty series with a <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20869">GH20869</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> when setting values with <code class="docutils literal notranslate"><span class="pre">.loc</span></code> and a timezone aware <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11365">GH11365</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.__getitem__</span></code> now accepts dictionaries and dictionary keys as list-likes of labels, consistently with <code class="docutils literal notranslate"><span class="pre">Series.__getitem__</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21294">GH21294</a>)</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">DataFrame[np.nan]</span></code> when columns are non-unique (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21428">GH21428</a>)</p></li>
<li><p>Bug when indexing <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> with nanosecond resolution dates and timezones (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11679">GH11679</a>)</p></li>
<li><p>Bug where indexing with a Numpy array containing negative values would mutate the indexer (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21867">GH21867</a>)</p></li>
<li><p>Bug where mixed indexes wouldn’t allow integers for <code class="docutils literal notranslate"><span class="pre">.at</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19860">GH19860</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Float64Index.get_loc</span></code> now raises <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> when boolean key passed. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19087">GH19087</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code> when indexing with an <code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19977">GH19977</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> no longer mangles <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">NaN</span></code> and <code class="docutils literal notranslate"><span class="pre">NaT</span></code>, i.e. they are treated as three different keys. However, for numeric Index all three are still coerced to a <code class="docutils literal notranslate"><span class="pre">NaN</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22332">GH22332</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">scalar</span> <span class="pre">in</span> <span class="pre">Index</span></code> if scalar is a float while the <code class="docutils literal notranslate"><span class="pre">Index</span></code> is of integer dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22085">GH22085</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.set_levels()</span></code> when levels value is not subscriptable (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23273">GH23273</a>)</p></li>
<li><p>Bug where setting a timedelta column by <code class="docutils literal notranslate"><span class="pre">Index</span></code> causes it to be casted to double, and therefore lose precision (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23511">GH23511</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Index.union()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">Index.intersection()</span></code> where name of the <code class="docutils literal notranslate"><span class="pre">Index</span></code> of the result was not computed correctly for certain cases (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9943">GH9943</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9862">GH9862</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> slicing with boolean <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> may raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22533">GH22533</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">PeriodArray.__setitem__</span></code> when accepting slice and list-like value (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23978">GH23978</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> where indexing with <code class="docutils literal notranslate"><span class="pre">Ellipsis</span></code> would lose their <code class="docutils literal notranslate"><span class="pre">freq</span></code> attribute (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21282">GH21282</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">iat</span></code> where using it to assign an incompatible value would create a new column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23236">GH23236</a>)</p></li>
</ul>
</div>
<div class="section" id="missing">
<h3>Missing<a class="headerlink" href="#missing" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.fillna()</span></code> where a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> would raise when one column contained a <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15522">GH15522</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.hasnans()</span></code> that could be incorrectly cached and return incorrect answers if null elements are introduced after an initial call (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19700">GH19700</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.isin()</span></code> now treats all NaN-floats as equal also for <code class="docutils literal notranslate"><span class="pre">np.object</span></code>-dtype. This behavior is consistent with the behavior for float64 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22119">GH22119</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">unique()</span></code> no longer mangles NaN-floats and the <code class="docutils literal notranslate"><span class="pre">NaT</span></code>-object for <code class="docutils literal notranslate"><span class="pre">np.object</span></code>-dtype, i.e. <code class="docutils literal notranslate"><span class="pre">NaT</span></code> is no longer coerced to a NaN-value and is treated as a different entity. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22295">GH22295</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> now properly handle numpy masked arrays with hardened masks. Previously, constructing a DataFrame or Series from a masked array with a hard mask would create a pandas object containing the underlying value, rather than the expected NaN. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24574">GH24574</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> constructor where <code class="docutils literal notranslate"><span class="pre">dtype</span></code> argument was not honored when handling numpy masked record arrays. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24874">GH24874</a>)</p></li>
</ul>
</div>
<div class="section" id="multiindex">
<h3>MultiIndex<a class="headerlink" href="#multiindex" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">io.formats.style.Styler.applymap()</span></code> where <code class="docutils literal notranslate"><span class="pre">subset=</span></code> with <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code> slice would reduce to <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19861">GH19861</a>)</p></li>
<li><p>Removed compatibility for <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code> pickles prior to version 0.8.0; compatibility with <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code> pickles from version 0.13 forward is maintained (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21654">GH21654</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.get_loc_level()</span></code> (and as a consequence, <code class="docutils literal notranslate"><span class="pre">.loc</span></code> on a <code class="docutils literal notranslate"><span class="pre">Series</span></code> or <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> with a <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code> index) will now raise a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>, rather than returning an empty <code class="docutils literal notranslate"><span class="pre">slice</span></code>, if asked a label which is present in the <code class="docutils literal notranslate"><span class="pre">levels</span></code> but is unused (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22221">GH22221</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code> has gained the <code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.from_frame()</span></code>, it allows constructing a <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code> object from a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22420">GH22420</a>)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> in Python 3 when creating <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code> in which some levels have mixed types, e.g. when some labels are tuples (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15457">GH15457</a>)</p></li>
</ul>
</div>
<div class="section" id="i-o">
<h3>I/O<a class="headerlink" href="#i-o" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> in which a column specified with <code class="docutils literal notranslate"><span class="pre">CategoricalDtype</span></code> of boolean categories was not being correctly coerced from string values to booleans (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20498">GH20498</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> in which unicode column names were not being properly recognized with Python 2.x (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13253">GH13253</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_sql()</span></code> when writing timezone aware data (<code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> dtype) would raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9086">GH9086</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_sql()</span></code> where a naive <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> would be written as <code class="docutils literal notranslate"><span class="pre">TIMESTAMP</span> <span class="pre">WITH</span> <span class="pre">TIMEZONE</span></code> type in supported databases, e.g. PostgreSQL (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23510">GH23510</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">read_excel()</span></code> when <code class="docutils literal notranslate"><span class="pre">parse_cols</span></code> is specified with an empty dataset (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9208">GH9208</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code> no longer ignores all-whitespace <code class="docutils literal notranslate"><span class="pre">&lt;tr&gt;</span></code> within <code class="docutils literal notranslate"><span class="pre">&lt;thead&gt;</span></code> when considering the <code class="docutils literal notranslate"><span class="pre">skiprows</span></code> and <code class="docutils literal notranslate"><span class="pre">header</span></code> arguments. Previously, users had to decrease their <code class="docutils literal notranslate"><span class="pre">header</span></code> and <code class="docutils literal notranslate"><span class="pre">skiprows</span></code> values on such tables to work around the issue. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21641">GH21641</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code> will correctly show the deprecation warning for previously deprecated <code class="docutils literal notranslate"><span class="pre">sheetname</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17994">GH17994</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">read_table()</span></code> will throw <code class="docutils literal notranslate"><span class="pre">UnicodeError</span></code> and not coredump on badly encoded strings (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22748">GH22748</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> will correctly parse timezone-aware datetimes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22256">GH22256</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> in which memory management was prematurely optimized for the C engine when the data was being read in chunks (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23509">GH23509</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> in unnamed columns were being improperly identified when extracting a multi-index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23687">GH23687</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sas()</span></code> will parse numbers in sas7bdat-files that have width less than 8 bytes correctly. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21616">GH21616</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sas()</span></code> will correctly parse sas7bdat files with many columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22628">GH22628</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sas()</span></code> will correctly parse sas7bdat files with data page types having also bit 7 set (so page type is 128 + 256 = 384) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16615">GH16615</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_sas()</span></code> in which an incorrect error was raised on an invalid file format. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24548">GH24548</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">detect_client_encoding()</span></code> where potential <code class="docutils literal notranslate"><span class="pre">IOError</span></code> goes unhandled when importing in a mod_wsgi process due to restricted access to stdout. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21552">GH21552</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code> with <code class="docutils literal notranslate"><span class="pre">index=False</span></code> misses truncation indicators (…) on truncated DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15019">GH15019</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22783">GH22783</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code> with <code class="docutils literal notranslate"><span class="pre">index=False</span></code> when both columns and row index are <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22579">GH22579</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code> with <code class="docutils literal notranslate"><span class="pre">index_names=False</span></code> displaying index name (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22747">GH22747</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code> with <code class="docutils literal notranslate"><span class="pre">header=False</span></code> not displaying row index names (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23788">GH23788</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code> with <code class="docutils literal notranslate"><span class="pre">sparsify=False</span></code> that caused it to raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22887">GH22887</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_string()</span></code> that broke column alignment when <code class="docutils literal notranslate"><span class="pre">index=False</span></code> and width of first column’s values is greater than the width of first column’s header (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/16839">GH16839</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13032">GH13032</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_string()</span></code> that caused representations of <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> to not take up the whole window (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22984">GH22984</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code> where a single level MultiIndex incorrectly wrote a tuple. Now just the value of the index is written (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19589">GH19589</a>).</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">HDFStore</span></code> will raise <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> when the <code class="docutils literal notranslate"><span class="pre">format</span></code> kwarg is passed to the constructor (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13291">GH13291</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">HDFStore.append()</span></code> when appending a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> with an empty string column and <code class="docutils literal notranslate"><span class="pre">min_itemsize</span></code> &lt; 8 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12242">GH12242</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> in which memory leaks occurred in the C engine when parsing <code class="docutils literal notranslate"><span class="pre">NaN</span></code> values due to insufficient cleanup on completion or error (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21353">GH21353</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> in which incorrect error messages were being raised when <code class="docutils literal notranslate"><span class="pre">skipfooter</span></code> was passed in along with <code class="docutils literal notranslate"><span class="pre">nrows</span></code>, <code class="docutils literal notranslate"><span class="pre">iterator</span></code>, or <code class="docutils literal notranslate"><span class="pre">chunksize</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23711">GH23711</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> in which <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code> index names were being improperly handled in the cases when they were not provided (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23484">GH23484</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> in which unnecessary warnings were being raised when the dialect’s values conflicted with the default arguments (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23761">GH23761</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code> in which the error message was not displaying the valid flavors when an invalid one was provided (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23549">GH23549</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">read_excel()</span></code> in which extraneous header names were extracted, even though none were specified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11733">GH11733</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">read_excel()</span></code> in which column names were not being properly converted to string sometimes in Python 2.x (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23874">GH23874</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">read_excel()</span></code> in which <code class="docutils literal notranslate"><span class="pre">index_col=None</span></code> was not being respected and parsing index columns anyway (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18792">GH18792</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20480">GH20480</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">read_excel()</span></code> in which <code class="docutils literal notranslate"><span class="pre">usecols</span></code> was not being validated for proper column names when passed in as a string (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20480">GH20480</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_dict()</span></code> when the resulting dict contains non-Python scalars in the case of numeric data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23753">GH23753</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_string()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code> will correctly format output when a string is passed as the <code class="docutils literal notranslate"><span class="pre">float_format</span></code> argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21625">GH21625</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22270">GH22270</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> that caused it to raise <code class="docutils literal notranslate"><span class="pre">OverflowError</span></code> when trying to use ‘inf’ as <code class="docutils literal notranslate"><span class="pre">na_value</span></code> with integer index column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/17128">GH17128</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code> that caused the C engine on Python 3.6+ on Windows to improperly read CSV filenames with accented or special characters (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15086">GH15086</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_fwf()</span></code> in which the compression type of a file was not being properly inferred (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22199">GH22199</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.io.json.json_normalize()</span></code> that caused it to raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> when two consecutive elements of <code class="docutils literal notranslate"><span class="pre">record_path</span></code> are dicts (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22706">GH22706</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_stata()</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.io.stata.StataWriter</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.io.stata.StataWriter117</span></code> where a exception would leave a partially written and invalid dta file (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23573">GH23573</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_stata()</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.io.stata.StataWriter117</span></code> that produced invalid files when using strLs with non-ASCII characters (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23573">GH23573</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">HDFStore</span></code> that caused it to raise <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> when reading a Dataframe in Python 3 from fixed format written in Python 2 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24510">GH24510</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_string()</span></code> and more generally in the floating <code class="docutils literal notranslate"><span class="pre">repr</span></code> formatter. Zeros were not trimmed if <code class="docutils literal notranslate"><span class="pre">inf</span></code> was present in a columns while it was the case with NA values. Zeros are now trimmed as in the presence of NA (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24861">GH24861</a>).</p></li>
<li><p>Bug in the <code class="docutils literal notranslate"><span class="pre">repr</span></code> when truncating the number of columns and having a wide last column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24849">GH24849</a>).</p></li>
</ul>
</div>
<div class="section" id="plotting">
<h3>Plotting<a class="headerlink" href="#plotting" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.plot.scatter()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.plot.hexbin()</span></code> caused x-axis label and ticklabels to disappear when colorbar was on in IPython inline backend (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10611">GH10611</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10678">GH10678</a>, and <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20455">GH20455</a>)</p></li>
<li><p>Bug in plotting a Series with datetimes using <code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.scatter()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22039">GH22039</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.plot.bar()</span></code> caused bars to use multiple colors instead of a single one (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20585">GH20585</a>)</p></li>
<li><p>Bug in validating color parameter caused extra color to be appended to the given color array. This happened to multiple plotting functions using matplotlib. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20726">GH20726</a>)</p></li>
</ul>
</div>
<div class="section" id="groupby-resample-rolling">
<h3>Groupby/resample/rolling<a class="headerlink" href="#groupby-resample-rolling" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.window.Rolling.min()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.window.Rolling.max()</span></code> with <code class="docutils literal notranslate"><span class="pre">closed='left'</span></code>, a datetime-like index and only one entry in the series leading to segfault (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24718">GH24718</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.GroupBy.first()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.GroupBy.last()</span></code> with <code class="docutils literal notranslate"><span class="pre">as_index=False</span></code> leading to the loss of timezone information (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15884">GH15884</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DateFrame.resample()</span></code> when downsampling across a DST boundary (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8531">GH8531</a>)</p></li>
<li><p>Bug in date anchoring for <code class="xref py py-meth docutils literal notranslate"><span class="pre">DateFrame.resample()</span></code> with offset <code class="xref py py-class docutils literal notranslate"><span class="pre">Day</span></code> when n &gt; 1 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24127">GH24127</a>)</p></li>
<li><p>Bug where <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is wrongly raised when calling <code class="xref py py-func docutils literal notranslate"><span class="pre">count()</span></code> method of a
<code class="docutils literal notranslate"><span class="pre">SeriesGroupBy</span></code> when the grouping variable only contains NaNs and numpy version &lt; 1.13 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21956">GH21956</a>).</p></li>
<li><p>Multiple bugs in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.window.Rolling.min()</span></code> with <code class="docutils literal notranslate"><span class="pre">closed='left'</span></code> and a
datetime-like index leading to incorrect results and also segfault. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21704">GH21704</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.core.resample.Resampler.apply()</span></code> when passing positional arguments to applied func (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14615">GH14615</a>).</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.resample()</span></code> when passing <code class="docutils literal notranslate"><span class="pre">numpy.timedelta64</span></code> to <code class="docutils literal notranslate"><span class="pre">loffset</span></code> kwarg (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7687">GH7687</a>).</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.core.resample.Resampler.asfreq()</span></code> when frequency of <code class="docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> is a subperiod of a new frequency (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13022">GH13022</a>).</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.core.groupby.SeriesGroupBy.mean()</span></code> when values were integral but could not fit inside of int64, overflowing instead. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22487">GH22487</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.RollingGroupby.agg()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.ExpandingGroupby.agg()</span></code> now support multiple aggregation functions as parameters (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15072">GH15072</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.resample()</span></code> when resampling by a weekly offset (<code class="docutils literal notranslate"><span class="pre">'W'</span></code>) across a DST transition (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9119">GH9119</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21459">GH21459</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.expanding()</span></code> in which the <code class="docutils literal notranslate"><span class="pre">axis</span></code> argument was not being respected during aggregations (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23372">GH23372</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.core.groupby.GroupBy.transform()</span></code> which caused missing values when the input function can accept a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> but renames it (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23455">GH23455</a>).</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.GroupBy.nth()</span></code> where column order was not always preserved (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20760">GH20760</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.core.groupby.GroupBy.rank()</span></code> with <code class="docutils literal notranslate"><span class="pre">method='dense'</span></code> and <code class="docutils literal notranslate"><span class="pre">pct=True</span></code> when a group has only one member would raise a <code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23666">GH23666</a>).</p></li>
<li><p>Calling <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.core.groupby.GroupBy.rank()</span></code> with empty groups and <code class="docutils literal notranslate"><span class="pre">pct=True</span></code> was raising a <code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22519">GH22519</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code> when resampling <code class="docutils literal notranslate"><span class="pre">NaT</span></code> in <code class="docutils literal notranslate"><span class="pre">TimeDeltaIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13223">GH13223</a>).</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code> did not respect the <code class="docutils literal notranslate"><span class="pre">observed</span></code> argument when selecting a column and instead always used <code class="docutils literal notranslate"><span class="pre">observed=False</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23970">GH23970</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.SeriesGroupBy.pct_change()</span></code> or <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.DataFrameGroupBy.pct_change()</span></code> would previously work across groups when calculating the percent change, where it now correctly works per group (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21200">GH21200</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21235">GH21235</a>).</p></li>
<li><p>Bug preventing hash table creation with very large number (2^32) of rows (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22805">GH22805</a>)</p></li>
<li><p>Bug in groupby when grouping on categorical causes <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> and incorrect grouping if <code class="docutils literal notranslate"><span class="pre">observed=True</span></code> and <code class="docutils literal notranslate"><span class="pre">nan</span></code> is present in categorical column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24740">GH24740</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21151">GH21151</a>).</p></li>
</ul>
</div>
<div class="section" id="reshaping">
<h3>Reshaping<a class="headerlink" href="#reshaping" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.concat()</span></code> when joining resampled DataFrames with timezone aware index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13783">GH13783</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.concat()</span></code> when joining only <cite>Series</cite> the <cite>names</cite> argument of <cite>concat</cite> is no longer ignored (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23490">GH23490</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.combine_first()</span></code> with <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> dtype which would return tz-naive result (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21469">GH21469</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.where()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.where()</span></code> with <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21546">GH21546</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.where()</span></code> with an empty DataFrame and empty <code class="docutils literal notranslate"><span class="pre">cond</span></code> having non-bool dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21947">GH21947</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.mask()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.mask()</span></code> with <code class="docutils literal notranslate"><span class="pre">list</span></code> conditionals (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21891">GH21891</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code> raises RecursionError when converting OutOfBounds <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20380">GH20380</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.core.groupby.GroupBy.rank()</span></code> now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> when an invalid value is passed for argument <code class="docutils literal notranslate"><span class="pre">na_option</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22124">GH22124</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">get_dummies()</span></code> with Unicode attributes in Python 2 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22084">GH22084</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code> raises <code class="docutils literal notranslate"><span class="pre">RecursionError</span></code> when replacing empty lists (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22083">GH22083</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code> when dict is used as the <code class="docutils literal notranslate"><span class="pre">to_replace</span></code> value and one key in the dict is is another key’s value, the results were inconsistent between using integer key and using string key (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20656">GH20656</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.drop_duplicates()</span></code> for empty <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> which incorrectly raises an error (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20516">GH20516</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.wide_to_long()</span></code> when a string is passed to the stubnames argument and a column name is a substring of that stubname (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22468">GH22468</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">merge()</span></code> when merging <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> data that contained a DST transition (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18885">GH18885</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">merge_asof()</span></code> when merging on float values within defined tolerance (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22981">GH22981</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.concat()</span></code> when concatenating a multicolumn DataFrame with tz-aware data against a DataFrame with a different number of columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22796">GH22796</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">merge_asof()</span></code> where confusing error message raised when attempting to merge with missing values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23189">GH23189</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.nsmallest()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.nlargest()</span></code> for dataframes that have a <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code> for columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23033">GH23033</a>).</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.melt()</span></code> when passing column names that are not present in <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23575">GH23575</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.append()</span></code> with a <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> with a dateutil timezone would raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23682">GH23682</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> construction when passing no data and <code class="docutils literal notranslate"><span class="pre">dtype=str</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22477">GH22477</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">cut()</span></code> with <code class="docutils literal notranslate"><span class="pre">bins</span></code> as an overlapping <code class="docutils literal notranslate"><span class="pre">IntervalIndex</span></code> where multiple bins were returned per item instead of raising a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23980">GH23980</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.concat()</span></code> when joining <code class="docutils literal notranslate"><span class="pre">Series</span></code> datetimetz with <code class="docutils literal notranslate"><span class="pre">Series</span></code> category would lose timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23816">GH23816</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.join()</span></code> when joining on partial MultiIndex would drop names (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20452">GH20452</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.nlargest()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.nsmallest()</span></code> now returns the correct n values when keep != ‘all’ also when tied on the first columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22752">GH22752</a>)</p></li>
<li><p>Constructing a DataFrame with an index argument that wasn’t already an instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> was broken (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22227">GH22227</a>).</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> prevented list subclasses to be used to construction (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21226">GH21226</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.unstack()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.pivot_table()</span></code> returning a missleading error message when the resulting DataFrame has more elements than int32 can handle. Now, the error message is improved, pointing towards the actual problem (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20601">GH20601</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.unstack()</span></code> where a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> was raised when unstacking timezone aware values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/18338">GH18338</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.stack()</span></code> where timezone aware values were converted to timezone naive values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19420">GH19420</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">merge_asof()</span></code> where a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> was raised when <code class="docutils literal notranslate"><span class="pre">by_col</span></code> were timezone aware values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21184">GH21184</a>)</p></li>
<li><p>Bug showing an incorrect shape when throwing error during <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> construction. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/20742">GH20742</a>)</p></li>
</ul>
</div>
<div class="section" id="sparse">
<span id="whatsnew-0240-bug-fixes-sparse"></span><h3>Sparse<a class="headerlink" href="#sparse" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Updating a boolean, datetime, or timedelta column to be Sparse now works (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22367">GH22367</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_sparse()</span></code> with Series already holding sparse data not constructing properly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22389">GH22389</a>)</p></li>
<li><p>Providing a <code class="docutils literal notranslate"><span class="pre">sparse_index</span></code> to the SparseArray constructor no longer defaults the na-value to <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> for all dtypes. The correct na_value for <code class="docutils literal notranslate"><span class="pre">data.dtype</span></code> is now used.</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">SparseArray.nbytes</span></code> under-reporting its memory usage by not including the size of its sparse index.</p></li>
<li><p>Improved performance of <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.shift()</span></code> for non-NA <code class="docutils literal notranslate"><span class="pre">fill_value</span></code>, as values are no longer converted to a dense array.</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">DataFrame.groupby</span></code> not including <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> in the groups for non-NA <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> when grouping by a sparse column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5078">GH5078</a>)</p></li>
<li><p>Bug in unary inversion operator (<code class="docutils literal notranslate"><span class="pre">~</span></code>) on a <code class="docutils literal notranslate"><span class="pre">SparseSeries</span></code> with boolean values. The performance of this has also been improved (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22835">GH22835</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">SparseArary.unique()</span></code> not returning the unique values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/19595">GH19595</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">SparseArray.nonzero()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">SparseDataFrame.dropna()</span></code> returning shifted/incorrect results (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21172">GH21172</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.apply()</span></code> where dtypes would lose sparseness (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23744">GH23744</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code> when concatenating a list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> with all-sparse values changing the <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> and converting to a dense Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24371">GH24371</a>)</p></li>
</ul>
</div>
<div class="section" id="style">
<h3>Style<a class="headerlink" href="#style" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">background_gradient()</span></code> now takes a <code class="docutils literal notranslate"><span class="pre">text_color_threshold</span></code> parameter to automatically lighten the text color based on the luminance of the background color. This improves readability with dark background colors without the need to limit the background colormap range. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21258">GH21258</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">background_gradient()</span></code> now also supports tablewise application (in addition to rowwise and columnwise) with <code class="docutils literal notranslate"><span class="pre">axis=None</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/15204">GH15204</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">bar()</span></code> now also supports tablewise application (in addition to rowwise and columnwise) with <code class="docutils literal notranslate"><span class="pre">axis=None</span></code> and setting clipping range with <code class="docutils literal notranslate"><span class="pre">vmin</span></code> and <code class="docutils literal notranslate"><span class="pre">vmax</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21548">GH21548</a> and <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21526">GH21526</a>). <code class="docutils literal notranslate"><span class="pre">NaN</span></code> values are also handled properly.</p></li>
</ul>
</div>
<div class="section" id="build-changes">
<h3>Build changes<a class="headerlink" href="#build-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Building pandas for development now requires <code class="docutils literal notranslate"><span class="pre">cython</span> <span class="pre">&gt;=</span> <span class="pre">0.28.2</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/21688">GH21688</a>)</p></li>
<li><p>Testing pandas now requires <code class="docutils literal notranslate"><span class="pre">hypothesis&gt;=3.58</span></code>.  You can find <a class="reference external" href="https://hypothesis.readthedocs.io/en/latest/index.html">the Hypothesis docs here</a>, and a pandas-specific introduction <a class="reference internal" href="../development/contributing.html#using-hypothesis"><span class="std std-ref">in the contributing guide</span></a>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/22280">GH22280</a>)</p></li>
<li><p>Building pandas on macOS now targets minimum macOS 10.9 if run on macOS 10.9 or above (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/23424">GH23424</a>)</p></li>
</ul>
</div>
<div class="section" id="other">
<h3>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug where C variables were declared with external linkage causing import errors if certain other C libraries were imported before Pandas. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/24113">GH24113</a>)</p></li>
</ul>
</div>
</div>
<div class="section" id="contributors">
<span id="whatsnew-0-24-0-contributors"></span><h2>Contributors<a class="headerlink" href="#contributors" title="Permalink to this headline">¶</a></h2>
<p>A total of 337 people contributed patches to this release.  People with a
“+” by their names contributed a patch for the first time.
</p>
<ul class="simple">
<li><p>AJ Dyka +</p></li>
<li><p>AJ Pryor, Ph.D +</p></li>
<li><p>Aaron Critchley</p></li>
<li><p>Adam Hooper</p></li>
<li><p>Adam J. Stewart</p></li>
<li><p>Adam Kim</p></li>
<li><p>Adam Klimont +</p></li>
<li><p>Addison Lynch +</p></li>
<li><p>Alan Hogue +</p></li>
<li><p>Alex Radu +</p></li>
<li><p>Alex Rychyk</p></li>
<li><p>Alex Strick van Linschoten +</p></li>
<li><p>Alex Volkov +</p></li>
<li><p>Alexander Buchkovsky</p></li>
<li><p>Alexander Hess +</p></li>
<li><p>Alexander Ponomaroff +</p></li>
<li><p>Allison Browne +</p></li>
<li><p>Aly Sivji</p></li>
<li><p>Andrew</p></li>
<li><p>Andrew Gross +</p></li>
<li><p>Andrew Spott +</p></li>
<li><p>Andy +</p></li>
<li><p>Aniket uttam +</p></li>
<li><p>Anjali2019 +</p></li>
<li><p>Anjana S +</p></li>
<li><p>Antti Kaihola +</p></li>
<li><p>Anudeep Tubati +</p></li>
<li><p>Arjun Sharma +</p></li>
<li><p>Armin Varshokar</p></li>
<li><p>Artem Bogachev</p></li>
<li><p>ArtinSarraf +</p></li>
<li><p>Barry Fitzgerald +</p></li>
<li><p>Bart Aelterman +</p></li>
<li><p>Ben James +</p></li>
<li><p>Ben Nelson +</p></li>
<li><p>Benjamin Grove +</p></li>
<li><p>Benjamin Rowell +</p></li>
<li><p>Benoit Paquet +</p></li>
<li><p>Boris Lau +</p></li>
<li><p>Brett Naul</p></li>
<li><p>Brian Choi +</p></li>
<li><p>C.A.M. Gerlach +</p></li>
<li><p>Carl Johan +</p></li>
<li><p>Chalmer Lowe</p></li>
<li><p>Chang She</p></li>
<li><p>Charles David +</p></li>
<li><p>Cheuk Ting Ho</p></li>
<li><p>Chris</p></li>
<li><p>Chris Roberts +</p></li>
<li><p>Christopher Whelan</p></li>
<li><p>Chu Qing Hao +</p></li>
<li><p>Da Cheezy Mobsta +</p></li>
<li><p>Damini Satya</p></li>
<li><p>Daniel Himmelstein</p></li>
<li><p>Daniel Saxton +</p></li>
<li><p>Darcy Meyer +</p></li>
<li><p>DataOmbudsman</p></li>
<li><p>David Arcos</p></li>
<li><p>David Krych</p></li>
<li><p>Dean Langsam +</p></li>
<li><p>Diego Argueta +</p></li>
<li><p>Diego Torres +</p></li>
<li><p>Dobatymo +</p></li>
<li><p>Doug Latornell +</p></li>
<li><p>Dr. Irv</p></li>
<li><p>Dylan Dmitri Gray +</p></li>
<li><p>Eric Boxer +</p></li>
<li><p>Eric Chea</p></li>
<li><p>Erik +</p></li>
<li><p>Erik Nilsson +</p></li>
<li><p>Fabian Haase +</p></li>
<li><p>Fabian Retkowski</p></li>
<li><p>Fabien Aulaire +</p></li>
<li><p>Fakabbir Amin +</p></li>
<li><p>Fei Phoon +</p></li>
<li><p>Fernando Margueirat +</p></li>
<li><p>Florian Müller +</p></li>
<li><p>Fábio Rosado +</p></li>
<li><p>Gabe Fernando</p></li>
<li><p>Gabriel Reid +</p></li>
<li><p>Giftlin Rajaiah</p></li>
<li><p>Gioia Ballin +</p></li>
<li><p>Gjelt</p></li>
<li><p>Gosuke Shibahara +</p></li>
<li><p>Graham Inggs</p></li>
<li><p>Guillaume Gay</p></li>
<li><p>Guillaume Lemaitre +</p></li>
<li><p>Hannah Ferchland</p></li>
<li><p>Haochen Wu</p></li>
<li><p>Hubert +</p></li>
<li><p>HubertKl +</p></li>
<li><p>HyunTruth +</p></li>
<li><p>Iain Barr</p></li>
<li><p>Ignacio Vergara Kausel +</p></li>
<li><p>Irv Lustig +</p></li>
<li><p>IsvenC +</p></li>
<li><p>Jacopo Rota</p></li>
<li><p>Jakob Jarmar +</p></li>
<li><p>James Bourbeau +</p></li>
<li><p>James Myatt +</p></li>
<li><p>James Winegar +</p></li>
<li><p>Jan Rudolph</p></li>
<li><p>Jared Groves +</p></li>
<li><p>Jason Kiley +</p></li>
<li><p>Javad Noorbakhsh +</p></li>
<li><p>Jay Offerdahl +</p></li>
<li><p>Jeff Reback</p></li>
<li><p>Jeongmin Yu +</p></li>
<li><p>Jeremy Schendel</p></li>
<li><p>Jerod Estapa +</p></li>
<li><p>Jesper Dramsch +</p></li>
<li><p>Jim Jeon +</p></li>
<li><p>Joe Jevnik</p></li>
<li><p>Joel Nothman</p></li>
<li><p>Joel Ostblom +</p></li>
<li><p>Jordi Contestí</p></li>
<li><p>Jorge López Fueyo +</p></li>
<li><p>Joris Van den Bossche</p></li>
<li><p>Jose Quinones +</p></li>
<li><p>Jose Rivera-Rubio +</p></li>
<li><p>Josh</p></li>
<li><p>Jun +</p></li>
<li><p>Justin Zheng +</p></li>
<li><p>Kaiqi Dong +</p></li>
<li><p>Kalyan Gokhale</p></li>
<li><p>Kang Yoosam +</p></li>
<li><p>Karl Dunkle Werner +</p></li>
<li><p>Karmanya Aggarwal +</p></li>
<li><p>Kevin Markham +</p></li>
<li><p>Kevin Sheppard</p></li>
<li><p>Kimi Li +</p></li>
<li><p>Koustav Samaddar +</p></li>
<li><p>Krishna +</p></li>
<li><p>Kristian Holsheimer +</p></li>
<li><p>Ksenia Gueletina +</p></li>
<li><p>Kyle Prestel +</p></li>
<li><p>LJ +</p></li>
<li><p>LeakedMemory +</p></li>
<li><p>Li Jin +</p></li>
<li><p>Licht Takeuchi</p></li>
<li><p>Luca Donini +</p></li>
<li><p>Luciano Viola +</p></li>
<li><p>Mak Sze Chun +</p></li>
<li><p>Marc Garcia</p></li>
<li><p>Marius Potgieter +</p></li>
<li><p>Mark Sikora +</p></li>
<li><p>Markus Meier +</p></li>
<li><p>Marlene Silva Marchena +</p></li>
<li><p>Martin Babka +</p></li>
<li><p>MatanCohe +</p></li>
<li><p>Mateusz Woś +</p></li>
<li><p>Mathew Topper +</p></li>
<li><p>Matt Boggess +</p></li>
<li><p>Matt Cooper +</p></li>
<li><p>Matt Williams +</p></li>
<li><p>Matthew Gilbert</p></li>
<li><p>Matthew Roeschke</p></li>
<li><p>Max Kanter</p></li>
<li><p>Michael Odintsov</p></li>
<li><p>Michael Silverstein +</p></li>
<li><p>Michael-J-Ward +</p></li>
<li><p>Mickaël Schoentgen +</p></li>
<li><p>Miguel Sánchez de León Peque +</p></li>
<li><p>Ming Li</p></li>
<li><p>Mitar</p></li>
<li><p>Mitch Negus</p></li>
<li><p>Monson Shao +</p></li>
<li><p>Moonsoo Kim +</p></li>
<li><p>Mortada Mehyar</p></li>
<li><p>Myles Braithwaite</p></li>
<li><p>Nehil Jain +</p></li>
<li><p>Nicholas Musolino +</p></li>
<li><p>Nicolas Dickreuter +</p></li>
<li><p>Nikhil Kumar Mengani +</p></li>
<li><p>Nikoleta Glynatsi +</p></li>
<li><p>Ondrej Kokes</p></li>
<li><p>Pablo Ambrosio +</p></li>
<li><p>Pamela Wu +</p></li>
<li><p>Parfait G +</p></li>
<li><p>Patrick Park +</p></li>
<li><p>Paul</p></li>
<li><p>Paul Ganssle</p></li>
<li><p>Paul Reidy</p></li>
<li><p>Paul van Mulbregt +</p></li>
<li><p>Phillip Cloud</p></li>
<li><p>Pietro Battiston</p></li>
<li><p>Piyush Aggarwal +</p></li>
<li><p>Prabakaran Kumaresshan +</p></li>
<li><p>Pulkit Maloo</p></li>
<li><p>Pyry Kovanen</p></li>
<li><p>Rajib Mitra +</p></li>
<li><p>Redonnet Louis +</p></li>
<li><p>Rhys Parry +</p></li>
<li><p>Rick +</p></li>
<li><p>Robin</p></li>
<li><p>Roei.r +</p></li>
<li><p>RomainSa +</p></li>
<li><p>Roman Imankulov +</p></li>
<li><p>Roman Yurchak +</p></li>
<li><p>Ruijing Li +</p></li>
<li><p>Ryan +</p></li>
<li><p>Ryan Nazareth +</p></li>
<li><p>Rüdiger Busche +</p></li>
<li><p>SEUNG HOON, SHIN +</p></li>
<li><p>Sandrine Pataut +</p></li>
<li><p>Sangwoong Yoon</p></li>
<li><p>Santosh Kumar +</p></li>
<li><p>Saurav Chakravorty +</p></li>
<li><p>Scott McAllister +</p></li>
<li><p>Sean Chan +</p></li>
<li><p>Shadi Akiki +</p></li>
<li><p>Shengpu Tang +</p></li>
<li><p>Shirish Kadam +</p></li>
<li><p>Simon Hawkins +</p></li>
<li><p>Simon Riddell +</p></li>
<li><p>Simone Basso</p></li>
<li><p>Sinhrks</p></li>
<li><p>Soyoun(Rose) Kim +</p></li>
<li><p>Srinivas Reddy Thatiparthy (శ్రీనివాస్  రెడ్డి తాటిపర్తి) +</p></li>
<li><p>Stefaan Lippens +</p></li>
<li><p>Stefano Cianciulli</p></li>
<li><p>Stefano Miccoli +</p></li>
<li><p>Stephen Childs</p></li>
<li><p>Stephen Pascoe</p></li>
<li><p>Steve Baker +</p></li>
<li><p>Steve Cook +</p></li>
<li><p>Steve Dower +</p></li>
<li><p>Stéphan Taljaard +</p></li>
<li><p>Sumin Byeon +</p></li>
<li><p>Sören +</p></li>
<li><p>Tamas Nagy +</p></li>
<li><p>Tanya Jain +</p></li>
<li><p>Tarbo Fukazawa</p></li>
<li><p>Thein Oo +</p></li>
<li><p>Thiago Cordeiro da Fonseca +</p></li>
<li><p>Thierry Moisan</p></li>
<li><p>Thiviyan Thanapalasingam +</p></li>
<li><p>Thomas Lentali +</p></li>
<li><p>Tim D. Smith +</p></li>
<li><p>Tim Swast</p></li>
<li><p>Tom Augspurger</p></li>
<li><p>Tomasz Kluczkowski +</p></li>
<li><p>Tony Tao +</p></li>
<li><p>Triple0 +</p></li>
<li><p>Troels Nielsen +</p></li>
<li><p>Tuhin Mahmud +</p></li>
<li><p>Tyler Reddy +</p></li>
<li><p>Uddeshya Singh</p></li>
<li><p>Uwe L. Korn +</p></li>
<li><p>Vadym Barda +</p></li>
<li><p>Varad Gunjal +</p></li>
<li><p>Victor Maryama +</p></li>
<li><p>Victor Villas</p></li>
<li><p>Vincent La</p></li>
<li><p>Vitória Helena +</p></li>
<li><p>Vu Le</p></li>
<li><p>Vyom Jain +</p></li>
<li><p>Weiwen Gu +</p></li>
<li><p>Wenhuan</p></li>
<li><p>Wes Turner</p></li>
<li><p>Wil Tan +</p></li>
<li><p>William Ayd</p></li>
<li><p>Yeojin Kim +</p></li>
<li><p>Yitzhak Andrade +</p></li>
<li><p>Yuecheng Wu +</p></li>
<li><p>Yuliya Dovzhenko +</p></li>
<li><p>Yury Bayda +</p></li>
<li><p>Zac Hatfield-Dodds +</p></li>
<li><p>aberres +</p></li>
<li><p>aeltanawy +</p></li>
<li><p>ailchau +</p></li>
<li><p>alimcmaster1</p></li>
<li><p>alphaCTzo7G +</p></li>
<li><p>amphy +</p></li>
<li><p>araraonline +</p></li>
<li><p>azure-pipelines[bot] +</p></li>
<li><p>benarthur91 +</p></li>
<li><p>bk521234 +</p></li>
<li><p>cgangwar11 +</p></li>
<li><p>chris-b1</p></li>
<li><p>cxl923cc +</p></li>
<li><p>dahlbaek +</p></li>
<li><p>dannyhyunkim +</p></li>
<li><p>darke-spirits +</p></li>
<li><p>david-liu-brattle-1</p></li>
<li><p>davidmvalente +</p></li>
<li><p>deflatSOCO</p></li>
<li><p>doosik_bae +</p></li>
<li><p>dylanchase +</p></li>
<li><p>eduardo naufel schettino +</p></li>
<li><p>euri10 +</p></li>
<li><p>evangelineliu +</p></li>
<li><p>fengyqf +</p></li>
<li><p>fjdiod</p></li>
<li><p>fl4p +</p></li>
<li><p>fleimgruber +</p></li>
<li><p>gfyoung</p></li>
<li><p>h-vetinari</p></li>
<li><p>harisbal +</p></li>
<li><p>henriqueribeiro +</p></li>
<li><p>himanshu awasthi</p></li>
<li><p>hongshaoyang +</p></li>
<li><p>igorfassen +</p></li>
<li><p>jalazbe +</p></li>
<li><p>jbrockmendel</p></li>
<li><p>jh-wu +</p></li>
<li><p>justinchan23 +</p></li>
<li><p>louispotok</p></li>
<li><p>marcosrullan +</p></li>
<li><p>miker985</p></li>
<li><p>nicolab100 +</p></li>
<li><p>nprad</p></li>
<li><p>nsuresh +</p></li>
<li><p>ottiP</p></li>
<li><p>pajachiet +</p></li>
<li><p>raguiar2 +</p></li>
<li><p>ratijas +</p></li>
<li><p>realead +</p></li>
<li><p>robbuckley +</p></li>
<li><p>saurav2608 +</p></li>
<li><p>sideeye +</p></li>
<li><p>ssikdar1</p></li>
<li><p>svenharris +</p></li>
<li><p>syutbai +</p></li>
<li><p>testvinder +</p></li>
<li><p>thatneat</p></li>
<li><p>tmnhat2001</p></li>
<li><p>tomascassidy +</p></li>
<li><p>tomneep</p></li>
<li><p>topper-123</p></li>
<li><p>vkk800 +</p></li>
<li><p>winlu +</p></li>
<li><p>ym-pett +</p></li>
<li><p>yrhooke +</p></li>
<li><p>ywpark1 +</p></li>
<li><p>zertrin</p></li>
<li><p>zhezherun +</p></li>
</ul>
</div>
</div>


              </div>
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="v0.24.1.html" title="previous page">Whats new in 0.24.1 (February 3, 2019)</a>
    <a class='right-next' id="next-link" href="v0.23.4.html" title="next page">What’s new in 0.23.4 (August 3, 2018)</a>

              </div>
              
          </main>

      </div>
    </div><script>
    // TOC sidebar - add "active" class to parent list
    //
    // Bootstrap's scrollspy adds the active class to the <a> link,
    // but for the automatic collapsing we need this on the parent list item.
    //
    // The event is triggered on "window" (and not the nav item as documented),
    // see https://github.com/twbs/bootstrap/issues/20086
    $(window).on("activate.bs.scrollspy", function(){
    var navLinks = document.querySelectorAll('#bd-toc-nav a');
    for (var i = 0; i < navLinks.length; i++) {
        var navLink = navLinks[i];
        navLink.parentElement.classList.remove('active');
    }
    var navLinks = document.querySelectorAll('#bd-toc-nav a.active');
    for (var i = 0; i < navLinks.length; i++) {
        var navLink = navLinks[i];
        navLink.parentElement.classList.add('active');
    }
    });

    /**
     * Use left and right arrow keys to navigate forward and backwards.
    */
    const LEFT_ARROW_KEYCODE = 37
    const RIGHT_ARROW_KEYCODE = 39

    const getPrevUrl = () => document.getElementById('prev-link').href
    const getNextUrl = () => document.getElementById('next-link').href
    const initPageNav = (event) => {
        const keycode = event.which

        if (keycode === LEFT_ARROW_KEYCODE) {
            window.location.href = getPrevUrl();
        } else if (keycode === RIGHT_ARROW_KEYCODE) {
            window.location.href = getNextUrl();
        }
    };

    var keyboardListener = false;
    $( document ).ready(() => {
        if (keyboardListener === false) {
            document.addEventListener('keydown', initPageNav)
            keyboardListener = true;
        }
    });
</script>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2008-2020, the pandas development team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.0.
    </div>
  </body>
</html>